(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},Vl={};var $_;function mS(){if($_)return Vl;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var J_;function gS(){return J_||(J_=1,Md.exports=mS()),Md.exports}var S=gS(),Vd={exports:{}},Rt={};var Z_;function pS(){if(Z_)return Rt;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,tt={};function mt(O,K,it){this.props=O,this.context=K,this.refs=tt,this.updater=it||X}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function pt(O,K,it){this.props=O,this.context=K,this.refs=tt,this.updater=it||X}var Dt=pt.prototype=new vt;Dt.constructor=pt,rt(Dt,mt.prototype),Dt.isPureReactComponent=!0;var Yt=Array.isArray;function kt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,K,it){var st=it.ref;return{$$typeof:s,type:O,key:K,ref:st!==void 0?st:null,props:it}}function V(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var R=/\/+/g;function se(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,it,st,Tt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case s:case t:Ot=!0;break;case b:return Ot=O._init,F(Ot(O._payload),K,it,st,Tt)}}if(Ot)return Tt=Tt(O),Ot=st===""?"."+se(O,0):st,Yt(Tt)?(it="",Ot!=null&&(it=Ot.replace(R,"$&/")+"/"),F(Tt,K,it,"",function(ts){return ts})):Tt!=null&&(D(Tt)&&(Tt=V(Tt,it+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Ot)),K.push(Tt)),1;Ot=0;var re=st===""?".":st+":";if(Yt(O))for(var le=0;le<O.length;le++)st=O[le],bt=re+se(st,le),Ot+=F(st,K,it,bt,Tt);else if(le=Q(O),typeof le=="function")for(O=le.call(O),le=0;!(st=O.next()).done;)st=st.value,bt=re+se(st,le++),Ot+=F(st,K,it,bt,Tt);else if(bt==="object"){if(typeof O.then=="function")return F(Re(O),K,it,st,Tt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function nt(O,K,it){if(O==null)return O;var st=[],Tt=0;return F(O,st,"","",function(bt){return K.call(it,bt,Tt++)}),st}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var qt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=A,Rt.Children=Xt,Rt.Component=mt,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=pt,Rt.StrictMode=r,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=rt({},O.props),Tt=O.key;if(K!=null)for(bt in K.key!==void 0&&(Tt=""+K.key),K)!w.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(st[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)st.children=it;else if(1<bt){for(var Ot=Array(bt),re=0;re<bt;re++)Ot[re]=arguments[re+2];st.children=Ot}return C(O.type,Tt,st)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,K,it){var st,Tt={},bt=null;if(K!=null)for(st in K.key!==void 0&&(bt=""+K.key),K)w.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Tt[st]=K[st]);var Ot=arguments.length-2;if(Ot===1)Tt.children=it;else if(1<Ot){for(var re=Array(Ot),le=0;le<Ot;le++)re[le]=arguments[le+2];Tt.children=re}if(O&&O.defaultProps)for(st in Ot=O.defaultProps,Ot)Tt[st]===void 0&&(Tt[st]=Ot[st]);return C(O,bt,Tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:g,render:O}},Rt.isValidElement=D,Rt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},Rt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Rt.startTransition=function(O){var K=N.T,it={};N.T=it;try{var st=O(),Tt=N.S;Tt!==null&&Tt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,qt)}catch(bt){qt(bt)}finally{K!==null&&it.types!==null&&(K.types=it.types),N.T=K}},Rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Rt.use=function(O){return N.H.use(O)},Rt.useActionState=function(O,K,it){return N.H.useActionState(O,K,it)},Rt.useCallback=function(O,K){return N.H.useCallback(O,K)},Rt.useContext=function(O){return N.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},Rt.useEffect=function(O,K){return N.H.useEffect(O,K)},Rt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Rt.useId=function(){return N.H.useId()},Rt.useImperativeHandle=function(O,K,it){return N.H.useImperativeHandle(O,K,it)},Rt.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},Rt.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},Rt.useMemo=function(O,K){return N.H.useMemo(O,K)},Rt.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},Rt.useReducer=function(O,K,it){return N.H.useReducer(O,K,it)},Rt.useRef=function(O){return N.H.useRef(O)},Rt.useState=function(O){return N.H.useState(O)},Rt.useSyncExternalStore=function(O,K,it){return N.H.useSyncExternalStore(O,K,it)},Rt.useTransition=function(){return N.H.useTransition()},Rt.version="19.2.3",Rt}var W_;function Om(){return W_||(W_=1,Vd.exports=pS()),Vd.exports}var ft=Om(),kd={exports:{}},kl={},Ld={exports:{}},Ud={};var tv;function yS(){return tv||(tv=1,(function(s){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var qt=ht-1>>>1,Xt=F[qt];if(0<l(Xt,nt))F[qt]=nt,F[ht]=Xt,ht=qt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var qt=0,Xt=F.length,O=Xt>>>1;qt<O;){var K=2*(qt+1)-1,it=F[K],st=K+1,Tt=F[st];if(0>l(it,ht))st<Xt&&0>l(Tt,it)?(F[qt]=Tt,F[st]=ht,qt=st):(F[qt]=it,F[K]=ht,qt=K);else if(st<Xt&&0>l(Tt,ht))F[qt]=Tt,F[st]=ht,qt=st;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,A=null,M=3,Q=!1,X=!1,rt=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Dt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=F)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Yt(F){if(rt=!1,Dt(F),!X)if(i(_)!==null)X=!0,kt||(kt=!0,L());else{var nt=i(y);nt!==null&&Re(Yt,nt.startTime-F)}}var kt=!1,N=-1,w=5,C=-1;function V(){return tt?!0:!(s.unstable_now()-C<w)}function D(){if(tt=!1,kt){var F=s.unstable_now();C=F;var nt=!0;try{t:{X=!1,rt&&(rt=!1,vt(N),N=-1),Q=!0;var ht=M;try{e:{for(Dt(F),A=i(_);A!==null&&!(A.expirationTime>F&&V());){var qt=A.callback;if(typeof qt=="function"){A.callback=null,M=A.priorityLevel;var Xt=qt(A.expirationTime<=F);if(F=s.unstable_now(),typeof Xt=="function"){A.callback=Xt,Dt(F),nt=!0;break e}A===i(_)&&r(_),Dt(F)}else r(_);A=i(_)}if(A!==null)nt=!0;else{var O=i(y);O!==null&&Re(Yt,O.startTime-F),nt=!1}}break t}finally{A=null,M=ht,Q=!1}nt=void 0}}finally{nt?L():kt=!1}}}var L;if(typeof pt=="function")L=function(){pt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=D,L=function(){se.postMessage(null)}}else L=function(){mt(D,0)};function Re(F,nt){N=mt(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ht=M;M=nt;try{return F()}finally{M=ht}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=M;M=F;try{return nt()}finally{M=ht}},s.unstable_scheduleCallback=function(F,nt,ht){var qt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?qt+ht:qt):ht=qt,F){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ht+Xt,F={id:b++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:Xt,sortIndex:-1},ht>qt?(F.sortIndex=ht,t(y,F),i(_)===null&&F===i(y)&&(rt?(vt(N),N=-1):rt=!0,Re(Yt,ht-qt))):(F.sortIndex=Xt,t(_,F),X||Q||(X=!0,kt||(kt=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var nt=M;return function(){var ht=M;M=nt;try{return F.apply(this,arguments)}finally{M=ht}}}})(Ud)),Ud}var ev;function _S(){return ev||(ev=1,Ld.exports=yS()),Ld.exports}var Pd={exports:{}},sn={};var nv;function vS(){if(nv)return sn;nv=1;var s=Om();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},sn.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},sn.requestFormReset=function(_){r.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var iv;function TS(){if(iv)return Pd.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=vS(),Pd.exports}var sv;function ES(){if(sv)return kl;sv=1;var s=_S(),t=Om(),i=TS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case Yt:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case pt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Re=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},qt=[],Xt=-1;function O(e){return{current:e}}function K(e){0>Xt||(e.current=qt[Xt],qt[Xt]=null,Xt--)}function it(e,n){Xt++,qt[Xt]=e.current,e.current=n}var st=O(null),Tt=O(null),bt=O(null),Ot=O(null);function re(e,n){switch(it(bt,n),it(Tt,e),it(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?v_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=v_(n),e=T_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),it(st,e)}function le(){K(st),K(Tt),K(bt)}function ts(e){e.memoizedState!==null&&it(Ot,e);var n=st.current,a=T_(n,e.type);n!==a&&(it(Tt,e),it(st,a))}function Si(e){Tt.current===e&&(K(st),K(Tt)),Ot.current===e&&(K(Ot),xl._currentValue=ht)}var Ai,es;function en(e){if(Ai===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ai=n&&n[1]||"",es=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+e+es}var xr=!1;function ns(e,n){if(!e||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),j=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?en(a):""}function is(e,n){switch(e.tag){case 26:case 27:case 5:return en(e.type);case 16:return en("Lazy");case 13:return e.child!==n&&n!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return en("Activity");default:return""}}function ss(e){try{var n="",a=null;do n+=is(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,Pn=s.unstable_cancelCallback,ri=s.unstable_shouldYield,Ta=s.unstable_requestPaint,Ie=s.unstable_now,wi=s.unstable_getCurrentPriorityLevel,ai=s.unstable_ImmediatePriority,Ri=s.unstable_UserBlockingPriority,oi=s.unstable_NormalPriority,Dr=s.unstable_LowPriority,Or=s.unstable_IdlePriority,Mr=s.log,Ds=s.unstable_setDisableYieldValue,mn=null,Ce=null;function un(e){if(typeof Mr=="function"&&Ds(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(mn,e)}catch{}}var ce=Math.clz32?Math.clz32:Ea,Os=Math.log,Ms=Math.LN2;function Ea(e){return e>>>=0,e===0?32:31-(Os(e)/Ms|0)|0}var He=256,Ii=262144,ve=4194304;function cn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=cn(o):(p&=T,p!==0?h=cn(p):a||(a=T&~e,a!==0&&(h=cn(a))))):(T=o&~f,T!==0?h=cn(T):p!==0?h=cn(p):a||(a=o&~e,a!==0&&(h=cn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ko(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function zn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lo(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=p&~a;0<a;){var G=31-ce(a),$=1<<G;T[G]=0,I[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&nn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function nn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Bn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ce(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ci(e,n){var a=n&-n;return a=(a&42)!==0?1:li(a),(a&(e.suspendedLanes|n))!==0?0:a}function li(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sa(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function gn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Rn=Math.random().toString(36).slice(2),z="__reactFiber$"+Rn,W="__reactProps$"+Rn,ut="__reactContainer$"+Rn,At="__reactEvents$"+Rn,me="__reactListeners$"+Rn,Pe="__reactHandles$"+Rn,Hn="__reactResources$"+Rn,Fn="__reactMarker$"+Rn;function Aa(e){delete e[z],delete e[W],delete e[At],delete e[me],delete e[Pe]}function Ni(e){var n=e[z];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ut]||a[z]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=I_(e);e!==null;){if(a=e[z])return a;e=I_(e)}return n}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[z]||e[ut]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function In(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function xi(e){var n=e[Hn];return n||(n=e[Hn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[Fn]=!0}var Uo=new Set,Po={};function Di(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(Po[e]=n,e=0;e<n.length;e++)Uo.add(n[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function cu(e){return ye.call(Bo,e)?!0:ye.call(zo,e)?!1:jo.test(e)?Bo[e]=!0:(zo[e]=!0,!1)}function wa(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Cn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function xe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Vs(e)?"checked":"value";e._valueTracker=qo(e,n,""+e[n])}}function Vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Vs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kr=/[\n"\\]/g;function pn(e){return e.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ra(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ho(e,p,Fe(n)):a!=null?Ho(e,p,Fe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Fe(T):e.removeAttribute("name")}function hu(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jt(e)}function Ho(e,n,a){n==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ks(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Fe(a):""}function Ls(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Fe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function yn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Go(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(e,f,n[f])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return Us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var Qo=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Vi=null;function Lr(e){var n=Gn(e);if(n&&(e=n.stateNode)){var a=e[W]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[W]||null;if(!h)throw Error(r(90));Ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Vr(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ks(e,!!a.multiple,n,!1)}}}var Na=!1;function js(e,n,a){if(Na)return e(n,a);Na=!0;try{var o=e(n);return o}finally{if(Na=!1,(Ps!==null||Vi!==null)&&(oc(),Ps&&(n=Ps,e=Vi,Vi=Ps=null,Lr(n),e)))for(n=0;n<e.length;n++)Lr(e[n])}}function ci(e,n){var a=e.stateNode;if(a===null)return null;var o=a[W]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Kn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ur=!1}var ki=null,Ko=null,Pr=null;function Yo(){if(Pr)return Pr;var e,n=Ko,a=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Pr=h.slice(e,1<o?1-o:void 0)}function jr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function hi(){return!1}function Ke(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:hi,this.isPropagationStopped=hi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ke(os),zs=A({},os,{view:0,detail:0}),Xo=Ke(zs),Bs,xa,Ui,Da=A({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Bs=e.screenX-Ui.screenX,xa=e.screenY-Ui.screenY):xa=Bs=0,Ui=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),$o=Ke(Da),zr=A({},Da,{dataTransfer:0}),gu=Ke(zr),pu=A({},zs,{relatedTarget:0}),Br=Ke(pu),Jo=A({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Ke(Jo),Oa=A({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Ke(Oa),vu=A({},os,{data:0}),Pi=Ke(vu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function qs(){return Su}var hn=A({},zs,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Ke(hn),wu=A({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Ke(wu),u=A({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=Ke(u),v=A({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Ke(v),U=A({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ke(U),et=A({},os,{newState:0,oldState:0}),Ct=Ke(et),be=[9,13,27,32],Qt=Kn&&"CompositionEvent"in window,ge=null;Kn&&"documentMode"in document&&(ge=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!ge,ji=Kn&&(!Qt||ge&&8<ge&&11>=ge),fi=" ",di=!1;function qr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function P1(e,n){switch(e){case"compositionend":return Ma(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return e=n.data,e===fi&&di?null:e;default:return null}}function j1(e,n){if(Va)return e==="compositionend"||!Qt&&qr(e,n)?(e=Yo(),Pr=Ko=ki=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!z1[e.type]:n==="textarea"}function Dg(e,n,a,o){Ps?Vi?Vi.push(o):Vi=[o]:Ps=o,n=mc(n,"onChange"),0<n.length&&(a=new Li("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Zo=null,Wo=null;function B1(e){d_(e,0)}function Ru(e){var n=In(e);if(Vr(n))return e}function Og(e,n){if(e==="change")return n}var Mg=!1;if(Kn){var jh;if(Kn){var zh="oninput"in document;if(!zh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),zh=typeof Vg.oninput=="function"}jh=zh}else jh=!1;Mg=jh&&(!document.documentMode||9<document.documentMode)}function kg(){Zo&&(Zo.detachEvent("onpropertychange",Lg),Wo=Zo=null)}function Lg(e){if(e.propertyName==="value"&&Ru(Wo)){var n=[];Dg(n,Wo,e,Qn(e)),js(B1,n)}}function q1(e,n,a){e==="focusin"?(kg(),Zo=n,Wo=a,Zo.attachEvent("onpropertychange",Lg)):e==="focusout"&&kg()}function H1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Wo)}function F1(e,n){if(e==="click")return Ru(n)}function G1(e,n){if(e==="input"||e==="change")return Ru(n)}function Q1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:Q1;function tl(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,n){var a=Ug(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ug(a)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Mi(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var K1=Kn&&"documentMode"in document&&11>=document.documentMode,ka=null,qh=null,el=null,Hh=!1;function Bg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||ka==null||ka!==Mi(o)||(o=ka,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),el&&tl(el,o)||(el=o,o=mc(qh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ka)))}function Hr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var La={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Fh={},qg={};Kn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fr(e){if(Fh[e])return Fh[e];if(!La[e])return e;var n=La[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return Fh[e]=n[a];return e}var Hg=Fr("animationend"),Fg=Fr("animationiteration"),Gg=Fr("animationstart"),Y1=Fr("transitionrun"),X1=Fr("transitionstart"),$1=Fr("transitioncancel"),Qg=Fr("transitionend"),Kg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function mi(e,n){Kg.set(e,n),Di(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Ua=0,Qh=0;function Cu(){for(var e=Ua,n=Qh=Ua=0;n<e;){var a=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Yg(a,h,f)}}function Nu(e,n,a,o){Xn[Ua++]=e,Xn[Ua++]=n,Xn[Ua++]=a,Xn[Ua++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return Nu(e,n,a,o),xu(e)}function Gr(e,n){return Nu(e,null,null,n),xu(e)}function Yg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function xu(e){if(50<Sl)throw Sl=0,id=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pa={};function J1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,a,o){return new J1(e,n,a,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,n){var a=e.alternate;return a===null?(a=xn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Yh(e)&&(p=1);else if(typeof e=="string")p=nS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=xn(31,a,n,h),e.elementType=C,e.lanes=f,e;case rt:return Qr(a.children,h,f,n);case tt:p=8,h|=24;break;case mt:return e=xn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case Yt:return e=xn(13,a,n,h),e.elementType=Yt,e.lanes=f,e;case kt:return e=xn(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case vt:p=9;break t;case Dt:p=11;break t;case N:p=14;break t;case w:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=xn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Qr(e,n,a,o){return e=xn(7,e,o,n),e.lanes=a,e}function Xh(e,n,a){return e=xn(6,e,null,n),e.lanes=a,e}function $g(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function $h(e,n,a){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jg=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var a=Jg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ss(n)},Jg.set(e,n),n)}return{value:e,source:n,stack:ss(n)}}var ja=[],za=0,Ou=null,nl=0,Jn=[],Zn=0,Hs=null,zi=1,Bi="";function cs(e,n){ja[za++]=nl,ja[za++]=Ou,Ou=e,nl=n}function Zg(e,n,a){Jn[Zn++]=zi,Jn[Zn++]=Bi,Jn[Zn++]=Hs,Hs=e;var o=zi;e=Bi;var h=32-ce(o)-1;o&=~(1<<h),a+=1;var f=32-ce(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,zi=1<<32-ce(n)+h|a<<h|o,Bi=f+e}else zi=1<<f|a<<h|o,Bi=e}function Jh(e){e.return!==null&&(cs(e,1),Zg(e,1,0))}function Zh(e){for(;e===Ou;)Ou=ja[--za],ja[za]=null,nl=ja[--za],ja[za]=null;for(;e===Hs;)Hs=Jn[--Zn],Jn[Zn]=null,Bi=Jn[--Zn],Jn[Zn]=null,zi=Jn[--Zn],Jn[Zn]=null}function Wg(e,n){Jn[Zn++]=zi,Jn[Zn++]=Bi,Jn[Zn++]=Hs,zi=n.id,Bi=n.overflow,Hs=e}var Ye=null,he=null,Bt=!1,Fs=null,Wn=!1,Wh=Error(r(519));function Gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il($n(n,e)),Wh}function tp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[z]=e,n[W]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Vt(wl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ls(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Gs(e,!0)}function ep(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Ye=Ye.return}}function Ba(e){if(e!==Ye)return!1;if(!Bt)return ep(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&he&&Gs(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=R_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=R_(e)}else n===27?(n=he,rr(e.type)?(e=Sd,Sd=null,he=e):he=n):he=Ye?ei(e.stateNode.nextSibling):null;return!0}function Kr(){he=Ye=null,Bt=!1}function tf(){var e=Fs;return e!==null&&(En===null?En=e:En.push.apply(En,e),Fs=null),e}function il(e){Fs===null?Fs=[e]:Fs.push(e)}var ef=O(null),Yr=null,hs=null;function Qs(e,n,a){it(ef,n._currentValue),n._currentValue=a}function fs(e){e._currentValue=ef.current,K(ef)}function nf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),nf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),nf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function qa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;Nn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ot.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&sf(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xr(e){Yr=e,hs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return np(Yr,e)}function Vu(e,n){return Yr===null&&Xr(e),np(e,n)}function np(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},hs===null){if(e===null)throw Error(r(308));hs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else hs=hs.next=n;return a}var Z1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},W1=s.unstable_scheduleCallback,tb=s.unstable_NormalPriority,De={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Z1,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&W1(tb,function(){e.controller.abort()})}var rl=null,af=0,Ha=0,Fa=null;function eb(e,n){if(rl===null){var a=rl=[];af=0,Ha=ud(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(ip,ip),n}function ip(){if(--af===0&&rl!==null){Fa!==null&&(Fa.status="fulfilled");var e=rl;rl=null,Ha=0,Fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=F.S;F.S=function(e,n){By=Ie(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eb(e,n),sp!==null&&sp(e,n)};var $r=O(null);function of(){var e=$r.current;return e!==null?e:ae.pooledCache}function ku(e,n){n===null?it($r,$r.current):it($r,n.pool)}function rp(){var e=of();return e===null?null:{parent:De._currentValue,pool:e}}var Ga=Error(r(460)),lf=Error(r(474)),Lu=Error(r(542)),Uu={then:function(){}};function ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ui,ui),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then(ui,ui);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw Zr=n,Ga}}function Jr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Ga):a}}var Zr=null;function lp(){if(Zr===null)throw Error(r(459));var e=Zr;return Zr=null,e}function up(e){if(e===Ga||e===Lu)throw Error(r(483))}var Qa=null,al=0;function Pu(e){var n=al;return al+=1,Qa===null&&(Qa=[]),op(Qa,e,n)}function ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cp(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=us(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,P,Y){return x===null||x.tag!==6?(x=Xh(P,k.mode,Y),x.return=k,x):(x=h(x,P),x.return=k,x)}function I(k,x,P,Y){var dt=P.type;return dt===rt?G(k,x,P.props.children,Y,P.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Jr(dt)===x.type)?(x=h(x,P.props),ol(x,P),x.return=k,x):(x=Du(P.type,P.key,P.props,null,k.mode,Y),ol(x,P),x.return=k,x)}function j(k,x,P,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=$h(P,k.mode,Y),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function G(k,x,P,Y,dt){return x===null||x.tag!==7?(x=Qr(P,k.mode,Y,dt),x.return=k,x):(x=h(x,P),x.return=k,x)}function $(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Xh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q:return P=Du(x.type,x.key,x.props,null,k.mode,P),ol(P,x),P.return=k,P;case X:return x=$h(x,k.mode,P),x.return=k,x;case w:return x=Jr(x),$(k,x,P)}if(Re(x)||L(x))return x=Qr(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return $(k,Pu(x),P);if(x.$$typeof===pt)return $(k,Vu(k,x),P);ju(k,x)}return null}function B(k,x,P,Y){var dt=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(k,x,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===dt?I(k,x,P,Y):null;case X:return P.key===dt?j(k,x,P,Y):null;case w:return P=Jr(P),B(k,x,P,Y)}if(Re(P)||L(P))return dt!==null?null:G(k,x,P,Y,null);if(typeof P.then=="function")return B(k,x,Pu(P),Y);if(P.$$typeof===pt)return B(k,x,Vu(k,P),Y);ju(k,P)}return null}function H(k,x,P,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(x,k,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return k=k.get(Y.key===null?P:Y.key)||null,I(x,k,Y,dt);case X:return k=k.get(Y.key===null?P:Y.key)||null,j(x,k,Y,dt);case w:return Y=Jr(Y),H(k,x,P,Y,dt)}if(Re(Y)||L(Y))return k=k.get(P)||null,G(x,k,Y,dt,null);if(typeof Y.then=="function")return H(k,x,P,Pu(Y),dt);if(Y.$$typeof===pt)return H(k,x,P,Vu(x,Y),dt);ju(x,Y)}return null}function ot(k,x,P,Y){for(var dt=null,Ft=null,lt=x,xt=x=0,Ut=null;lt!==null&&xt<P.length;xt++){lt.index>xt?(Ut=lt,lt=null):Ut=lt.sibling;var Gt=B(k,lt,P[xt],Y);if(Gt===null){lt===null&&(lt=Ut);break}e&&lt&&Gt.alternate===null&&n(k,lt),x=f(Gt,x,xt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt,lt=Ut}if(xt===P.length)return a(k,lt),Bt&&cs(k,xt),dt;if(lt===null){for(;xt<P.length;xt++)lt=$(k,P[xt],Y),lt!==null&&(x=f(lt,x,xt),Ft===null?dt=lt:Ft.sibling=lt,Ft=lt);return Bt&&cs(k,xt),dt}for(lt=o(lt);xt<P.length;xt++)Ut=H(lt,k,xt,P[xt],Y),Ut!==null&&(e&&Ut.alternate!==null&&lt.delete(Ut.key===null?xt:Ut.key),x=f(Ut,x,xt),Ft===null?dt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&lt.forEach(function(cr){return n(k,cr)}),Bt&&cs(k,xt),dt}function yt(k,x,P,Y){if(P==null)throw Error(r(151));for(var dt=null,Ft=null,lt=x,xt=x=0,Ut=null,Gt=P.next();lt!==null&&!Gt.done;xt++,Gt=P.next()){lt.index>xt?(Ut=lt,lt=null):Ut=lt.sibling;var cr=B(k,lt,Gt.value,Y);if(cr===null){lt===null&&(lt=Ut);break}e&&lt&&cr.alternate===null&&n(k,lt),x=f(cr,x,xt),Ft===null?dt=cr:Ft.sibling=cr,Ft=cr,lt=Ut}if(Gt.done)return a(k,lt),Bt&&cs(k,xt),dt;if(lt===null){for(;!Gt.done;xt++,Gt=P.next())Gt=$(k,Gt.value,Y),Gt!==null&&(x=f(Gt,x,xt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&cs(k,xt),dt}for(lt=o(lt);!Gt.done;xt++,Gt=P.next())Gt=H(lt,k,xt,Gt.value,Y),Gt!==null&&(e&&Gt.alternate!==null&&lt.delete(Gt.key===null?xt:Gt.key),x=f(Gt,x,xt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&lt.forEach(function(dS){return n(k,dS)}),Bt&&cs(k,xt),dt}function ie(k,x,P,Y){if(typeof P=="object"&&P!==null&&P.type===rt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var dt=P.key;x!==null;){if(x.key===dt){if(dt=P.type,dt===rt){if(x.tag===7){a(k,x.sibling),Y=h(x,P.props.children),Y.return=k,k=Y;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Jr(dt)===x.type){a(k,x.sibling),Y=h(x,P.props),ol(Y,P),Y.return=k,k=Y;break t}a(k,x);break}else n(k,x);x=x.sibling}P.type===rt?(Y=Qr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Du(P.type,P.key,P.props,null,k.mode,Y),ol(Y,P),Y.return=k,k=Y)}return p(k);case X:t:{for(dt=P.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),Y=h(x,P.children||[]),Y.return=k,k=Y;break t}else{a(k,x);break}else n(k,x);x=x.sibling}Y=$h(P,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return P=Jr(P),ie(k,x,P,Y)}if(Re(P))return ot(k,x,P,Y);if(L(P)){if(dt=L(P),typeof dt!="function")throw Error(r(150));return P=dt.call(P),yt(k,x,P,Y)}if(typeof P.then=="function")return ie(k,x,Pu(P),Y);if(P.$$typeof===pt)return ie(k,x,Vu(k,P),Y);ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),Y=h(x,P),Y.return=k,k=Y):(a(k,x),Y=Xh(P,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,x)}return function(k,x,P,Y){try{al=0;var dt=ie(k,x,P,Y);return Qa=null,dt}catch(lt){if(lt===Ga||lt===Lu)throw lt;var Ft=xn(29,lt,null,k.mode);return Ft.lanes=Y,Ft.return=k,Ft}}}var Wr=cp(!0),hp=cp(!1),Ks=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Yg(e,null,a),n}return Nu(e,o,n,a),xu(e)}function ll(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Bn(e,a)}}function hf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ff=!1;function ul(){if(ff){var e=Fa;if(e!==null)throw e}}function cl(e,n,a,o){ff=!1;var h=e.updateQueue;Ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,G=j=I=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Lt&B)===B:(o&B)===B){B!==0&&B===Ha&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,yt=T;B=n;var ie=a;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){$=ot.call(ie,$,B);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,B=typeof ot=="function"?ot.call(ie,$,B):ot,B==null)break t;$=A({},$,B);break t;case 2:Ks=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=H,I=$):G=G.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),tr|=p,e.lanes=p,e.memoizedState=$}}function fp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function dp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fp(a[e],n)}var Ka=O(null),zu=O(0);function mp(e,n){e=Es,it(zu,e),it(Ka,n),Es=e|n.baseLanes}function df(){it(zu,Es),it(Ka,Ka.current)}function mf(){Es=zu.current,K(Ka),K(zu)}var Dn=O(null),ti=null;function $s(e){var n=e.alternate;it(Se,Se.current&1),it(Dn,e),ti===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ti=e)}function gf(e){it(Se,Se.current),it(Dn,e),ti===null&&(ti=e)}function gp(e){e.tag===22?(it(Se,Se.current),it(Dn,e),ti===null&&(ti=e)):Js()}function Js(){it(Se,Se.current),it(Dn,Dn.current)}function On(e){K(Dn),ti===e&&(ti=null),K(Se)}var Se=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,Nt=null,ee=null,Oe=null,qu=!1,Ya=!1,ta=!1,Hu=0,hl=0,Xa=null,ib=0;function Te(){throw Error(r(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Nn(e[a],n[a]))return!1;return!0}function yf(e,n,a,o,h,f){return ds=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Zp:Of,ta=!1,f=a(o,h),ta=!1,Ya&&(f=yp(n,a,o,h)),pp(e),f}function pp(e){F.H=ml;var n=ee!==null&&ee.next!==null;if(ds=0,Oe=ee=Nt=null,qu=!1,hl=0,Xa=null,n)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&Mu(e)&&(Me=!0))}function yp(e,n,a,o){Nt=e;var h=0;do{if(Ya&&(Xa=null),hl=0,Ya=!1,25<=h)throw Error(r(301));if(h+=1,Oe=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Wp,f=n(a,o)}while(Ya);return f}function sb(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?fl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),n}function _f(){var e=Hu!==0;return Hu=0,e}function vf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Tf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}ds=0,Oe=ee=Nt=null,Ya=!1,hl=Hu=0,Xa=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ae(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Oe===null?Nt.memoizedState:Oe.next;if(n!==null)Oe=n,ee=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var n=hl;return hl+=1,Xa===null&&(Xa=[]),e=op(Xa,e,n),n=Nt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Zp:Of),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===pt)return Xe(e)}throw Error(r(438,String(e)))}function Ef(e){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function ms(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Ae();return bf(n,ee,e)}function bf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,I=null,j=n,G=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Lt&$)===$:(ds&$)===$){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ha&&(G=!0);else if((ds&B)===B){j=j.next,B===Ha&&(G=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=$,p=f):I=I.next=$,Nt.lanes|=B,tr|=B;$=j.action,ta&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=B,p=f):I=I.next=B,Nt.lanes|=$,tr|=$;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=T,!Nn(f,e.memoizedState)&&(Me=!0,G&&(a=Fa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=Ae(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Nn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _p(e,n,a){var o=Nt,h=Ae(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Nn((ee||h).memoizedState,a);if(p&&(h.memoizedState=a,Me=!0),h=h.queue,Rf(Ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,$a(9,{destroy:void 0},Tp.bind(null,o,h,a,n),null),ae===null)throw Error(r(349));f||(ds&127)!==0||vp(o,n,a)}return a}function vp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=Fu(),Nt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tp(e,n,a,o){n.value=a,n.getSnapshot=o,bp(n)&&Sp(e)}function Ep(e,n,a){return a(function(){bp(n)&&Sp(e)})}function bp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Nn(e,a)}catch{return!0}}function Sp(e){var n=Gr(e,2);n!==null&&bn(n,e,2)}function Af(e){var n=fn();if(typeof e=="function"){var a=e;if(e=a(),ta){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},n}function Ap(e,n,a,o){return e.baseState=a,bf(e,ee,typeof o=="function"?o:ms)}function rb(e,n,a,o,h){if(Xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=a(h,o),I=F.S;I!==null&&I(p,T),Rp(e,n,T)}catch(j){wf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Rp(e,n,f)}catch(j){wf(e,n,j)}}function Rp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ip(e,n,o)},function(o){return wf(e,n,o)}):Ip(e,n,a)}function Ip(e,n,a){n.status="fulfilled",n.value=a,Cp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,wp(e,a)))}function wf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function xp(e,n){if(Bt){var a=ae.formState;if(a!==null){t:{var o=Nt;if(Bt){if(he){e:{for(var h=he,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=ei(h.nextSibling),o=h.data==="F!";break t}}Gs(o)}o=!1}o&&(n=a[0])}}return a=fn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},a.queue=o,a=Xp.bind(null,Nt,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,Nt,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=rb.bind(null,Nt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Dp(e){var n=Ae();return Op(n,ee,e)}function Op(e,n,a){if(n=bf(e,n,Np)[0],e=Qu(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(p){throw p===Ga?Lu:p}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,$a(9,{destroy:void 0},ab.bind(null,h,a),null)),[o,f,e]}function ab(e,n){e.action=n}function Mp(e){var n=Ae(),a=ee;if(a!==null)return Op(n,a,e);Ae(),n=n.memoizedState,a=Ae();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function $a(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Fu(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Vp(){return Ae().memoizedState}function Ku(e,n,a,o){var h=fn();Nt.flags|=e,h.memoizedState=$a(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&pf(o,ee.memoizedState.deps)?h.memoizedState=$a(n,f,a,o):(Nt.flags|=e,h.memoizedState=$a(1|n,f,a,o))}function kp(e,n){Ku(8390656,8,e,n)}function Rf(e,n){Yu(2048,8,e,n)}function ob(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Fu(),Nt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Lp(e){var n=Ae().memoizedState;return ob({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Up(e,n){return Yu(4,2,e,n)}function Pp(e,n){return Yu(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zp(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,jp.bind(null,n,e),a)}function If(){}function Bp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function qp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),ta){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(ds&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Hy(),Nt.lanes|=e,tr|=e,a)}function Hp(e,n,a,o){return Nn(a,n)?a:Ka.current!==null?(e=Cf(e,a,o),Nn(e,n)||(Me=!0),e):(ds&42)===0||(ds&1073741824)!==0&&(Lt&261930)===0?(Me=!0,e.memoizedState=a):(e=Hy(),Nt.lanes|=e,tr|=e,n)}function Fp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,Df(e,!1,n,a);try{var I=h(),j=F.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=nb(I,o);dl(e,n,G,kn(e))}else dl(e,n,o,kn(e))}catch($){dl(e,n,{then:function(){},status:"rejected",reason:$},kn())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function lb(){}function Nf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Gp(e).queue;Fp(e,h,n,ht,a===null?lb:function(){return Qp(e),a(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),dl(e,n.next.queue,{},kn())}function xf(){return Xe(xl)}function Kp(){return Ae().memoizedState}function Yp(){return Ae().memoizedState}function ub(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();e=Ys(a);var o=Xs(n,e,a);o!==null&&(bn(o,n,a),ll(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function cb(e,n,a){var o=kn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?$p(n,a):(a=Kh(e,n,a,o),a!==null&&(bn(a,e,o),Jp(a,n,o)))}function Xp(e,n,a){var o=kn();dl(e,n,a,o)}function dl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))$p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,p))return Nu(e,n,h,0),ae===null&&Cu(),!1}catch{}if(a=Kh(e,n,h,o),a!==null)return bn(a,e,o),Jp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(r(479))}else n=Kh(e,a,o,2),n!==null&&bn(n,e,2)}function Xu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function $p(e,n){Ya=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Jp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Bn(e,a)}}var ml={readContext:Xe,use:Gu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};ml.useEffectEvent=Te;var Zp={readContext:Xe,use:Gu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:kp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,jp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=fn();n=n===void 0?null:n;var o=e();if(ta){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=fn();if(a!==void 0){var h=a(n);if(ta){un(!0);try{a(n)}finally{un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=cb.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,a=Xp.bind(null,Nt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=fn();return Cf(a,e,n)},useTransition:function(){var e=Af(!1);return e=Fp.bind(null,Nt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Nt,h=fn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ae===null)throw Error(r(349));(Lt&127)!==0||vp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kp(Ep.bind(null,o,f,e),[e]),o.flags|=2048,$a(9,{destroy:void 0},Tp.bind(null,o,f,a,n),null),a},useId:function(){var e=fn(),n=ae.identifierPrefix;if(Bt){var a=Bi,o=zi;a=(o&~(1<<32-ce(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=ib++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:xp,useActionState:xp,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,Nt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return fn().memoizedState=ub.bind(null,Nt)},useEffectEvent:function(e){var n=fn(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:Xe,use:Gu,useCallback:Bp,useContext:Xe,useEffect:Rf,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:Pp,useMemo:qp,useReducer:Qu,useRef:Vp,useState:function(){return Qu(ms)},useDebugValue:If,useDeferredValue:function(e,n){var a=Ae();return Hp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Qu(ms)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:_p,useId:Kp,useHostTransitionStatus:xf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var a=Ae();return Ap(a,ee,e,n)},useMemoCache:Ef,useCacheRefresh:Yp};Of.useEffectEvent=Lp;var Wp={readContext:Xe,use:Gu,useCallback:Bp,useContext:Xe,useEffect:Rf,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:Pp,useMemo:qp,useReducer:Sf,useRef:Vp,useState:function(){return Sf(ms)},useDebugValue:If,useDeferredValue:function(e,n){var a=Ae();return ee===null?Cf(a,e,n):Hp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Sf(ms)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:_p,useId:Kp,useHostTransitionStatus:xf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var a=Ae();return ee!==null?Ap(a,ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Yp};Wp.useEffectEvent=Lp;function Mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=kn(),h=Ys(o);h.payload=n,a!=null&&(h.callback=a),n=Xs(e,h,o),n!==null&&(bn(n,e,o),ll(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=kn(),h=Ys(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Xs(e,h,o),n!==null&&(bn(n,e,o),ll(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=kn(),o=Ys(a);o.tag=2,n!=null&&(o.callback=n),n=Xs(e,o,a),n!==null&&(bn(n,e,a),ll(n,e,a))}};function ty(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!tl(a,o)||!tl(h,f):!0}function ey(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function ea(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ny(e){Iu(e)}function iy(e){console.error(e)}function sy(e){Iu(e)}function $u(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,a){return a=Ys(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,n)},a}function ay(e){return e=Ys(e),e.tag=3,e}function oy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ry(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ry(n,a,o),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hb(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&qa(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?lc():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(e,o,h)),!1}throw Error(r(435,a.tag))}return ad(e,o,h),lc(),!1}if(Bt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(r(422),{cause:o}),il($n(e,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),il($n(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,a),h=kf(e.stateNode,o,h),hf(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(r(520),{cause:o});if(f=$n(f,a),bl===null?bl=[f]:bl.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=$n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kf(a.stateNode,o,e),hf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,e,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),Me=!1;function $e(e,n,a,o){n.child=e===null?hp(n,null,a,o):Wr(n,e.child,a,o)}function ly(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Xr(n),o=yf(e,n,a,p,f,h),T=_f(),e!==null&&!Me?(vf(e,n,h),gs(e,n,h)):(Bt&&T&&Jh(n),n.flags|=1,$e(e,n,o,h),n.child)}function uy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,cy(e,n,f,o,h)):(e=Du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(p,o)&&e.ref===n.ref)return gs(e,n,h)}return n.flags|=1,e=us(f,o),e.ref=n.ref,e.return=n,n.child=e}function cy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(tl(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,gs(e,n,h)}return Uf(e,n,a,o,h)}function hy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?mp(n,f):df(),gp(n);else return o=n.lanes=536870912,fy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(n,f.cachePool),mp(n,f),Js(),n.memoizedState=null):(e!==null&&ku(n,null),df(),Js());return $e(e,n,h,a),n.child}function gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,a,o,h){var f=of();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(n,null),df(),gp(n),e!==null&&qa(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dy(e,n,a){return Wr(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,On(n),n.memoizedState=null,e}function fb(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,gl(null,e);if(gf(n),(e=he)?(e=w_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Ye=n,he=null)):e=null,e===null)throw Gs(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=dy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Me||qa(e,n,a,!1),h=(a&e.childLanes)!==0,Me||h){if(o=ae,o!==null&&(p=Ci(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(e,p),bn(o,e,p),Lf;lc(),n=dy(e,n,a)}else e=f.treeContext,he=ei(p.nextSibling),Ye=n,Bt=!0,Fs=null,Wn=!1,e!==null&&Wg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=us(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return Xr(n),a=yf(e,n,a,o,void 0,h),o=_f(),e!==null&&!Me?(vf(e,n,h),gs(e,n,h)):(Bt&&o&&Jh(n),n.flags|=1,$e(e,n,a,h),n.child)}function my(e,n,a,o,h,f){return Xr(n),n.updateQueue=null,a=yp(n,o,a,h),pp(e),o=_f(),e!==null&&!Me?(vf(e,n,f),gs(e,n,f)):(Bt&&o&&Jh(n),n.flags|=1,$e(e,n,a,f),n.child)}function gy(e,n,a,o,h){if(Xr(n),n.stateNode===null){var f=Pa,p=a.contextType;typeof p=="object"&&p!==null&&(f=Xe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Xe(p):Pa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=ea(a,T);f.props=I;var j=f.context,G=a.contextType;p=Pa,typeof G=="object"&&G!==null&&(p=Xe(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&ey(n,f,o,p),Ks=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),j=n.memoizedState,T||B!==j||Ks?(typeof $=="function"&&(Mf(n,a,$,o),j=n.memoizedState),(I=Ks||ty(n,a,I,o,B,j,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),p=n.memoizedProps,G=ea(a,p),f.props=G,$=n.pendingProps,B=f.context,j=a.contextType,I=Pa,typeof j=="object"&&j!==null&&(I=Xe(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==I)&&ey(n,f,o,I),Ks=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var H=n.memoizedState;p!==$||B!==H||Ks||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Mf(n,a,T,o),H=n.memoizedState),(G=Ks||ty(n,a,G,o,B,H,I)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Wr(n,e.child,null,h),n.child=Wr(n,null,a,h)):$e(e,n,a,h),n.memoizedState=f.state,e=n.child):e=gs(e,n,h),e}function py(e,n,a,o){return Kr(),n.flags|=256,$e(e,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:rp()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function yy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?$s(n):Js(),(e=he)?(e=w_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Ye=n,he=null)):e=null,e===null)throw Gs(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Js(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Qr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=jf(a),o.childLanes=zf(e,p,a),n.memoizedState=Pf,gl(null,o)):($s(n),Bf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?($s(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(Js(),n.child=e.child,n.flags|=128,n=null):(Js(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Qr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Wr(n,e.child,null,a),o=n.child,o.memoizedState=jf(a),o.childLanes=zf(e,p,a),n.memoizedState=Pf,n=gl(null,o));else if($s(n),bd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,il({value:o,source:null,stack:null}),n=qf(e,n,a)}else if(Me||qa(e,n,a,!1),p=(a&e.childLanes)!==0,Me||p){if(p=ae,p!==null&&(o=Ci(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Gr(e,o),bn(p,e,o),Lf;Ed(T)||lc(),n=qf(e,n,a)}else Ed(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,he=ei(T.nextSibling),Ye=n,Bt=!0,Fs=null,Wn=!1,e!==null&&Wg(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Js(),T=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=us(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=us(j,T):(T=Qr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,gl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=jf(a):(h=T.cachePool,h!==null?(I=De._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=rp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=zf(e,p,a),n.memoizedState=Pf,gl(e.child,o)):($s(n),a=e.child,e=a.sibling,a=us(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Bf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function qf(e,n,a){return Wr(n,e.child,null,a),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _y(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,a)}function Hf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function vy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Se.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,it(Se,p),$e(e,n,o,a),o=Bt?nl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,a,n);else if(e.tag===19)_y(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),tr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(qa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=us(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=us(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function db(e,n,a){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),Qs(n,De,e.memoizedState.cache),Kr();break;case 27:case 5:ts(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?($s(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(e,n,a):($s(n),e=gs(e,n,a),e!==null?e.sibling:null);$s(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(qa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Se,Se.current),o)break;return null;case 22:return n.lanes=0,hy(e,n,a,n.pendingProps);case 24:Qs(n,De,e.memoizedState.cache)}return gs(e,n,a)}function Ty(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Ff(e,a)&&(n.flags&128)===0)return Me=!1,db(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(n.flags&1048576)!==0&&Zg(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Jr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=ea(e,o),n.tag=1,n=gy(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=ly(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=uy(null,n,e,o,a);break t}}throw n=se(e)||e,Error(r(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ea(o,n.pendingProps),gy(e,n,o,h,a);case 3:t:{if(re(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),cl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Qs(n,De,o),o!==f.cache&&sf(n,[De],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(e,n,o,a);break t}else if(o!==h){h=$n(Error(r(424)),n),il(h),n=py(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=ei(e.firstChild),Ye=n,Bt=!0,Fs=null,Wn=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){n=gs(e,n,a);break t}$e(e,n,o,a)}n=n.child}return n;case 26:return Zu(e,n),e===null?(a=D_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=gc(bt.current).createElement(a),o[z]=n,o[W]=e,Je(o,a,e),Ne(o),n.stateNode=o):n.memoizedState=D_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Bt&&(o=n.stateNode=C_(n.type,n.pendingProps,bt.current),Ye=n,Wn=!0,h=he,rr(n.type)?(Sd=h,he=ei(o.firstChild)):he=h),$e(e,n,n.pendingProps.children,a),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=he)&&(o=Hb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,Ye=n,he=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||Gs(n)),ts(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,sb,null,null,a),xl._currentValue=h),Zu(e,n),$e(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=he)&&(a=Fb(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,Ye=n,he=null,e=!0):e=!1),e||Gs(n)),null;case 13:return yy(e,n,a);case 4:return re(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Wr(n,null,o,a):$e(e,n,o,a),n.child;case 11:return ly(e,n,n.type,n.pendingProps,a);case 7:return $e(e,n,n.pendingProps,a),n.child;case 8:return $e(e,n,n.pendingProps.children,a),n.child;case 12:return $e(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Qs(n,n.type,o.value),$e(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Xr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,a),n.child;case 14:return uy(e,n,n.type,n.pendingProps,a);case 15:return cy(e,n,n.type,n.pendingProps,a);case 19:return vy(e,n,a);case 31:return fb(e,n,a);case 22:return hy(e,n,a,n.pendingProps);case 24:return Xr(n),o=Xe(De),e===null?(h=of(),h===null&&(h=ae,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},uf(n),Qs(n,De,h)):((e.lanes&a)!==0&&(cf(e,n),cl(n,null,null,a),ul()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,De,o)):(o=f.cache,Qs(n,De,o),o!==h.cache&&sf(n,[De],a,!0))),$e(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ps(e){e.flags|=4}function Gf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ky())e.flags|=8192;else throw Zr=Uu,lf}else e.flags&=-16777217}function Ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Ky())e.flags|=8192;else throw Zr=Uu,lf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ba():536870912,e.lanes|=n,to|=n)}function pl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function mb(e,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),fs(De),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ba(n)?ps(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ps(n),f!==null?(fe(n),Ey(n,f)):(fe(n),Gf(n,h,null,o,a))):f?f!==e.memoizedState?(ps(n),fe(n),Ey(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ps(n),fe(n),Gf(n,h,e,o,a)),null;case 27:if(Si(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}e=st.current,Ba(n)?tp(n):(e=C_(h,o,a),n.stateNode=e,ps(n))}return fe(n),null;case 5:if(Si(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=st.current,Ba(n))tp(n);else{var p=gc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[z]=n,f[W]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ps(n)}}return fe(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Ba(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[z]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y_(e.nodeValue,a)),e||Gs(n,!0)}else e=gc(e).createTextNode(o),e[z]=n,n.stateNode=e}return fe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ba(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[z]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else a=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[z]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),fe(n),null);case 4:return le(),e===null&&dd(n.stateNode.containerInfo),fe(n),null;case 10:return fs(n.type),fe(n),null;case 19:if(K(Se),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)pl(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,pl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Xg(a,e),a=a.sibling;return it(Se,Se.current&1|2),Bt&&cs(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ie()>rc&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return fe(n),null}else 2*Ie()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ie(),e.sibling=null,a=Se.current,it(Se,h?a&1|2:a&1),Bt&&cs(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return On(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K($r),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(De),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gb(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fs(De),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Si(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(On(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Se),null;case 4:return le(),null;case 10:return fs(n.type),null;case 22:case 23:return On(n),mf(),e!==null&&K($r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fs(De),null;case 25:return null;default:return null}}function by(e,n){switch(Zh(n),n.tag){case 3:fs(De),le();break;case 26:case 27:case 5:Si(n);break;case 4:le();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:K(Se);break;case 10:fs(n.type);break;case 22:case 23:On(n),mf(),e!==null&&K($r);break;case 24:fs(De)}}function yl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function Zs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=a,j=T;try{j()}catch(G){Wt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function Sy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{dp(n,a)}catch(o){Wt(e,e.return,o)}}}function Ay(e,n,a){a.props=ea(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function _l(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function qi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function wy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;Ub(o,e.type,a,n),o[W]=n}catch(h){Wt(e,e.return,h)}}function Ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&rr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,a),e=e.sibling;e!==null;)Yf(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function Iy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,a),n[z]=e,n[W]=a}catch(f){Wt(e,e.return,f)}}var ys=!1,Ve=!1,Xf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function pb(e,n){if(e=e.containerInfo,pd=bc,e=zg(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,I=-1,j=0,G=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=p+h),$!==f||o!==0&&$.nodeType!==3||(I=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++j===h&&(T=p),B===f&&++G===o&&(I=p),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},bc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=ea(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function Ny(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vs(e,a),o&4&&yl(5,a);break;case 1:if(vs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Wt(a,a.return,p)}else{var h=ea(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Wt(a,a.return,p)}}o&64&&Sy(a),o&512&&_l(a,a.return);break;case 3:if(vs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dp(e,n)}catch(p){Wt(a,a.return,p)}}break;case 27:n===null&&o&4&&Iy(a);case 26:case 5:vs(e,a),n===null&&o&4&&wy(a),o&512&&_l(a,a.return);break;case 12:vs(e,a);break;case 31:vs(e,a),o&4&&Oy(e,a);break;case 13:vs(e,a),o&4&&My(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wb.bind(null,a),Gb(e,a))));break;case 22:if(o=a.memoizedState!==null||ys,!o){n=n!==null&&n.memoizedState!==null||Ve,h=ys;var f=Ve;ys=o,(Ve=n)&&!f?Ts(e,a,(a.subtreeFlags&8772)!==0):vs(e,a),ys=h,Ve=f}break;case 30:break;default:vs(e,a)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,_n=!1;function _s(e,n,a){for(a=a.child;a!==null;)Dy(e,n,a),a=a.sibling}function Dy(e,n,a){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(mn,a)}catch{}switch(a.tag){case 26:Ve||qi(a,n),_s(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||qi(a,n);var o=pe,h=_n;rr(a.type)&&(pe=a.stateNode,_n=!1),_s(e,n,a),Il(a.stateNode),pe=o,_n=h;break;case 5:Ve||qi(a,n);case 6:if(o=pe,h=_n,pe=null,_s(e,n,a),pe=o,_n=h,pe!==null)if(_n)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{pe.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:pe!==null&&(_n?(e=pe,S_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),lo(e)):S_(pe,a.stateNode));break;case 4:o=pe,h=_n,pe=a.stateNode.containerInfo,_n=!0,_s(e,n,a),pe=o,_n=h;break;case 0:case 11:case 14:case 15:Zs(2,a,n),Ve||Zs(4,a,n),_s(e,n,a);break;case 1:Ve||(qi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),_s(e,n,a);break;case 21:_s(e,n,a);break;case 22:Ve=(o=Ve)||a.memoizedState!==null,_s(e,n,a),Ve=o;break;default:_s(e,n,a)}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(a){Wt(n,n.return,a)}}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(a){Wt(n,n.return,a)}}function yb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cy),n;default:throw Error(r(435,e.tag))}}function nc(e,n){var a=yb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Rb.bind(null,e,o);o.then(h,h)}})}function vn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(rr(T.type)){pe=T.stateNode,_n=!1;break t}break;case 5:pe=T.stateNode,_n=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(pe===null)throw Error(r(160));Dy(f,p,h),pe=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,e),n=n.sibling}var gi=null;function Vy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(n,e),Tn(e),o&4&&(Zs(3,e,e.return),yl(3,e),Zs(5,e,e.return));break;case 1:vn(n,e),Tn(e),o&512&&(Ve||a===null||qi(a,a.return)),o&64&&ys&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=gi;if(vn(n,e),Tn(e),o&512&&(Ve||a===null||qi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Fn]||f[z]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,a),f[z]=e,Ne(f),o=f;break t;case"link":var p=V_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;case"meta":if(p=V_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[z]=e,Ne(f),o=f}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=M_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k_(h,e.type,e.stateNode):M_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(n,e),Tn(e),o&512&&(Ve||a===null||qi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(n,e),Tn(e),o&512&&(Ve||a===null||qi(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(ot){Wt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(vn(n,e),Tn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(_c=null,h=gi,gi=pc(n.containerInfo),vn(n,e),gi=h,Tn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}Xf&&(Xf=!1,ky(e));break;case 4:o=gi,gi=pc(e.stateNode.containerInfo),vn(n,e),Tn(e),gi=o;break;case 12:vn(n,e),Tn(e);break;case 31:vn(n,e),Tn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:vn(n,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=Ie()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=ys,G=Ve;if(ys=j||h,Ve=G||I,vn(n,e),Ve=G,ys=j,Tn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||ys||Ve||na(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?A_(H,!0):A_(I.stateNode,!1)}catch(ot){Wt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:vn(n,e),Tn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:vn(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);ec(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(yn(p,""),a.flags&=-33);var T=Kf(e);ec(e,T,p);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Kf(e);Yf(e,j,I);break;default:throw Error(r(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(e,n.alternate,n),n=n.sibling}function na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Zs(4,n,n.return),na(n);break;case 1:qi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),na(n);break;case 27:Il(n.stateNode);case 26:case 5:qi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}e=e.sibling}}function Ts(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ts(h,f,a),yl(4,f);break;case 1:if(Ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Wt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)fp(I[h],T)}catch(j){Wt(o,o.return,j)}}a&&p&64&&Sy(f),_l(f,f.return);break;case 27:Iy(f);case 26:case 5:Ts(h,f,a),a&&o===null&&p&4&&wy(f),_l(f,f.return);break;case 12:Ts(h,f,a);break;case 31:Ts(h,f,a),a&&p&4&&Oy(h,f);break;case 13:Ts(h,f,a),a&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&Ts(h,f,a),_l(f,f.return);break;case 30:break;default:Ts(h,f,a)}n=n.sibling}}function $f(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e))}function pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,a,o),n=n.sibling}function Ly(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,a,o),h&2048&&yl(9,n);break;case 1:pi(e,n,a,o);break;case 3:pi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){pi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else pi(e,n,a,o);break;case 31:pi(e,n,a,o);break;case 13:pi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,a,o):vl(e,n):f._visibility&2?pi(e,n,a,o):(f._visibility|=2,Ja(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(p,n);break;case 24:pi(e,n,a,o),h&2048&&Jf(n.alternate,n);break;default:pi(e,n,a,o)}}function Ja(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,I=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ja(f,p,T,I,h),yl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ja(f,p,T,I,h):vl(f,p):(G._visibility|=2,Ja(f,p,T,I,h)),h&&j&2048&&$f(p.alternate,p);break;case 24:Ja(f,p,T,I,h),h&&j&2048&&Jf(p.alternate,p);break;default:Ja(f,p,T,I,h)}n=n.sibling}}function vl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&$f(o.alternate,o);break;case 24:vl(a,o),h&2048&&Jf(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var Tl=8192;function Za(e,n,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Uy(e,n,a),e=e.sibling}function Uy(e,n,a){switch(e.tag){case 26:Za(e,n,a),e.flags&Tl&&e.memoizedState!==null&&iS(a,gi,e.memoizedState,e.memoizedProps);break;case 5:Za(e,n,a);break;case 3:case 4:var o=gi;gi=pc(e.stateNode.containerInfo),Za(e,n,a),gi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Tl,Tl=16777216,Za(e,n,a),Tl=o):Za(e,n,a));break;default:Za(e,n,a)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function El(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ge=o,zy(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Zs(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):El(e);break;default:El(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ge=o,zy(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Zs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function zy(e,n){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ge=o;else t:for(a=e;Ge!==null;){o=Ge;var h=o.sibling,f=o.return;if(xy(o),o===a){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var _b={getCacheForType:function(e){var n=Xe(De),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Xe(De).controller.signal}},vb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Mt=null,Lt=0,Zt=0,Mn=null,Ws=!1,Wa=!1,Zf=!1,Es=0,Ee=0,tr=0,ia=0,Wf=0,Vn=0,to=0,bl=null,En=null,td=!1,sc=0,By=0,rc=1/0,ac=null,er=null,je=0,nr=null,eo=null,bs=0,ed=0,nd=null,qy=null,Sl=0,id=null;function kn(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?ud():Sa()}function Hy(){if(Vn===0)if((Lt&536870912)===0||Bt){var e=Ii;Ii<<=1,(Ii&3932160)===0&&(Ii=262144),Vn=e}else Vn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Vn}function bn(e,n,a){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(no(e,0),ir(e,Lt,Vn,!1)),rs(e,a),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&(ia|=a),Ee===4&&ir(e,Lt,Vn,!1)),Hi(e))}function Fy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||wn(e,n),h=o?bb(e,n):rd(e,n,!0),f=o;do{if(h===0){Wa&&!o&&ir(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Tb(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(no(T,p).flags|=256),p=rd(T,p,!1),p!==2){if(Zf&&!I){T.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){no(e,0),ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ir(o,n,Vn,!Ws);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-Ie(),10<h)){if(ir(o,n,Vn,!Ws),jn(o,0,!0)!==0)break t;bs=n,o.timeoutHandle=E_(Gy.bind(null,o,a,En,ac,td,n,Vn,ia,to,Ws,f,"Throttled",-0,0),h);break t}Gy(o,a,En,ac,td,n,Vn,ia,to,Ws,f,null,-0,0)}}break}while(!0);Hi(e)}function Gy(e,n,a,o,h,f,p,T,I,j,G,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Uy(n,f,$);var ot=(f&62914560)===f?sc-Ie():(f&4194048)===f?By-Ie():0;if(ot=sS($,ot),ot!==null){bs=f,e.cancelPendingCommit=ot(Wy.bind(null,e,n,f,a,o,h,p,T,I,G,$,null,B,H)),ir(e,f,p,!j);return}}Wy(e,n,f,a,o,h,p,T,I)}function Tb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n,a,o){n&=~Wf,n&=~ia,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&nn(e,a,n)}function oc(){return(Kt&6)===0?(Al(0),!1):!0}function sd(){if(Mt!==null){if(Zt===0)var e=Mt.return;else e=Mt,hs=Yr=null,Tf(e),Qa=null,al=0,e=Mt;for(;e!==null;)by(e.alternate,e),e=e.return;Mt=null}}function no(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bs=0,sd(),ae=e,Mt=a=us(e.current,null),Lt=n,Zt=0,Mn=null,Ws=!1,Wa=wn(e,n),Zf=!1,to=Vn=Wf=ia=tr=Ee=0,En=bl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Es=n,Cu(),a}function Qy(e,n){Nt=null,F.H=ml,n===Ga||n===Lu?(n=lp(),Zt=3):n===lf?(n=lp(),Zt=4):Zt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Mt===null&&(Ee=1,$u(e,$n(n,e.current)))}function Ky(){var e=Dn.current;return e===null?!0:(Lt&4194048)===Lt?ti===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===ti:!1}function Yy(){var e=F.H;return F.H=ml,e===null?ml:e}function Xy(){var e=F.A;return F.A=_b,e}function lc(){Ee=4,Ws||(Lt&4194048)!==Lt&&Dn.current!==null||(Wa=!0),(tr&134217727)===0&&(ia&134217727)===0||ae===null||ir(ae,Lt,Vn,!1)}function rd(e,n,a){var o=Kt;Kt|=2;var h=Yy(),f=Xy();(ae!==e||Lt!==n)&&(ac=null,no(e,n)),n=!1;var p=Ee;t:do try{if(Zt!==0&&Mt!==null){var T=Mt,I=Mn;switch(Zt){case 8:sd(),p=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var j=Zt;if(Zt=0,Mn=null,io(e,T,I,j),a&&Wa){p=0;break t}break;default:j=Zt,Zt=0,Mn=null,io(e,T,I,j)}}Eb(),p=Ee;break}catch(G){Qy(e,G)}while(!0);return n&&e.shellSuspendCounter++,hs=Yr=null,Kt=o,F.H=h,F.A=f,Mt===null&&(ae=null,Lt=0,Cu()),p}function Eb(){for(;Mt!==null;)$y(Mt)}function bb(e,n){var a=Kt;Kt|=2;var o=Yy(),h=Xy();ae!==e||Lt!==n?(ac=null,rc=Ie()+500,no(e,n)):Wa=wn(e,n);t:do try{if(Zt!==0&&Mt!==null){n=Mt;var f=Mn;e:switch(Zt){case 1:Zt=0,Mn=null,io(e,n,f,1);break;case 2:case 9:if(ap(f)){Zt=0,Mn=null,Jy(n);break}n=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),Hi(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:ap(f)?(Zt=0,Mn=null,Jy(n)):(Zt=0,Mn=null,io(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?L_(p):T.stateNode.complete){Zt=0,Mn=null;var I=T.sibling;if(I!==null)Mt=I;else{var j=T.return;j!==null?(Mt=j,uc(j)):Mt=null}break e}}Zt=0,Mn=null,io(e,n,f,5);break;case 6:Zt=0,Mn=null,io(e,n,f,6);break;case 8:sd(),Ee=6;break t;default:throw Error(r(462))}}Sb();break}catch(G){Qy(e,G)}while(!0);return hs=Yr=null,F.H=o,F.A=h,Kt=a,Mt!==null?0:(ae=null,Lt=0,Cu(),Ee)}function Sb(){for(;Mt!==null&&!ri();)$y(Mt)}function $y(e){var n=Ty(e.alternate,e,Es);e.memoizedProps=e.pendingProps,n===null?uc(e):Mt=n}function Jy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Tf(n);default:by(a,n),n=Mt=Xg(n,Es),n=Ty(a,n,Es)}e.memoizedProps=e.pendingProps,n===null?uc(e):Mt=n}function io(e,n,a,o){hs=Yr=null,Tf(n),Qa=null,al=0;var h=n.return;try{if(hb(e,h,n,a,Lt)){Ee=1,$u(e,$n(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Ee=1,$u(e,$n(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Wa||(Lt&536870912)!==0?e=!1:(Ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Zy(n,Ws);return}e=n.return;var a=mb(n.alternate,n,Es);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ee===0&&(Ee=5)}function Zy(e,n){do{var a=gb(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Ee=6,Mt=null}function Wy(e,n,a,o,h,f,p,T,I){e.cancelPendingCommit=null;do cc();while(je!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,Lo(e,a,f,p,T,I),e===ae&&(Mt=ae=null,Lt=0),eo=n,nr=e,bs=a,ed=f,nd=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(oi,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=Kt,Kt|=4;try{pb(e,n,a)}finally{Kt=p,nt.p=h,F.T=o}}je=1,t_(),e_(),n_()}}function t_(){if(je===1){je=0;var e=nr,n=eo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Vy(n,e);var f=yd,p=zg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(I!==null&&Bh(T)){var j=I.start,G=I.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=T.textContent.length,yt=Math.min(I.start,ot),ie=I.end===void 0?yt:Math.min(I.end,ot);!H.extend&&yt>ie&&(p=ie,ie=yt,yt=p);var k=Pg(T,yt),x=Pg(T,ie);if(k&&x&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),yt>ie?(H.addRange(P),H.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),H.addRange(P))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!pd,yd=pd=null}finally{Kt=h,nt.p=o,F.T=a}}e.current=n,je=2}}function e_(){if(je===2){je=0;var e=nr,n=eo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Ny(e,n.alternate,n)}finally{Kt=h,nt.p=o,F.T=a}}je=3}}function n_(){if(je===4||je===3){je=0,Ta();var e=nr,n=eo,a=bs,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,eo=nr=null,i_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(er=null),qn(a),n=n.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,nt.p=h}}(bs&3)!==0&&cc(),Hi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===id?Sl++:(Sl=0,id=e):Sl=0,Al(0)}}function i_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sl(n)))}function cc(){return t_(),e_(),n_(),s_()}function s_(){if(je!==5)return!1;var e=nr,n=ed;ed=0;var a=qn(bs),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=nd,nd=null;var f=nr,p=bs;if(je=0,eo=nr=null,bs=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,jy(f.current),Ly(f,f.current,p,a),Kt=T,Al(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(mn,f)}catch{}return!0}finally{nt.p=h,F.T=o,i_(e,n)}}function r_(e,n,a){n=$n(a,n),n=kf(e.stateNode,n,2),e=Xs(e,n,2),e!==null&&(rs(e,2),Hi(e))}function Wt(e,n,a){if(e.tag===3)r_(e,e,a);else for(;n!==null;){if(n.tag===3){r_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(er===null||!er.has(o))){e=$n(a,e),a=ay(2),o=Xs(n,a,2),o!==null&&(oy(a,o,n,e),rs(o,2),Hi(o));break}}n=n.return}}function ad(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new vb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),e=Ab.bind(null,e,n,a),n.then(e,e))}function Ab(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Lt&a)===a&&(Ee===4||Ee===3&&(Lt&62914560)===Lt&&300>Ie()-sc?(Kt&2)===0&&no(e,0):Wf|=a,to===Lt&&(to=0)),Hi(e)}function a_(e,n){n===0&&(n=ba()),e=Gr(e,n),e!==null&&(rs(e,n),Hi(e))}function wb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),a_(e,a)}function Rb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),a_(e,a)}function Ib(e,n){return St(e,n)}var hc=null,so=null,od=!1,fc=!1,ld=!1,sr=0;function Hi(e){e!==so&&e.next===null&&(so===null?hc=so=e:so=so.next=e),fc=!0,od||(od=!0,Nb())}function Al(e,n){if(!ld&&fc){ld=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,c_(o,f))}else f=Lt,f=jn(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||wn(o,f)||(a=!0,c_(o,f));o=o.next}while(a);ld=!1}}function Cb(){o_()}function o_(){fc=od=!1;var e=0;sr!==0&&jb()&&(e=sr);for(var n=Ie(),a=null,o=hc;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(so=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}je!==0&&je!==5||Al(e),sr!==0&&(sr=0)}function l_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ce(f),T=1<<p,I=h[p];I===-1?((T&a)===0||(T&o)!==0)&&(h[p]=ko(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=ae,a=Lt,a=jn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Pn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Pn(o),qn(a)){case 2:case 8:a=Ri;break;case 32:a=oi;break;case 268435456:a=Or;break;default:a=oi}return o=u_.bind(null,e),a=St(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Pn(o),e.callbackPriority=2,e.callbackNode=null,2}function u_(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Lt;return o=jn(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fy(e,o,n),l_(e,Ie()),e.callbackNode!=null&&e.callbackNode===a?u_.bind(null,e):null)}function c_(e,n){if(cc())return null;Fy(e,n,!0)}function Nb(){Bb(function(){(Kt&6)!==0?St(ai,Cb):o_()})}function ud(){if(sr===0){var e=Ha;e===0&&(e=He,He<<=1,(He&261888)===0&&(He=256)),sr=e}return sr}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function f_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function xb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h_((h[W]||null).action),p=o.submitter;p&&(n=(n=p[W]||null)?h_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Li("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sr!==0){var I=p?f_(h,p):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?f_(h,p):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],Db=hd.toLowerCase(),Ob=hd[0].toUpperCase()+hd.slice(1);mi(Db,"on"+Ob)}mi(Hg,"onAnimationEnd"),mi(Fg,"onAnimationIteration"),mi(Gg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Y1,"onTransitionRun"),mi(X1,"onTransitionStart"),mi($1,"onTransitionCancel"),mi(Qg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function d_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(T=o[p],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}}}}function Vt(e,n){var a=n[At];a===void 0&&(a=n[At]=new Set);var o=e+"__bubble";a.has(o)||(m_(n,e,2,!1),a.add(o))}function fd(e,n,a){var o=0;n&&(o|=4),m_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[dc]){e[dc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Mb.has(a)||fd(a,!1,e),fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,fd("selectionchange",!1,n))}}function m_(e,n,a,o){switch(H_(n)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function md(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ni(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}T=T.parentNode}}o=o.return}js(function(){var j=f,G=Qn(a),$=[];t:{var B=Kg.get(e);if(B!==void 0){var H=Li,ot=e;switch(e){case"keypress":if(jr(a)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":ot="focus",H=Br;break;case"focusout":ot="blur",H=Br;break;case"beforeblur":case"afterblur":H=Br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hg:case Fg:case Gg:H=yu;break;case Qg:H=E;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ls;break;case"toggle":case"beforetoggle":H=Ct}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),k=yt?B!==null?B+"Capture":null:B;yt=[];for(var x=j,P;x!==null;){var Y=x;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ci(x,k),Y!=null&&yt.push(Rl(x,Y,P))),ie)break;x=x.return}0<yt.length&&(B=new H(B,ot,null,a,G),$.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Qo&&(ot=a.relatedTarget||a.fromElement)&&(Ni(ot)||ot[ut]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=j,ot=ot?Ni(ot):null,ot!==null&&(ie=c(ot),yt=ot.tag,ot!==ie||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(H=null,ot=j),H!==ot)){if(yt=$o,Y="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ls,Y="onPointerLeave",k="onPointerEnter",x="pointer"),ie=H==null?B:In(H),P=ot==null?B:In(ot),B=new yt(Y,x+"leave",H,a,G),B.target=ie,B.relatedTarget=P,Y=null,Ni(G)===j&&(yt=new yt(k,x+"enter",ot,a,G),yt.target=P,yt.relatedTarget=ie,Y=yt),ie=Y,H&&ot)e:{for(yt=Vb,k=H,x=ot,P=0,Y=k;Y;Y=yt(Y))P++;Y=0;for(var dt=x;dt;dt=yt(dt))Y++;for(;0<P-Y;)k=yt(k),P--;for(;0<Y-P;)x=yt(x),Y--;for(;P--;){if(k===x||x!==null&&k===x.alternate){yt=k;break e}k=yt(k),x=yt(x)}yt=null}else yt=null;H!==null&&g_($,B,H,yt,!1),ot!==null&&ie!==null&&g_($,ie,ot,yt,!0)}}t:{if(B=j?In(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ft=Og;else if(xg(B))if(Mg)Ft=G1;else{Ft=H1;var lt=q1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ia(j.elementType)&&(Ft=Og):Ft=F1;if(Ft&&(Ft=Ft(e,j))){Dg($,Ft,a,G);break t}lt&&lt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(lt=j?In(j):window,e){case"focusin":(xg(lt)||lt.contentEditable==="true")&&(ka=lt,qh=j,el=null);break;case"focusout":el=qh=ka=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Bg($,a,G);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Bg($,a,G)}var xt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Va?qr(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(ji&&a.locale!=="ko"&&(Va||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Va&&(xt=Yo()):(ki=G,Ko="value"in ki?ki.value:ki.textContent,Va=!0)),lt=mc(j,Ut),0<lt.length&&(Ut=new Pi(Ut,e,null,a,G),$.push({event:Ut,listeners:lt}),xt?Ut.data=xt:(xt=Ma(a),xt!==null&&(Ut.data=xt)))),(xt=Yn?P1(e,a):j1(e,a))&&(Ut=mc(j,"onBeforeInput"),0<Ut.length&&(lt=new Pi("onBeforeInput","beforeinput",null,a,G),$.push({event:lt,listeners:Ut}),lt.data=xt)),xb($,e,j,a,G)}d_($,n)})}function Rl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(e,a),h!=null&&o.unshift(Rl(e,h,f)),h=ci(e,n),h!=null&&o.push(Rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=ci(a,f),j!=null&&p.unshift(Rl(a,j,I))):h||(j=ci(a,f),j!=null&&p.push(Rl(a,j,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var kb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(kb,`
`).replace(Lb,"")}function y_(e,n){return n=p_(n),p_(e)===n}function ne(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":Cn(e,"class",o);break;case"tabIndex":Cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(e,a,o);break;case"style":Go(e,o,f);break;case"data":if(n!=="object"){Cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ui);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),wa(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,wa(e,a,o))}}function gd(e,n,a,o,h,f){switch(a){case"style":Go(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[W]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):wa(e,a,o)}}}function Je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,f,p,a,null)}}h&&ne(e,n,"srcSet",a.srcSet,a,null),o&&ne(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ne(e,n,o,G,a,null)}}hu(e,f,T,I,j,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ne(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ks(e,!!o,n,!1):a!=null&&ks(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ne(e,n,p,T,a,null)}Ls(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,I,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<wl.length;o++)Vt(wl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,j,o,a,null)}return;default:if(Ia(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&gd(e,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ne(e,n,T,o,a,null))}function Ub(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,j=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ne(e,n,B,H,o,$)}}Ra(e,p,T,I,j,G,f,h);return;case"select":H=p=T=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&ne(e,n,h,f,o,I)}n=T,a=p,o=H,B!=null?ks(e,!!a,B,!1):!!o!=!!a&&(n!=null?ks(e,!!a,n,!0):ks(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ne(e,n,p,h,o,f)}fu(e,B,H);return;case"option":for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ne(e,n,ot,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ne(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ne(e,n,j,B,o,H)}return;default:if(Ia(n)){for(var ie in a)B=a[ie],a.hasOwnProperty(ie)&&B!==void 0&&!o.hasOwnProperty(ie)&&gd(e,n,ie,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||gd(e,n,G,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ne(e,n,$,B,o,H)}function __(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&__(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>T)break;var G=I.transferSize,$=I.initiatorType;G&&__($)&&(I=I.responseEnd,p+=G*(I<T?1:(T-j)/(I-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,yd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function v_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function jb(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(qb)}:E_;function qb(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function S_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),lo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Fn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Il(e.ownerDocument.body);a=h}while(a);lo(n)}function A_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Fn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function Fb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ei(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function R_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return ei(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function I_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function C_(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Aa(e)}var ni=new Map,N_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=nt.d;nt.d={f:Qb,r:Kb,D:Yb,C:Xb,L:$b,m:Jb,X:Wb,S:Zb,M:tS};function Qb(){var e=Ss.f(),n=oc();return e||n}function Kb(e){var n=Gn(e);n!==null&&n.tag===5&&n.type==="form"?Qp(n):Ss.r(e)}var ro=typeof document>"u"?null:document;function x_(e,n,a){var o=ro;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Yb(e){Ss.D(e),x_("dns-prefetch",e,null)}function Xb(e,n){Ss.C(e,n),x_("preconnect",e,n)}function $b(e,n,a){Ss.L(e,n,a);var o=ro;if(o&&e&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(e)+'"]';var f=h;switch(n){case"style":f=ao(e);break;case"script":f=oo(e)}ni.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cl(f))||n==="script"&&o.querySelector(Nl(f))||(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Jb(e,n){Ss.m(e,n);var a=ro;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oo(e)}if(!ni.has(f)&&(e=A({rel:"modulepreload",href:e},n),ni.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}o=a.createElement("link"),Je(o,"link",e),Ne(o),a.head.appendChild(o)}}}function Zb(e,n,a){Ss.S(e,n,a);var o=ro;if(o&&e){var h=xi(o).hoistableStyles,f=ao(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(Cl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ni.get(f))&&Ad(e,a);var I=p=o.createElement("link");Ne(I),Je(I,"link",e),I._p=new Promise(function(j,G){I.onload=j,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Wb(e,n){Ss.X(e,n);var a=ro;if(a&&e){var o=xi(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(e=A({src:e,async:!0},n),(n=ni.get(h))&&wd(e,n),f=a.createElement("script"),Ne(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tS(e,n){Ss.M(e,n);var a=ro;if(a&&e){var o=xi(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&wd(e,n),f=a.createElement("script"),Ne(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function D_(e,n,a,o){var h=(h=bt.current)?pc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ao(a.href),a=xi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ao(a.href);var f=xi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Cl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(e,a),f||eS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(a),a=xi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ao(e){return'href="'+pn(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function eS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",a),Ne(n),e.head.appendChild(n))}function oo(e){return'[src="'+pn(e)+'"]'}function Nl(e){return"script[async]"+e}function M_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pn(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Je(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ao(a.href);var f=e.querySelector(Cl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=O_(a),(h=ni.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Je(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=oo(a.src),(h=e.querySelector(Nl(f)))?(n.instance=h,Ne(h),h):(o=a,(h=ni.get(f))&&(o=A({},a),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function V_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Fn]||f[z]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function k_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function nS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ao(o.href),f=n.querySelector(Cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ne(f);return}f=n.ownerDocument||n,o=O_(o),(h=ni.get(h))&&Ad(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rd=0;function sS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*Pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(rS,e),Tc=null,vc.call(e))}function rS(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var xl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function aS(e,n,a,o,h,f,p,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.hiddenUpdates=zn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function U_(e,n,a,o,h,f,p,T,I,j,G,$){return e=new aS(e,n,a,p,I,j,G,$,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},uf(f),e}function P_(e){return e?(e=Pa,e):Pa}function j_(e,n,a,o,h,f){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ys(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Xs(e,o,n),a!==null&&(bn(a,e,n),ll(a,e,n))}function z_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){z_(e,n),(e=e.alternate)&&z_(e,n)}function B_(e){if(e.tag===13||e.tag===31){var n=Gr(e,67108864);n!==null&&bn(n,e,67108864),Id(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var n=kn();n=li(n);var a=Gr(e,n);a!==null&&bn(a,e,n),Id(e,n)}}var bc=!0;function oS(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Cd(e,n,a,o)}finally{nt.p=f,F.T=h}}function lS(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Cd(e,n,a,o)}finally{nt.p=f,F.T=h}}function Cd(e,n,a,o){if(bc){var h=Nd(o);if(h===null)md(e,n,o,Sc,a),F_(e,o);else if(cS(h,e,n,a,o))o.stopPropagation();else if(F_(e,o),n&4&&-1<uS.indexOf(e)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=cn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-ce(p);T.entanglements[1]|=I,p&=~I}Hi(f),(Kt&6)===0&&(rc=Ie()+500,Al(0))}}break;case 31:case 13:T=Gr(f,2),T!==null&&bn(T,f,2),oc(),Id(f,2)}if(f=Nd(o),f===null&&md(e,n,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,a)}}function Nd(e){return e=Qn(e),xd(e)}var Sc=null;function xd(e){if(Sc=null,e=Ni(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wi()){case ai:return 2;case Ri:return 8;case oi:case Dr:return 32;case Or:return 268435456;default:return 32}default:return 32}}var Dd=!1,ar=null,or=null,lr=null,Dl=new Map,Ol=new Map,ur=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cS(e,n,a,o,h){switch(n){case"focusin":return ar=Ml(ar,e,n,a,o,h),!0;case"dragenter":return or=Ml(or,e,n,a,o,h),!0;case"mouseover":return lr=Ml(lr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ml(Dl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,e,n,a,o,h)),!0}return!1}function G_(e){var n=Ni(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,gn(e.priority,function(){q_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,gn(e.priority,function(){q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return n=Gn(a),n!==null&&B_(n),e.blockedOn=a,!1;n.shift()}return!0}function Q_(e,n,a){Ac(e)&&a.delete(n)}function hS(){Dd=!1,ar!==null&&Ac(ar)&&(ar=null),or!==null&&Ac(or)&&(or=null),lr!==null&&Ac(lr)&&(lr=null),Dl.forEach(Q_),Ol.forEach(Q_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hS)))}var Rc=null;function K_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Gn(a);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function lo(e){function n(I){return wc(I,e)}ar!==null&&wc(ar,e),or!==null&&wc(or,e),lr!==null&&wc(lr,e),Dl.forEach(n),Ol.forEach(n);for(var a=0;a<ur.length;a++){var o=ur[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[W]||null;if(typeof f=="function")p||K_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[W]||null)T=p.formAction;else if(xd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),K_(a)}}}function Y_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Ic.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=kn();j_(a,o,e,n,null,null)},Ic.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),oc(),n[ut]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sa();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ur.length&&n!==0&&n<ur[a].priority;a++);ur.splice(a,0,e),a===0&&G_(e)}};var X_=t.version;if(X_!=="19.2.3")throw Error(r(527,X_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var fS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{mn=Cc.inject(fS),Ce=Cc}catch{}}return kl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ny,f=iy,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=U_(e,1,!1,null,null,a,o,null,h,f,p,Y_),e[ut]=n.current,dd(e),new Od(n)},kl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ny,p=iy,T=sy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=U_(e,1,!0,n,a??null,o,h,I,f,p,T,Y_),n.context=P_(null),a=n.current,o=kn(),o=li(o),h=Ys(o),h.callback=null,Xs(a,h,o),a=o,n.current.lanes=a,rs(n,a),Hi(n),e[ut]=n.current,dd(e),new Ic(n)},kl.version="19.2.3",kl}var rv;function bS(){if(rv)return kd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=ES(),kd.exports}var SS=bS();const AS=()=>{};var av={};const K0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},wS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),r.push(i[b],i[A],i[M],i[Q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(K0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):wS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new RS;const M=c<<2|g>>4;if(r.push(M),y!==64){const Q=g<<4&240|y>>2;if(r.push(Q),A!==64){const X=y<<6&192|A;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(s){const t=K0(s);return Y0.encodeByteArray(t,!0)},Kc=function(s){return IS(s).replace(/\./g,"")},X0=function(s){try{return Y0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NS=()=>CS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof av>"u")return;const s=av.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&X0(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return AS()||NS()||xS()||DS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$0=s=>gh()?.emulatorHosts?.[s],OS=s=>{const t=$0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},J0=()=>gh()?.config,Z0=s=>gh()?.[`_${s}`];class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(s){return(await fetch(s,{credentials:"include"})).ok}function VS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Bl={};function kS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?s.emulator.push(t):s.prod.push(t);return s}function LS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let ov=!1;function tT(s,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Bl[s]===t||Bl[s]||ov)return;Bl[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=kS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{ov=!0,d()},M}function b(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=LS(r),Q=i("text"),X=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),tt=document.getElementById(rt)||document.createElement("a"),mt=i("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;g(pt),b(tt,rt);const Dt=y();_(vt,mt),pt.append(vt,X,tt,Dt),document.body.appendChild(pt)}c?(X.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function PS(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function HS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const FS="FirebaseError";class bi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=FS,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?GS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new bi(l,g,r)}}function GS(s,t){return s.replace(QS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const QS=/\{\$([^}]+)}/g;function KS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Er(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(lv(c)&&lv(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function lv(s){return s!==null&&typeof s=="object"}function eu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function YS(s,t){const i=new XS(s,t);return i.subscribe.bind(i)}class XS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");$S(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}const JS=1e3,ZS=2,WS=14400*1e3,tA=.5;function uv(s,t=JS,i=ZS){const r=t*Math.pow(i,s),l=Math.round(tA*r*(Math.random()-.5)*2);return Math.min(WS,r+l)}function Ue(s){return s&&s._delegate?s._delegate:s}class Ei{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const sa="[DEFAULT]";class eA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iA(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(s){return s===sa?void 0:s}function iA(s){return s.instantiationMode==="EAGER"}class sA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const rA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},aA=Pt.INFO,oA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},lA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=oA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ph{constructor(t){this.name=t,this._logLevel=aA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const uA=(s,t)=>t.some(i=>s instanceof i);let cv,hv;function cA(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,nm=new WeakMap,rT=new WeakMap,zd=new WeakMap,Mm=new WeakMap;function fA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(pr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&sT.set(i,s)}).catch(()=>{}),Mm.set(t,s),t}function dA(s){if(nm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,t)}let im={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return nm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||rT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function mA(s){im=s(im)}function gA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Bd(this),t,...i);return rT.set(r,t.sort?t.sort():[t]),pr(r)}:hA().includes(s)?function(...t){return s.apply(Bd(this),t),pr(sT.get(this))}:function(...t){return pr(s.apply(Bd(this),t))}}function pA(s){return typeof s=="function"?gA(s):(s instanceof IDBTransaction&&dA(s),uA(s,cA())?new Proxy(s,im):s)}function pr(s){if(s instanceof IDBRequest)return fA(s);if(zd.has(s))return zd.get(s);const t=pA(s);return t!==s&&(zd.set(s,t),Mm.set(t,s)),t}const Bd=s=>Mm.get(s);function aT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=pr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(pr(d.result),_.oldVersion,_.newVersion,pr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const yA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],qd=new Map;function fv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=_A.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||yA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return qd.set(t,c),c}mA(s=>({...s,get:(t,i,r)=>fv(t,i)||s.get(t,i,r),has:(t,i)=>!!fv(t,i)||s.has(t,i)}));class vA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function TA(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",dv="0.14.6";const Is=new ph("@firebase/app"),EA="@firebase/app-compat",bA="@firebase/analytics-compat",SA="@firebase/analytics",AA="@firebase/app-check-compat",wA="@firebase/app-check",RA="@firebase/auth",IA="@firebase/auth-compat",CA="@firebase/database",NA="@firebase/data-connect",xA="@firebase/database-compat",DA="@firebase/functions",OA="@firebase/functions-compat",MA="@firebase/installations",VA="@firebase/installations-compat",kA="@firebase/messaging",LA="@firebase/messaging-compat",UA="@firebase/performance",PA="@firebase/performance-compat",jA="@firebase/remote-config",zA="@firebase/remote-config-compat",BA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",FA="@firebase/ai",GA="@firebase/firestore-compat",QA="firebase",KA="12.6.0";const rm="[DEFAULT]",YA={[sm]:"fire-core",[EA]:"fire-core-compat",[SA]:"fire-analytics",[bA]:"fire-analytics-compat",[wA]:"fire-app-check",[AA]:"fire-app-check-compat",[RA]:"fire-auth",[IA]:"fire-auth-compat",[CA]:"fire-rtdb",[NA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[DA]:"fire-fn",[OA]:"fire-fn-compat",[MA]:"fire-iid",[VA]:"fire-iid-compat",[kA]:"fire-fcm",[LA]:"fire-fcm-compat",[UA]:"fire-perf",[PA]:"fire-perf-compat",[jA]:"fire-rc",[zA]:"fire-rc-compat",[BA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[GA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[QA]:"fire-js-all"};const Yc=new Map,XA=new Map,am=new Map;function mv(s,t){try{s.container.addComponent(t)}catch(i){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $i(s){const t=s.name;if(am.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,s);for(const i of Yc.values())mv(i,s);for(const i of XA.values())mv(i,s);return!0}function ya(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function yi(s){return s==null?!1:s.settings!==void 0}const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new pa("app","Firebase",$A);class JA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const No=KA;function oT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:rm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw yr.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw yr.create("no-options");const c=Yc.get(l);if(c){if(Er(i,c.options)&&Er(r,c.config))return c;throw yr.create("duplicate-app",{appName:l})}const d=new sA(l);for(const _ of am.values())d.addComponent(_);const g=new JA(i,r,d);return Yc.set(l,g),g}function Vm(s=rm){const t=Yc.get(s);if(!t&&s===rm&&J0())return oT();if(!t)throw yr.create("no-app",{appName:s});return t}function si(s,t,i){let r=YA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}$i(new Ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ZA="firebase-heartbeat-database",WA=1,Kl="firebase-heartbeat-store";let Hd=null;function lT(){return Hd||(Hd=aT(ZA,WA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw yr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function tw(s){try{const i=(await lT()).transaction(Kl),r=await i.objectStore(Kl).get(uT(s));return await i.done,r}catch(t){if(t instanceof bi)Is.warn(t.message);else{const i=yr.create("idb-get",{originalErrorMessage:t?.message});Is.warn(i.message)}}}async function gv(s,t){try{const r=(await lT()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(t,uT(s)),await r.done}catch(i){if(i instanceof bi)Is.warn(i.message);else{const r=yr.create("idb-set",{originalErrorMessage:i?.message});Is.warn(r.message)}}}function uT(s){return`${s.name}!${s.options.appId}`}const ew=1024,nw=30;class iw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nw){const l=aw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:i,unsentEntries:r}=sw(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Is.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function sw(s,t=ew){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yv(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function aw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function ow(s){$i(new Ei("platform-logger",t=>new vA(t),"PRIVATE")),$i(new Ei("heartbeat",t=>new iw(t),"PRIVATE")),si(sm,dv,s),si(sm,dv,"esm2020"),si("fire-js","")}ow("");var lw="firebase",uw="12.7.0";si(lw,uw,"app");const cT="@firebase/installations",km="0.6.19";const hT=1e4,fT=`w:${km}`,dT="FIS_v2",cw="https://firebaseinstallations.googleapis.com/v1",hw=3600*1e3,fw="installations",dw="Installations";const mw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ha=new pa(fw,dw,mw);function mT(s){return s instanceof bi&&s.code.includes("request-failed")}function gT({projectId:s}){return`${cw}/projects/${s}/installations`}function pT(s){return{token:s.token,requestStatus:2,expiresIn:pw(s.expiresIn),creationTime:Date.now()}}async function yT(s,t){const r=(await t.json()).error;return ha.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _T({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function gw(s,{refreshToken:t}){const i=_T(s);return i.append("Authorization",yw(t)),i}async function vT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function pw(s){return Number(s.replace("s","000"))}function yw(s){return`${dT} ${s}`}async function _w({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=gT(s),l=_T(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:dT,appId:s.appId,sdkVersion:fT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await vT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:pT(y.authToken)}}else throw await yT("Create Installation",_)}function TT(s){return new Promise(t=>{setTimeout(t,s)})}function vw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const Tw=/^[cdef][\w-]{21}$/,om="";function Ew(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=bw(s);return Tw.test(i)?i:om}catch{return om}}function bw(s){return vw(s).substr(0,22)}function yh(s){return`${s.appName}!${s.appId}`}const ET=new Map;function bT(s,t){const i=yh(s);ST(i,t),Sw(i,t)}function ST(s,t){const i=ET.get(s);if(i)for(const r of i)r(t)}function Sw(s,t){const i=Aw();i&&i.postMessage({key:s,fid:t}),ww()}let ra=null;function Aw(){return!ra&&"BroadcastChannel"in self&&(ra=new BroadcastChannel("[Firebase] FID Change"),ra.onmessage=s=>{ST(s.data.key,s.data.fid)}),ra}function ww(){ET.size===0&&ra&&(ra.close(),ra=null)}const Rw="firebase-installations-database",Iw=1,fa="firebase-installations-store";let Fd=null;function Lm(){return Fd||(Fd=aT(Rw,Iw,{upgrade:(s,t)=>{t===0&&s.createObjectStore(fa)}})),Fd}async function Xc(s,t){const i=yh(s),l=(await Lm()).transaction(fa,"readwrite"),c=l.objectStore(fa),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&bT(s,t.fid),t}async function AT(s){const t=yh(s),r=(await Lm()).transaction(fa,"readwrite");await r.objectStore(fa).delete(t),await r.done}async function _h(s,t){const i=yh(s),l=(await Lm()).transaction(fa,"readwrite"),c=l.objectStore(fa),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&bT(s,g.fid),g}async function Um(s){let t;const i=await _h(s.appConfig,r=>{const l=Cw(r),c=Nw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===om?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Cw(s){const t=s||{fid:Ew(),registrationStatus:0};return wT(t)}function Nw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ha.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=xw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Dw(s)}:{installationEntry:t}}async function xw(s,t){try{const i=await _w(s,t);return Xc(s.appConfig,i)}catch(i){throw mT(i)&&i.customData.serverCode===409?await AT(s.appConfig):await Xc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Dw(s){let t=await _v(s.appConfig);for(;t.registrationStatus===1;)await TT(100),t=await _v(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Um(s);return r||i}return t}function _v(s){return _h(s,t=>{if(!t)throw ha.create("installation-not-found");return wT(t)})}function wT(s){return Ow(s)?{fid:s.fid,registrationStatus:0}:s}function Ow(s){return s.registrationStatus===1&&s.registrationTime+hT<Date.now()}async function Mw({appConfig:s,heartbeatServiceProvider:t},i){const r=Vw(s,i),l=gw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:fT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await vT(()=>fetch(r,g));if(_.ok){const y=await _.json();return pT(y)}else throw await yT("Generate Auth Token",_)}function Vw(s,{fid:t}){return`${gT(s)}/${t}/authTokens:generate`}async function Pm(s,t=!1){let i;const r=await _h(s.appConfig,c=>{if(!RT(c))throw ha.create("not-registered");const d=c.authToken;if(!t&&Uw(d))return c;if(d.requestStatus===1)return i=kw(s,t),c;{if(!navigator.onLine)throw ha.create("app-offline");const g=jw(c);return i=Lw(s,g),g}});return i?await i:r.authToken}async function kw(s,t){let i=await vv(s.appConfig);for(;i.authToken.requestStatus===1;)await TT(100),i=await vv(s.appConfig);const r=i.authToken;return r.requestStatus===0?Pm(s,t):r}function vv(s){return _h(s,t=>{if(!RT(t))throw ha.create("not-registered");const i=t.authToken;return zw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Lw(s,t){try{const i=await Mw(s,t),r={...t,authToken:i};return await Xc(s.appConfig,r),i}catch(i){if(mT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await AT(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Xc(s.appConfig,r)}throw i}}function RT(s){return s!==void 0&&s.registrationStatus===2}function Uw(s){return s.requestStatus===2&&!Pw(s)}function Pw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+hw}function jw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function zw(s){return s.requestStatus===1&&s.requestTime+hT<Date.now()}async function Bw(s){const t=s,{installationEntry:i,registrationPromise:r}=await Um(t);return r?r.catch(console.error):Pm(t).catch(console.error),i.fid}async function qw(s,t=!1){const i=s;return await Hw(i),(await Pm(i,t)).token}async function Hw(s){const{registrationPromise:t}=await Um(s);t&&await t}function Fw(s){if(!s||!s.options)throw Gd("App Configuration");if(!s.name)throw Gd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Gd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Gd(s){return ha.create("missing-app-config-values",{valueName:s})}const IT="installations",Gw="installations-internal",Qw=s=>{const t=s.getProvider("app").getImmediate(),i=Fw(t),r=ya(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Kw=s=>{const t=s.getProvider("app").getImmediate(),i=ya(t,IT).getImmediate();return{getId:()=>Bw(i),getToken:l=>qw(i,l)}};function Yw(){$i(new Ei(IT,Qw,"PUBLIC")),$i(new Ei(Gw,Kw,"PRIVATE"))}Yw();si(cT,km);si(cT,km,"esm2020");const $c="analytics",Xw="firebase_id",$w="origin",Jw=60*1e3,Zw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jm="https://www.googletagmanager.com/gtag/js";const dn=new ph("@firebase/analytics");const Ww={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new pa("analytics","Analytics",Ww);function t2(s){if(!s.startsWith(jm)){const t=Un.create("invalid-gtag-resource",{gtagURL:s});return dn.warn(t.message),""}return s}function CT(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function e2(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function n2(s,t){const i=e2("firebase-js-sdk-policy",{createScriptURL:t2}),r=document.createElement("script"),l=`${jm}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function i2(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function s2(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await CT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){dn.error(g)}s("config",l,c)}async function r2(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await CT(i);for(const _ of d){const y=g.find(A=>A.measurementId===_),b=y&&t[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){dn.error(c)}}function a2(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await r2(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await s2(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){dn.error(g)}}return l}function o2(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=a2(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function l2(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(jm)&&i.src.includes(s))return i;return null}const u2=30,c2=1e3;class h2{constructor(t={},i=c2){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const NT=new h2;function f2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function d2(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:f2(i)},l=Zw.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function m2(s,t=NT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw Un.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw Un.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new y2;return setTimeout(async()=>{g.abort()},Jw),xT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function xT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=NT){const{appId:c,measurementId:d}=s;try{await g2(r,t)}catch(g){if(d)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await d2(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!p2(_)){if(l.deleteThrottleMetadata(c),d)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?uv(i,l.intervalMillis,u2):uv(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,b),dn.debug(`Calling attemptFetch again in ${y} millis`),xT(s,b,r,l)}}function g2(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(Un.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function p2(s){if(!(s instanceof bi)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class y2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _2(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function v2(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function T2(){if(nT())try{await iT()}catch(s){return dn.warn(Un.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return dn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function E2(s,t,i,r,l,c,d){const g=m2(s);g.then(M=>{i[M.measurementId]=M.appId,s.options.measurementId&&M.measurementId!==s.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>dn.error(M)),t.push(g);const _=T2().then(M=>{if(M)return r.getId()}),[y,b]=await Promise.all([g,_]);l2(c)||n2(c,y.measurementId),l("js",new Date);const A=d?.config??{};return A[$w]="firebase",A.update=!0,b!=null&&(A[Xw]=b),l("config",y.measurementId,A),y.measurementId}class b2{constructor(t){this.app=t}_delete(){return delete mo[this.app.options.appId],Promise.resolve()}}let mo={},Tv=[];const Ev={};let Qd="dataLayer",S2="gtag",bv,zm,Sv=!1;function A2(){const s=[];if(eT()&&s.push("This is a browser extension environment."),HS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=Un.create("invalid-analytics-context",{errorInfo:t});dn.warn(i.message)}}function w2(s,t,i){A2();const r=s.options.appId;if(!r)throw Un.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(mo[r]!=null)throw Un.create("already-exists",{id:r});if(!Sv){i2(Qd);const{wrappedGtag:c,gtagCore:d}=o2(mo,Tv,Ev,Qd,S2);zm=c,bv=d,Sv=!0}return mo[r]=E2(s,Tv,Ev,t,bv,Qd,i),new b2(s)}function R2(s=Vm()){s=Ue(s);const t=ya(s,$c);return t.isInitialized()?t.getImmediate():I2(s)}function I2(s,t={}){const i=ya(s,$c);if(i.isInitialized()){const l=i.getImmediate();if(Er(t,i.getOptions()))return l;throw Un.create("already-initialized")}return i.initialize({options:t})}function C2(s,t,i){s=Ue(s),v2(zm,mo[s.app.options.appId],t,i).catch(r=>dn.error(r))}function N2(s,t,i,r){s=Ue(s),_2(zm,mo[s.app.options.appId],t,i,r).catch(l=>dn.error(l))}const Av="@firebase/analytics",wv="0.10.19";function x2(){$i(new Ei($c,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return w2(r,l,i)},"PUBLIC")),$i(new Ei("analytics-internal",s,"PRIVATE")),si(Av,wv),si(Av,wv,"esm2020");function s(t){try{const i=t.getProvider($c).getImmediate();return{logEvent:(r,l,c)=>N2(i,r,l,c),setUserProperties:(r,l)=>C2(i,r,l)}}catch(i){throw Un.create("interop-component-reg-failed",{reason:i})}}}x2();function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=DT,OT=new pa("auth","Firebase",DT());const Jc=new ph("@firebase/auth");function O2(s,...t){Jc.logLevel<=Pt.WARN&&Jc.warn(`Auth (${No}): ${s}`,...t)}function Uc(s,...t){Jc.logLevel<=Pt.ERROR&&Jc.error(`Auth (${No}): ${s}`,...t)}function Ji(s,...t){throw qm(s,...t)}function vi(s,...t){return qm(s,...t)}function Bm(s,t,i){const r={...D2(),[t]:i};return new pa("auth","Firebase",r).create(t,{appName:s.name})}function la(s){return Bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ji(s,"argument-error"),Bm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return OT.create(s,...t)}function Et(s,t,...i){if(!s)throw qm(t,...i)}function ws(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Uc(t),new Error(t)}function Cs(s,t){s||ws(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function V2(){return Rv()==="http:"||Rv()==="https:"}function Rv(){return typeof self<"u"&&self.location?.protocol||null}function k2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||eT()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Cs(i>t,"Short delay should be less than long delay!"),this.isMobile=US()||zS()}get(){return k2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,t){Cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class MT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new nu(3e4,6e4);function Fm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function xo(s,t,i,r,l={}){return VT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=eu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return jS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Co(s.emulatorConfig.host)&&(y.credentials="include"),MT.fetch()(await kT(s,s.config.apiHost,i,g),y)})}async function VT(s,t,i){s._canInitEmulator=!1;const r={...U2,...t};try{const l=new B2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bm(s,b,y);Ji(s,b)}}catch(l){if(l instanceof bi)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function z2(s,t,i,r,l={}){const c=await xo(s,t,i,r,l);return"mfaPendingCredential"in c&&Ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function kT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Hm(s.config,l):`${s.config.apiScheme}://${l}`;return P2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),j2.get())})}}function Nc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=vi(s,t,r);return l.customData._tokenResponse=i,l}async function q2(s,t){return xo(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return xo(s,"POST","/v1/accounts:lookup",t)}function ql(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function H2(s,t=!1){const i=Ue(s),r=await i.getIdToken(t),l=Gm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:ql(Kd(l.auth_time)),issuedAtTime:ql(Kd(l.iat)),expirationTime:ql(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Gm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=X0(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(s){const t=Gm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Yl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof bi&&F2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function F2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class G2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const t=s.auth,i=await s.getIdToken(),r=await Yl(s,Zc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?LT(l.providerUserInfo):[],d=K2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function Q2(s){const t=Ue(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function LT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Y2(s,t){const i=await VT(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await kT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Co(s.emulatorConfig.host)&&(_.credentials="include"),MT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function X2(s,t){return xo(s,"POST","/v2/accounts:revokeToken",Fm(s,t))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=Iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Y2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new go;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ws("not implemented")}}function hr(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class _i{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new G2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return H2(this,t)}reload(){return Q2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new _i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(la(this.auth));const t=await this.getIdToken();return await Yl(this,q2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:X,stsTokenManager:rt}=i;Et(A&&rt,t,"internal-error");const tt=go.fromJSON(this.name,rt);Et(typeof A=="string",t,"internal-error"),hr(r,t.name),hr(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof Q=="boolean",t,"internal-error"),hr(c,t.name),hr(d,t.name),hr(g,t.name),hr(_,t.name),hr(y,t.name),hr(b,t.name);const mt=new _i({uid:A,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:y,lastLoginAt:b});return X&&Array.isArray(X)&&(mt.providerData=X.map(vt=>({...vt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new go;l.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?LT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new go;g.updateFromIdToken(r);const _=new _i({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Cv=new Map;function Rs(s){Cs(s instanceof Function,"Expected a class definition");let t=Cv.get(s);return t?(Cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Cv.set(s,t),t)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}UT.type="NONE";const Nv=UT;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class po{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new po(Rs(Nv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Rs(Nv);const d=Pc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Zc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await _i._fromGetAccountInfoResponse(t,M,b)}else A=_i._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new po(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new po(c,t,r))}}function xv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HT(t))return"Blackberry";if(FT(t))return"Webos";if(jT(t))return"Safari";if((t.includes("chrome/")||zT(t))&&!t.includes("edge/"))return"Chrome";if(qT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function PT(s=ln()){return/firefox\//i.test(s)}function jT(s=ln()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zT(s=ln()){return/crios\//i.test(s)}function BT(s=ln()){return/iemobile/i.test(s)}function qT(s=ln()){return/android/i.test(s)}function HT(s=ln()){return/blackberry/i.test(s)}function FT(s=ln()){return/webos/i.test(s)}function Qm(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $2(s=ln()){return Qm(s)&&!!window.navigator?.standalone}function J2(){return BS()&&document.documentMode===10}function GT(s=ln()){return Qm(s)||qT(s)||FT(s)||HT(s)||/windows phone/i.test(s)||BT(s)}function QT(s,t=[]){let i;switch(s){case"Browser":i=xv(ln());break;case"Worker":i=`${xv(ln())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${No}/${r}`}class Z2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function W2(s,t={}){return xo(s,"GET","/v2/passwordPolicy",Fm(s,t))}const tR=6;class eR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??tR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class nR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new Z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),r=await _i._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yi(this.app))return Promise.reject(la(this));const i=t?Ue(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await W2(this),i=new eR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pa("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await X2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Rs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&O2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vh(s){return Ue(s)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(s){Km=s}function sR(s){return Km.loadJS(s)}function rR(){return Km.gapiScript}function aR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function oR(s,t){const i=ya(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Er(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function lR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function uR(s,t,i){const r=vh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=KT(t),{host:d,port:g}=cR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Er(y,r.config.emulator)&&Er(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Co(d)?(W0(`${c}//${d}${_}`),tT("Auth",!0)):hR()}function KT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function cR(s){const t=KT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ov(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ov(d)}}}function Ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function hR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class YT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ws("not implemented")}_getIdTokenResponse(t){return ws("not implemented")}_linkToIdToken(t,i){return ws("not implemented")}_getReauthenticationResolver(t){return ws("not implemented")}}async function yo(s,t){return z2(s,"POST","/v1/accounts:signInWithIdp",Fm(s,t))}const fR="http://localhost";class da extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new da(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return yo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,yo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,yo(t,i)}buildRequest(){const t={requestUri:fR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=eu(i)}return t}}class Ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends Ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class fr extends iu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class As extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return da._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return As.credential(i,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class dr extends iu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends iu{constructor(){super("twitter.com")}static credential(t,i){return da._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return mr.credential(i,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await _i._fromIdTokenResponse(t,r,l),d=Mv(r);return new To({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Mv(r);return new To({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Mv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends bi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new th(t,i,r,l)}}function XT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,t,r):c})}async function dR(s,t,i=!1){const r=await Yl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return To._forOperation(s,"link",r)}async function mR(s,t,i=!1){const{auth:r}=s;if(yi(r.app))return Promise.reject(la(r));const l="reauthenticate";try{const c=await Yl(s,XT(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=Gm(c.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),To._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ji(r,"user-mismatch"),c}}async function gR(s,t,i=!1){if(yi(s.app))return Promise.reject(la(s));const r="signIn",l=await XT(s,r,t),c=await To._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function pR(s,t,i,r){return Ue(s).onIdTokenChanged(t,i,r)}function yR(s,t,i){return Ue(s).beforeAuthStateChanged(t,i)}function _R(s,t,i,r){return Ue(s).onAuthStateChanged(t,i,r)}function Vv(s){return Ue(s).signOut()}const eh="__sak";class $T{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const vR=1e3,TR=10;class JT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);J2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}JT.type="LOCAL";const ER=JT;class ZT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}ZT.type="SESSION";const WT=ZT;function bR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Th(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await bR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Xm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class SR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Xm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function AR(s){Gi().location.href=s}function tE(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function wR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RR(){return navigator?.serviceWorker?.controller||null}function IR(){return tE()?self:null}const eE="firebaseLocalStorageDb",CR=1,nh="firebaseLocalStorage",nE="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function NR(){const s=indexedDB.deleteDatabase(eE);return new su(s).toPromise()}function cm(){const s=indexedDB.open(eE,CR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nh,{keyPath:nE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nh)?t(r):(r.close(),await NR(),t(await cm()))})})}async function kv(s,t,i){const r=Eh(s,!0).put({[nE]:t,value:i});return new su(r).toPromise()}async function xR(s,t){const i=Eh(s,!1).get(t),r=await new su(i).toPromise();return r===void 0?null:r.value}function Lv(s,t){const i=Eh(s,!0).delete(t);return new su(i).toPromise()}const DR=800,OR=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>OR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(IR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wR(),!this.activeServiceWorker)return;this.sender=new SR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await kv(t,eh,"1"),await Lv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>xR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new su(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const MR=iE;new nu(3e4,6e4);function sE(s,t){return t?Rs(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends YT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return yo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function VR(s){return gR(s.auth,new $m(s),s.bypassAuthState)}function kR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),mR(i,new $m(s),s.bypassAuthState)}async function LR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),dR(i,new $m(s),s.bypassAuthState)}class rE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return VR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:Ji(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UR=new nu(2e3,1e4);async function PR(s,t,i){if(yi(s.app))return Promise.reject(vi(s,"operation-not-supported-in-this-environment"));const r=vh(s);M2(s,t,Ym);const l=sE(r,i);return new aa(r,"signInViaPopup",t,l).executeNotNull()}class aa extends rE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UR.get())};t()}}aa.currentPopupAction=null;const jR="pendingRedirect",jc=new Map;class zR extends rE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const r=await BR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(s,t){const i=FR(t),r=HR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function qR(s,t){jc.set(s._key(),t)}function HR(s){return Rs(s._redirectPersistence)}function FR(s){return Pc(jR,s.config.apiKey,s.name)}async function GR(s,t,i=!1){if(yi(s.app))return Promise.reject(la(s));const r=vh(s),l=sE(r,t),d=await new zR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const QR=600*1e3;class KR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function aE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function YR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(s);default:return!1}}async function XR(s,t={}){return xo(s,"GET","/v1/projects",t)}const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function ZR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await XR(s);for(const i of t)try{if(WR(i))return}catch{}Ji(s,"unauthorized-domain")}function WR(s){const t=lm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!JR.test(i))return!1;if($R.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const tI=new nu(3e4,6e4);function Pv(){const s=Gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function eI(s){return new Promise((t,i)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),i(vi(s,"network-request-failed"))},timeout:tI.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const l=aR("iframefcb");return Gi()[l]=()=>{gapi.load?r():i(vi(s,"network-request-failed"))},sR(`${rR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function nI(s){return zc=zc||eI(s),zc}const iI=new nu(5e3,15e3),sI="__/auth/iframe",rI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lI(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Hm(t,rI):`https://${s.config.authDomain}/${sI}`,r={apiKey:t.apiKey,appName:s.name,v:No},l=oI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${eu(r).slice(1)}`}async function uI(s){const t=await nI(s),i=Gi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:lI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=vi(s,"network-request-failed"),g=Gi().setTimeout(()=>{c(d)},iI.get());function _(){Gi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",mI="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(s,t,i,r=hI,l=fI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...cI,width:r.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=zT(y)?dI:i),PT(y)&&(t=t||mI,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[Q,X])=>`${M}${Q}=${X},`,"");if($2(y)&&g!=="_self")return pI(t||"",g),new jv(null);const A=window.open(t||"",g,b);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new jv(A)}function pI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const yI="__/auth/handler",_I="emulator/auth/handler",vI=encodeURIComponent("fac");async function zv(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:No,eventId:l};if(t instanceof Ym){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof iu){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),y=_?`#${vI}=${encodeURIComponent(_)}`:"";return`${TI(s)}?${eu(g).slice(1)}${y}`}function TI({config:s}){return s.emulator?Hm(s,_I):`https://${s.authDomain}/${yI}`}const Yd="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=GR,this._overrideRedirectResult=qR}async _openPopup(t,i,r,l){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(t,i,r,lm(),l);return gI(t,c,Xm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await zv(t,i,r,lm(),l);return AR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await uI(t),r=new KR(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return GT()||jT()||Qm()}}const bI=EI;var Bv="@firebase/auth",qv="1.12.0";class SI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(s){$i(new Ei("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(s)},y=new nR(r,l,c,_);return lR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$i(new Ei("auth-internal",t=>{const i=vh(t.getProvider("auth").getImmediate());return(r=>new SI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(Bv,qv,AI(s)),si(Bv,qv,"esm2020")}const RI=300,II=Z0("authIdTokenMaxAge")||RI;let Hv=null;const CI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>II)return;const l=i?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NI(s=Vm()){const t=ya(s,"auth");if(t.isInitialized())return t.getImmediate();const i=oR(s,{popupRedirectResolver:bI,persistence:[MR,ER,WT]}),r=Z0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=CI(c.toString());yR(i,d,()=>d(i.currentUser)),pR(i,g=>d(g))}}const l=$0("auth");return l&&uR(i,`http://${l}`),i}function xI(){return document.getElementsByTagName("head")?.[0]??document}iR({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=vi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",xI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,oE;(function(){var s;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,L){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^C&(D^L))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==w||(C[D]=L,V=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return tt(y(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return tt(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=A;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var A=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-tt(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(rt(this))return"-"+tt(this).toString(N);const w=y(Math.pow(N,6));var C=this;let V="";for(;;){const D=Dt(C,w).g;C=mt(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,X(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function rt(N){return N.h==-1}s.l=function(N){return N=mt(this,N),rt(N)?-1:X(N)?0:1};function tt(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(M)}s.abs=function(){return rt(this)?tt(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(N,w){return N.add(tt(w))}s.j=function(N){if(X(this)||X(N))return A;if(rt(this))return rt(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(rt(N))return tt(this.j(tt(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,se=N.i(D)>>>16,Re=N.i(D)&65535;C[2*V+2*D]+=R*Re,vt(C,2*V+2*D),C[2*V+2*D+1]+=L*Re,vt(C,2*V+2*D+1),C[2*V+2*D+1]+=R*se,vt(C,2*V+2*D+1),C[2*V+2*D+2]+=L*se,vt(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function vt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function pt(N,w){this.g=N,this.h=w}function Dt(N,w){if(X(w))throw Error("division by zero");if(X(N))return new pt(A,A);if(rt(N))return w=Dt(tt(N),w),new pt(tt(w.g),tt(w.h));if(rt(w))return w=Dt(N,tt(w)),new pt(tt(w.g),w.h);if(N.g.length>30){if(rt(N)||rt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(N)<=0;)C=Yt(C),V=Yt(V);var D=kt(C,1),L=kt(V,1);for(V=kt(V,2),C=kt(C,2);!X(V);){var R=L.add(V);R.l(N)<=0&&(D=D.add(C),L=R),V=kt(V,1),C=kt(C,1)}return w=mt(N,D.j(w)),new pt(D,w)}for(D=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),R=L.j(w);rt(R)||R.l(N)>0;)C-=V,L=y(C),R=L.j(w);X(L)&&(L=M),D=D.add(L),N=mt(N,R)}return new pt(D,N)}s.B=function(N){return Dt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Yt(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function kt(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,_r=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,Ul,uE,Bc,hm,cE,hE,fE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in v))break t;v=v[U]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,U,q){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[U].apply(E,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function X(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=U[et]}else u.push(U)}}class rt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const E=pt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var pt=new rt(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,kt=!1,N=new vt,w=()=>{const u=Promise.resolve(void 0);Yt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=U,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qt(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(v in E)u[v]=E[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=bt(u,m,E,U);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!E,U),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var E=u.g[v],U=Array.prototype.indexOf.call(E,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(E,U,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,E){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==E)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),re={};function le(u,m,v,E,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)le(u,m[q],v,E,U);return null}return v=ss(v),u&&u[Re]?u.J(m,v,g(E)?!!E.capture:!1,U):ts(u,m,v,!1,E,U)}function ts(u,m,v,E,U,q){if(!m)throw Error("Invalid event type");const et=g(U)?!!U.capture:!!U;let Ct=ns(u);if(Ct||(u[Ot]=Ct=new st(u)),v=Ct.add(m,v,E,et,q),v.proxy)return v;if(E=Si(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)L||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(en(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Si(){function u(v){return m.call(u.src,u.listener,v)}const m=xr;return u}function Ai(u,m,v,E,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ai(u,m[q],v,E,U);else E=g(E)?!!E.capture:!!E,v=ss(v),u&&u[Re]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,E,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,E,U)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Tt(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(en(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=ns(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ot]=null)):ht(u)}}}function en(u){return u in re?re[u]:re[u]="on"+u}function xr(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&es(u),u=v.call(E,m)}return u}function ns(u){return u=u[Ot],u instanceof st?u:null}var is="__closure_events_fn_"+(Math.random()*1e9>>>0);function ss(u){return typeof u=="function"?u:(u[is]||(u[is]=function(m){return u.handleEvent(m)}),u[is])}function ye(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(ye,V),ye.prototype[Re]=!0,ye.prototype.removeEventListener=function(u,m,v,E){Ai(this,u,m,v,E)};function St(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(E,u),it(m,U)}U=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],U=Pn(q,E,!0,m)&&U;if(q=m.g=u,U=Pn(q,E,!0,m)&&U,U=Pn(q,E,!1,m)&&U,v)for(et=0;et<v.length;et++)q=m.g=v[et],U=Pn(q,E,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)ht(v[E]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ye.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Pn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const Ct=et.listener,be=et.ha||et.src;et.fa&&Tt(u.i,et),U=Ct.call(be,E)!==!1&&U}}return U&&!E.defaultPrevented}function ri(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ta(u){u.g=ri(()=>{u.g=null,u.i&&(u.i=!1,Ta(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ie extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){V.call(this),this.h=u,this.g={}}A(wi,V);var ai=[];function Ri(u){qt(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}wi.prototype.N=function(){wi.Z.N.call(this),Ri(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,Dr=d.JSON.parse,Or=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Mr(){}function Ds(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ce(){D.call(this,"d")}A(Ce,D);function un(){D.call(this,"c")}A(un,D);var ce={},Os=null;function Ms(){return Os=Os||new ye}ce.Ia="serverreachability";function Ea(u){D.call(this,ce.Ia,u)}A(Ea,D);function He(u){const m=Ms();St(m,new Ea(m))}ce.STAT_EVENT="statevent";function Ii(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}A(Ii,D);function ve(u){const m=Ms();St(m,new Ii(m,u))}ce.Ja="timingevent";function cn(u,m){D.call(this,ce.Ja,u),this.size=m}A(cn,D);function jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function ko(u,m,v,E,U,q){u.info(function(){if(u.g)if(q){var et="",Ct=q.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var be=Ct[Qt].split("=");if(be.length>1){const ge=be[0];be=be[1];const Yn=ge.split("_");et=Yn.length>=2&&Yn[1]=="type"?et+(ge+"="+be+"&"):et+(ge+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function ba(u,m,v,E,U,q,et){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+et})}function zn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lo(u,v)+(E?" "+E:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function Lo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<E.length;et++)E[et]=""}}}}return oi(q)}catch{return m}}var nn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function li(){}A(li,Mr),li.prototype.g=function(){return new XMLHttpRequest},Ci=new li;function qn(u){return encodeURIComponent(String(u))}function Sa(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function gn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}var z={},W={};function ut(u,m,v){u.M=1,u.A=Vr(xe(m)),u.u=v,u.R=!0,At(u,null)}function At(u,m){u.F=Date.now(),Fn(u),u.B=xe(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Ia(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Rn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ie(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ai[0]=U.toString()),U=ai);for(let q=0;q<U.length;q++){const et=le(v,U[q],E||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),He(),ko(u.i,u.v,u.B,u.l,u.S,u.u)}gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=hi(this.g),be=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Ct!=4||be==7||(be==8||Qt<=0?He(3):He(2)),Ni(this);var m=this.g.ca();this.X=m;var v=me(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var q=E;break e}}q=null}if(u=q)zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,ve(12),In(this),Gn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=Hn(this,v),ge==W){Ct==4&&(this.m=4,ve(14),u=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==z){this.m=4,ve(15),zn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else zn(this.i,this.l,ge,null),xi(this,ge);if(Pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)zn(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(et),et.P=!0,ve(11))}}else zn(this.i,this.l,v,null),xi(this,v);Ct==4&&In(this),this.o&&!this.K&&(Ct==4?_u(this.j,this):(this.o=!1,Fn(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),In(this),Gn(this)}}}catch{}};function me(u){if(!Pe(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const E=m.length,U=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Pe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Hn(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?W:(v=Number(m.substring(v,E)),isNaN(v)?z:(E+=1,E+v>m.length?W:(m=m.slice(E,E+v),u.C=E+v,m)))}gn.prototype.cancel=function(){this.K=!0,In(this)};function Fn(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=jn(y(u.aa,u),m)}function Ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(He(),ve(17)),In(this),this.m=2,Gn(this)):Aa(this,this.T-u)};function Gn(u){u.j.I==0||u.K||_u(u.j,u)}function In(u){Ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ri(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Oa(v),Bs(v);else break t;Br(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=jn(y(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Oa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const ge=Qt[0];if(!(ge<=v.K))if(v.K=ge,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Yn=Qt[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const ji=Qt[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const fi=Qt[5];fi!=null&&typeof fi=="number"&&fi>0&&(E=1.5*fi,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const di=u.g;if(di){const qr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var q=E.h;q.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jo(q,q.h),q.h=null))}if(E.G){const Ma=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(E.wa=Ma,Jt(E.J,E.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var et=u;if(E.na=Eu(E,E.L?E.ba:null,E.W),et.L){zo(E.h,et);var Ct=et,be=E.O;be&&(Ct.H=be),Ct.D&&(Ni(Ct),Fn(Ct)),E.g=et}else pu(E);v.i.length>0&&Ui(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Pi(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Pi(v,7):Xo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}He(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function Uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let U,q=null;E>=0?(U=u[v].substring(0,E),q=u[v].substring(E+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,qo(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Vs(this,m[4]),this.h=Mi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,Ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,Ra,!0),"@"),u.push(qn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kr(v,v.charAt(0)=="/"?Ho:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kr(v,fu)),u.join("")},Cn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)Vs(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let et=0;et<U.length;){const Ct=U[et++];Ct=="."?E&&et==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&et==U.length&&q.push("")):(q.push(Ct),E=!0)}E=q.join("/")}else E=U}return v?m.h=E:v=u.i.toString()!=="",v?qo(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new Cn(u)}function Fe(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,v){m instanceof Ls?(u.i=m,Ca(u.i,u.l)):(v||(m=kr(m,ks)),u.i=new Ls(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Vr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ra=/[#\/\?@]/g,hu=/[#\?:]/g,Ho=/[#\?]/g,ks=/[#\?@]/g,fu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){yn(this),this.i=null,u=Us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){yn(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fo(u,m){return yn(u),m=Us(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,E){v.forEach(function(U){u.call(m,U,E,this)},this)},this)};function Go(u,m){yn(u);let v=[];if(typeof m=="string")Fo(u,m)&&(v=v.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Us(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Go(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Us(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const U=qn(v);v=Go(this,v);for(let q=0;q<v.length;q++){let et=U;v[q]!==""&&(et+="="+qn(v[q])),u.push(et)}}return this.i=u.join("&")};function mu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ca(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,E){const U=E.toLowerCase();E!=U&&(du(this,E),Ia(this,U,v))},u)),u.j=m}function ui(u,m){const v=new wn;if(d.Image){const E=new Image;E.onload=b(Qn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Qn,v,"TestLoadImage: error",!1,m,E),E.onabort=b(Qn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Qn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Qo(u,m){const v=new wn,E=new AbortController,U=setTimeout(()=>{E.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(U),q.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(v)}catch{}}function Ps(){this.g=new Or}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Vi,Mr),Vi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Lr,ye),s=Lr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?js(this):ci(this),this.readyState==3&&Na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,js(this))},s.Na=function(u){this.g&&(this.response=u,js(this))},s.ga=function(){this.g&&js(this)};function js(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return qt(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=Kn(v),typeof u=="string"?v!=null&&qn(v):Jt(u,m,v))}function te(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,ye);var ki=/^https?$/i,Ko=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Pr(this,q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)v.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())v.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||E||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Pr(this,q)}};function Pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yo(u),as(u)}function Yo(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),hi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=q===0){let et=String(u.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),E=!ki.test(et?et.toLowerCase():"")}v=E}if(v)St(u,"complete"),St(u,"success");else{u.o=6;try{var U=hi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Yo(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||St(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dr(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var v=Sa(u[E]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Xt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=zs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){ve(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=Eu(this,null,this.W),Ui(this)};function Xo(u){if(xa(u),u.I==3){var m=u.V++,v=xe(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),zr(u,v),m=new gn(u,u.j,m),m.M=2,m.A=Vr(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Fn(m)}Tu(u)}function Bs(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function xa(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Yt||w(),kt||(Yt(),kt=!0),N.add(m,u),u.D=0}}function Da(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=jn(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,U,m),v=xe(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),zr(this,v),q&&(this.R?m="headers="+qn(Kn(q))+"&"+m:this.u&&Ur(v,this.u,q)),jo(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,ut(U,v,null)):ut(U,v,m),this.I=2}}else this.I==3&&(u?$o(this,u):this.i.length==0||Po(this.h)||$o(this))};function $o(u,m){var v;m?v=m.l:v=u.V++;const E=xe(u.J);Jt(E,"SID",u.M),Jt(E,"RID",v),Jt(E,"AID",u.K),zr(u,E),u.u&&u.o&&Ur(E,u.u,u.o),v=new gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jo(u.h,v),ut(v,E,m)}function zr(u,m){u.H&&qt(u.H,function(v,E){Jt(m,E,v)}),u.l&&qt({},function(v,E){Jt(m,E,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const be=["count="+v];Ct==-1?v>0?(Ct=U[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let Qt=!0;for(let ge=0;ge<v;ge++){var q=U[ge].g;const Yn=U[ge].map;if(q-=Ct,q<0)Ct=Math.max(0,U[ge].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var et=Yn instanceof Map?Yn:Object.entries(Yn);for(const[ji,fi]of et){let di=fi;g(fi)&&(di=oi(fi)),be.push(q+ji+"="+encodeURIComponent(di))}}catch(ji){throw be.push(q+"type="+encodeURIComponent("_badmap")),ji}}catch{E&&E(Yn)}}if(Qt){et=be.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Yt||w(),kt||(Yt(),kt=!0),N.add(m,u),u.A=0}}function Br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=jn(y(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=jn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Bs(this),yu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vr(xe(m)),v.u=null,v.R=!0,At(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),Br(this),ve(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){Oa(u),Jo(u),u.g=null;var E=2}else if(Oi(u.h,m))v=m.G,zo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=Ms(),St(E,new cn(E,v)),Ui(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&Da(u,m)||E==2&&Br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const U=!E;E=new Cn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(E,"https"),Vr(E),U?ui(E.toString(),v):Qo(E.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Tu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Bo(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var E=v instanceof Cn?xe(v):new Cn(v);if(E.g!="")m&&(E.g=m+"."+E.g),Vs(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Cn(null);E&&Fe(q,E),m&&(q.g=m),U&&Vs(q,U),v&&(q.h=v),E=q}return v=u.G,m=u.wa,v&&m&&Jt(E,v,m),Jt(E,"VER",u.ka),zr(u,E),E}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Vi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){ye.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ls(this)}A(hn,ye),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Xo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=oi(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ui(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,hn.Z.N.call(this)};function Au(u){Ce.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Ce);function wu(){un.call(this),this.status=1}A(wu,un);function ls(u){this.g=u}A(ls,Su),ls.prototype.ra=function(){St(this.g,"a")},ls.prototype.qa=function(u){St(this.g,new Au(u))},ls.prototype.pa=function(u){St(this.g,new wu)},ls.prototype.oa=function(){St(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,fE=function(){return new qs},hE=function(){return Ms()},cE=ce,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,Bc=nn,Bn.COMPLETE="complete",uE=Bn,Ds.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Ul=Ds,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,lE=te}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.9.3";let an=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Do="12.7.0";const ma=new ph("@firebase/firestore");function uo(){return ma.logLevel}function at(s,...t){if(ma.logLevel<=Pt.DEBUG){const i=t.map(Jm);ma.debug(`Firestore (${Do}): ${s}`,...i)}}function Ns(s,...t){if(ma.logLevel<=Pt.ERROR){const i=t.map(Jm);ma.error(`Firestore (${Do}): ${s}`,...i)}}function Eo(s,...t){if(ma.logLevel<=Pt.WARN){const i=t.map(Jm);ma.warn(`Firestore (${Do}): ${s}`,...i)}}function Jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,dE(s,r,i)}function dE(s,t,i){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ns(r),new Error(r)}function $t(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||dE(t,l,r)}function It(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends bi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ua{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class MI{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ua,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ua)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new mE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class VI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new VI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=UI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function jt(s,t){return s<t?-1:s>t?1:0}function fm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Xd(l)===Xd(c)?jt(l,c):Xd(l)?1:-1}return jt(s.length,t.length)}const PI=55296,jI=57343;function Xd(s){const t=s.charCodeAt(0);return t>=PI&&t<=jI}function bo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Yv="__name__";class Fi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Fi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const r=Fi.isNumericId(t),l=Fi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(t).compare(Fi.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _r.fromString(t.substring(4,t.length-2))}}class de extends Fi{construct(t,i,r){return new de(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Fi{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return zI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new We([Yv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(de.fromString(t))}static fromName(t){return new gt(de.fromString(t).popFirst(5))}static empty(){return new gt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new de(t.slice()))}}function gE(s,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function BI(s,t,i,r){if(t===!0&&r===!0)throw new ct(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Xv(s){if(!gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $v(s){if(gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function vr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wm(s);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Le(s,t){const i={typeString:s};return t&&(i.value=t),i}function ru(s,t){if(!pE(s))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const Jv=-62135596800,Zv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Zv);return new oe(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Jv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Le("string",oe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new oe(0,0))}static max(){return new wt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function qI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(r===1e9?new oe(i+1,0):new oe(i,r));return new br(l,gt.empty(),t)}function HI(s){return new br(s.readTime,s.key,Xl)}class br{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new br(wt.min(),gt.empty(),Xl)}static max(){return new br(wt.max(),gt.empty(),Xl)}}function FI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Oo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==GI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&r(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function KI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Mo(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const tg=-1;function Sh(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function YI(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const yE="";function XI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Wv(t)),t=$I(s.get(i),t);return Wv(t)}function $I(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function Wv(s){return s+yE+""}function t0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Cr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function _E(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ze(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(t){return new e0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class e0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new qe(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=JI.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:we(s.seconds),nanos:we(s.nanos)}}function we(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const TE="server_timestamp",EE="__type__",bE="__previous_value__",SE="__local_write_time__";function eg(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===TE}function Ah(s){const t=s.mapValue.fields[bE];return eg(t)?Ah(t):t}function $l(s){const t=Sr(s.mapValue.fields[SE].timestampValue);return new oe(t.seconds,t.nanos)}class ZI{constructor(t,i,r,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const sh="(default)";class Jl{constructor(t,i){this.projectId=t,this.database=i||sh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}const AE="__type__",WI="__max__",Oc={mapValue:{}},wE="__vector__",rh="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?eg(s)?4:eC(s)?9007199254740991:tC(s)?10:11:_t(28295,{value:s})}function Zi(s,t){if(s===t)return!0;const i=wr(s);if(i!==wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return $l(s).isEqual($l(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Sr(l.timestampValue),g=Sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ar(l.bytesValue).isEqual(Ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),g=we(c.doubleValue);return d===g?ih(d)===ih(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return bo(s.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(t0(d)!==t0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zi(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Zl(s,t){return(s.values||[]).find((i=>Zi(i,t)))!==void 0}function So(s,t){if(s===t)return 0;const i=wr(s),r=wr(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=we(c.integerValue||c.doubleValue),_=we(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return n0(s.timestampValue,t.timestampValue);case 4:return n0($l(s),$l(t));case 5:return fm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Ar(c),_=Ar(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=jt(g[y],_[y]);if(b!==0)return b}return jt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(we(c.latitude),we(d.latitude));return g!==0?g:jt(we(c.longitude),we(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return i0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[rh]?.arrayValue,b=_[rh]?.arrayValue,A=jt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:i0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const M=fm(_[A],b[A]);if(M!==0)return M;const Q=So(g[_[A]],y[b[A]]);if(Q!==0)return Q}return jt(_.length,b.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function n0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=Sr(s),r=Sr(t),l=jt(i.seconds,r.seconds);return l!==0?l:jt(i.nanos,r.nanos)}function i0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=So(i[l],r[l]);if(c)return c}return jt(i.length,r.length)}function Ao(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Sr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=dm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function qc(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Cr(r.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function ng(s){return!!s&&"arrayValue"in s}function s0(s){return!!s&&"nullValue"in s}function r0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function tC(s){return(s?.mapValue?.fields||{})[AE]?.stringValue===wE}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Hl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return t}return{...s}}function eC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(i)}setAll(t){let i=We.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Hl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Cr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new An(Hl(this.value))}}function RE(s){const t=[];return Cr(s.fields,((i,r)=>{const l=new We([i]);if(Hc(r)){const c=RE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Ln(t)}class on{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new on(t,0,wt.min(),wt.min(),wt.min(),An.empty(),0)}static newFoundDocument(t,i,r,l){return new on(t,1,i,wt.min(),r,l,0)}static newNoDocument(t,i){return new on(t,2,i,wt.min(),wt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,wt.min(),wt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function a0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=So(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function o0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],t.position[i]))return!1;return!0}class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function nC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class IE{}class ze extends IE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new sC(t,i,r):i==="array-contains"?new oC(t,r):i==="in"?new lC(t,r):i==="not-in"?new uC(t,r):i==="array-contains-any"?new cC(t,r):new ze(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new rC(t,r):new aC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(So(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(So(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends IE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wi(t,i)}matches(t){return CE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(s){return s.op==="and"}function NE(s){return iC(s)&&CE(s)}function iC(s){for(const t of s.filters)if(t instanceof Wi)return!1;return!0}function gm(s){if(s instanceof ze)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(NE(s))return s.filters.map((t=>gm(t))).join(",");{const t=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${t})`}}function xE(s,t){return s instanceof ze?(function(r,l){return l instanceof ze&&r.op===l.op&&r.field.isEqual(l.field)&&Zi(r.value,l.value)})(s,t):s instanceof Wi?(function(r,l){return l instanceof Wi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&xE(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function DE(s){return s instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ao(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(s):"Filter"}class sC extends ze{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class rC extends ze{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class aC extends ze{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class oC extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ng(i)&&Zl(i.arrayValue,this.value)}}class lC extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class uC extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class cC extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ng(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class hC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function l0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new hC(s,t,i,r,l,c,d)}function ig(s){const t=It(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ao(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ao(r))).join(",")),t.Te=i}return t.Te}function sg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!nC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!xE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!o0(s.startAt,t.startAt)&&o0(s.endAt,t.endAt)}function pm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fC(s,t,i,r,l,c,d,g){return new wh(s,t,i,r,l,c,d,g)}function rg(s){return new wh(s)}function u0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function dC(s){return s.collectionGroup!==null}function Fl(s){const t=It(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qe(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new oh(c,r))})),i.has(We.keyField().canonicalString())||t.Ie.push(new oh(We.keyField(),r))}return t.Ie}function Qi(s){const t=It(s);return t.Ee||(t.Ee=mC(t,Fl(s))),t.Ee}function mC(s,t){if(s.limitType==="F")return l0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return l0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function ym(s,t,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return sg(Qi(s),Qi(t))&&s.limitType===t.limitType}function ME(s){return`${ig(Qi(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),Sh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ao(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ao(l))).join(",")),`Target(${r})`})(Qi(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Fl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=a0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(d,g,_){const y=a0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Fl(r),l))})(s,t)}function gC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function VE(s){return(t,i)=>{let r=!1;for(const l of Fl(s)){const c=pC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function pC(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?So(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class _a{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Cr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const yC=new _e(gt.comparator);function xs(){return yC}const kE=new _e(gt.comparator);function Pl(...s){let t=kE;for(const i of s)t=t.insert(i.key,i);return t}function LE(s){let t=kE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function oa(){return Gl()}function UE(){return Gl()}function Gl(){return new _a((s=>s.toString()),((s,t)=>s.isEqual(t)))}const _C=new _e(gt.comparator),vC=new qe(gt.comparator);function zt(...s){let t=vC;for(const i of s)t=t.add(i);return t}const TC=new qe(jt);function EC(){return TC}function ag(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function PE(s){return{integerValue:""+s}}function bC(s,t){return YI(t)?PE(t):ag(s,t)}class Ch{constructor(){this._=void 0}}function SC(s,t,i){return s instanceof lh?(function(l,c){const d={fields:{[EE]:{stringValue:TE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&eg(c)&&(c=Ah(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,t):s instanceof Wl?zE(s,t):s instanceof tu?BE(s,t):(function(l,c){const d=jE(l,c),g=c0(d)+c0(l.Ae);return mm(d)&&mm(l.Ae)?PE(g):ag(l.serializer,g)})(s,t)}function AC(s,t,i){return s instanceof Wl?zE(s,t):s instanceof tu?BE(s,t):i}function jE(s,t){return s instanceof uh?(function(r){return mm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class lh extends Ch{}class Wl extends Ch{constructor(t){super(),this.elements=t}}function zE(s,t){const i=qE(t);for(const r of s.elements)i.some((l=>Zi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Ch{constructor(t){super(),this.elements=t}}function BE(s,t){let i=qE(t);for(const r of s.elements)i=i.filter((l=>!Zi(l,r)));return{arrayValue:{values:i}}}class uh extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function c0(s){return we(s.integerValue||s.doubleValue)}function qE(s){return ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function wC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Wl&&l instanceof Wl||r instanceof tu&&l instanceof tu?bo(r.elements,l.elements,Zi):r instanceof uh&&l instanceof uh?Zi(r.Ae,l.Ae):r instanceof lh&&l instanceof lh})(s.transform,t.transform)}class RC{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Nh{}function HE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new og(s.key,Ti.none()):new au(s.key,s.data,Ti.none());{const i=s.data,r=An.empty();let l=new qe(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Nr(s.key,r,new Ln(l.toArray()),Ti.none())}}function IC(s,t,i){s instanceof au?(function(l,c,d){const g=l.value.clone(),_=f0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Nr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=f0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(FE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ql(s,t,i,r){return s instanceof au?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const y=c.value.clone(),b=d0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Nr?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const y=d0(c.fieldTransforms,_,d),b=d.data;return b.setAll(FE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function CC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=jE(r.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(r.field,c))}return i||null}function h0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&bo(r,l,((c,d)=>wC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends Nh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends Nh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function f0(s,t,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,AC(d,g,i[l]))}return r}function d0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,SC(c,d,t))}return r}class og extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&IC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=UE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=HE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,((i,r)=>h0(i,r)))&&bo(this.baseMutations,t.baseMutations,((i,r)=>h0(i,r)))}}class lg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return _C})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new lg(t,i,r,l)}}class DC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OC{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Ht;function MC(s){switch(s){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function GE(s){if(s===void 0)return Ns("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ke.OK:return Z.OK;case ke.CANCELLED:return Z.CANCELLED;case ke.UNKNOWN:return Z.UNKNOWN;case ke.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ke.INTERNAL:return Z.INTERNAL;case ke.UNAVAILABLE:return Z.UNAVAILABLE;case ke.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ke.NOT_FOUND:return Z.NOT_FOUND;case ke.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ke.ABORTED:return Z.ABORTED;case ke.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ke.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:s})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function VC(){return new TextEncoder}const kC=new _r([4294967295,4294967295],0);function m0(s){const t=VC().encode(s),i=new oE;return i.update(t),new Uint8Array(i.digest())}function g0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new _r([i,r],0),new _r([l,c],0)]}class ug{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=_r.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(_r.fromNumber(r)));return l.compare(kC)===1&&(l=new _r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=m0(t),[r,l]=g0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ug(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=m0(t),[r,l]=g0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new xh(wt.min(),l,new _e(jt),xs(),zt())}}class ou{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ou(r,i,zt(),zt(),zt())}}class Gc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class QE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class p0{constructor(){this.ve=0,this.Fe=y0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LC{constructor(t){this.Ge=t,this.ze=new Map,this.je=xs(),this.Je=Mc(),this.He=Mc(),this.Ye=new _e(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(r===0){const d=new gt(c.path);this.et(i,d,on.newNoDocument(d,wt.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Ar(r).toUint8Array()}catch(_){if(_ instanceof vE)return Eo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ug(d,l,c)}catch(_){return Eo(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&pm(g.target)){const _=new gt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new xh(t,i,this.Ye,this.je,r);return this.je=xs(),this.Je=Mc(),this.He=Mc(),this.Ye=new _e(jt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new p0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new p0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new _e(gt.comparator)}function y0(){return new _e(gt.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class zC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(s,t){return s.useProto3Json||Sh(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function BC(s,t){return ch(s,t.toTimestamp())}function Ki(s){return $t(!!s,49232),wt.fromTimestamp((function(i){const r=Sr(i);return new oe(r.seconds,r.nanos)})(s))}function cg(s,t){return vm(s,t).canonicalString()}function vm(s,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function XE(s){const t=de.fromString(s);return $t(t1(t),10190,{key:t.toString()}),t}function Tm(s,t){return cg(s.databaseId,t.path)}function $d(s,t){const i=XE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(JE(i))}function $E(s,t){return cg(s.databaseId,t)}function qC(s){const t=XE(s);return t.length===4?de.emptyPath():JE(t)}function Em(s){return new de(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function JE(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _0(s,t,i){return{name:Tm(s,t),fields:i.value.mapValue.fields}}function HC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?($t(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:GE(y.code);return new ct(b,y.message||"")})(d);i=new KE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=$d(s,r.document.name),c=Ki(r.document.updateTime),d=r.document.createTime?Ki(r.document.createTime):wt.min(),g=new An({mapValue:{fields:r.document.fields}}),_=on.newFoundDocument(l,c,d,g),y=r.targetIds||[],b=r.removedTargetIds||[];i=new Gc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=$d(s,r.document),c=r.readTime?Ki(r.readTime):wt.min(),d=on.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Gc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=$d(s,r.document),c=r.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new OC(l,c),g=r.targetId;i=new QE(g,d)}}return i}function FC(s,t){let i;if(t instanceof au)i={update:_0(s,t.key,t.value)};else if(t instanceof og)i={delete:Tm(s,t.key)};else if(t instanceof Nr)i={update:_0(s,t.key,t.data),updateMask:WC(t.fieldMask)};else{if(!(t instanceof NC))return _t(16599,{Vt:t.type});i={verify:Tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:BC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function GC(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ki(l.updateTime):Ki(c);return d.isEqual(wt.min())&&(d=Ki(c)),new RC(d,l.transformResults||[])})(i,t)))):[]}function QC(s,t){return{documents:[$E(s,t.path)]}}function KC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$E(s,l);const c=(function(y){if(y.length!==0)return WE(Wi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:ho(M.field),direction:$C(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_m(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function YC(s){let t=qC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$t(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=ZE(A);return M instanceof Wi&&NE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(X){return new oh(fo(X.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,Sh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,Q=A.values||[];return new ah(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,Q=A.values||[];return new ah(Q,M)})(i.endAt)),fC(t,l,d,c,g,"F",_,y)}function XC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=fo(i.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fo(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fo(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ze.create(fo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((r=>ZE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function $C(s){return UC[s]}function JC(s){return PC[s]}function ZC(s){return jC[s]}function ho(s){return{fieldPath:s.canonicalString()}}function fo(s){return We.fromServerFormat(s.fieldPath)}function WE(s){return s instanceof ze?(function(i){if(i.op==="=="){if(r0(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NAN"}};if(s0(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r0(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NAN"}};if(s0(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(i.field),op:JC(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const r=i.getFilters().map((l=>WE(l)));return r.length===1?r[0]:{compositeFilter:{op:ZC(i.op),filters:r}}})(s):_t(54877,{filter:s})}function WC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function t1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class gr{constructor(t,i,r,l,c=wt.min(),d=wt.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tN{constructor(t){this.yt=t}}function eN(s){const t=YC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(t,t.limit,"L"):t}class nN{constructor(){this.Cn=new iN}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(br.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(br.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class iN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new qe(de.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new qe(de.comparator)).toArray()}}const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(e1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}const T0="LruGarbageCollector",sN=1048576;function E0([s,t],[i,r]){const l=jt(s,i);return l===0?jt(t,r):l}class rN{constructor(t){this.Ir=t,this.buffer=new qe(E0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();E0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(T0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Mo(i)?at(T0,"Ignoring IndexedDB error during garbage collection: ",i):await Oo(i)}await this.Vr(3e5)}))}}class oN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(bh.ce);const r=new rN(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(v0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),uo()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function lN(s,t){return new oN(s,t)}class uN{constructor(){this.changes=new _a((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class hN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ql(r.mutation,l,Ln.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=oa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Pl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=oa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=xs();const d=Gl(),g=(function(){return Gl()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Nr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ql(b.mutation,y,b.mutation.getFieldMask(),oe.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new cN(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Gl();let l=new _e(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Ln.empty();b=g.applyToLocalView(y,b),r.set(_,b);const A=(l.get(g.batchId)||zt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,A=UE();b.forEach((M=>{if(!c.has(M)){const Q=HE(i.get(M),r.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(oa());let g=Xl,_=c;return d.next((y=>J.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((b=>({batchId:g,changes:LE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(_=>{const y=(function(A,M){return new wh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let g=Pl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ql(b.mutation,y,Ln.empty(),oe.now()),Ih(i,y)&&(g=g.insert(_,y))})),g}))}}class fN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ki(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:eN(l.bundledQuery),readTime:Ki(l.readTime)}})(i)),J.resolve()}}class dN{constructor(){this.overlays=new _e(gt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=oa();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=oa(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new _e(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=oa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return J.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new DC(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class mN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class hg{constructor(){this.Qr=new qe(Qe.$r),this.Ur=new qe(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new de([])),r=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new de([])),r=new Qe(i,t),l=new Qe(i,t+1);let c=zt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class gN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Qe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Qe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(jt);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new gt(c),0);let g=new qe(jt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Qe(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pN{constructor(t){this.ri=t,this.docs=(function(){return new _e(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let r=xs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=xs();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||FI(HI(b),r)<=0||(l.has(b.key)||Ih(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new yN(this)}getSize(t){return J.resolve(this.size)}}class yN extends uN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class _N{constructor(t){this.persistence=t,this.si=new _a((i=>ig(i)),sg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=wo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new wo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class n1{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=t(this),this.Pi=new _N(this),this.indexManager=new nN,this.remoteDocumentCache=(function(l){return new pN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tN(i),this.Ii=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new gN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new vN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class vN extends QI{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Ri=new hg,this.Vi=null}static mi(t){return new fg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,wt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new _a((r=>XI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=lN(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,wt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dg(t,i.fromCache,r,l)}}class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class EN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:KI(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TN;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(uo()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",co(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(uo()<=Pt.DEBUG&&at("QueryEngine","Query:",co(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(uo()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",co(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qi(i))):J.resolve())}ys(t,i){if(u0(i))return J.resolve(null);let r=Qi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),r=Qi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return u0(i)||l.isEqual(wt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(uo()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),co(i)),this.vs(t,d,i,qI(l,Xl)).next((g=>g)))}))}Ds(t,i){let r=new qe(VE(t));return i.forEach(((l,c)=>{Ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return uo()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",co(i)),this.ps.getDocumentsMatchingQuery(t,i,br.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mg="LocalStore",bN=3e8;class SN{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new _e(jt),this.xs=new _a((c=>ig(c)),sg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function AN(s,t,i,r){return new SN(s,t,i,r)}async function i1(s,t){const i=It(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function wN(s,t){const i=It(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const A=y.batch,M=A.keys();let Q=J.resolve();return M.forEach((X=>{Q=Q.next((()=>b.getEntry(_,X))).next((rt=>{const tt=y.docVersions.get(X);$t(tt!==null,48541),rt.version.compareTo(tt)<0&&(A.applyToRemoteDocument(rt,y),rt.isValidDocument()&&(rt.setReadTime(y.commitVersion),b.addEntry(rt)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function s1(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function RN(s,t){const i=It(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(tn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(A,Q),(function(rt,tt,mt){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=bN?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,Q,b)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=xs(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(IN(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!r.isEqual(wt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function IN(s,t,i){let r=zt(),l=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=xs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(wt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(mg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function CN(s,t){const i=It(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function NN(s,t){const i=It(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new gr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function bm(s,t,i){const r=It(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Mo(d))throw d;at(mg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function b0(s,t,i){const r=It(s);let l=wt.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=It(_),M=A.xs.get(b);return M!==void 0?J.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,b)})(r,d,Qi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:wt.min(),i?c:zt()))).next((g=>(xN(r,gC(t),g),{documents:g,Qs:c})))))}function xN(s,t,i){let r=s.Os.get(t)||wt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class S0{constructor(){this.activeTargetIds=EC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DN{constructor(){this.Mo=new S0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new S0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ON{Oo(t){}shutdown(){}}const A0="ConnectivityMonitor";class w0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(A0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(A0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Sm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Jd="RestConnection",MN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Sm(),g=this.zo(t,i.toUriEncodedString());at(Jd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=Co(y);return this.Jo(t,g,_,r,b).then((A=>(at(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Eo(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=MN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class kN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class LN extends VN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Sm();return new Promise(((g,_)=>{const y=new lE;y.setWithCredentials(!0),y.listenOnce(uE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const A=y.getResponseJson();at(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Bc.TIMEOUT:at(rn,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=y.getStatus();if(at(rn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const X=Q?.error;if(X&&X.status&&X.message){const rt=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})(X.status);_(new ct(rt,X.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(rn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(rn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(t,i,r){const l=Sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fE(),g=hE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=c.join("");at(rn,`Creating RPC '${t}' stream ${l}: ${b}`,_);const A=d.createWebChannel(b,_);this.I_(A);let M=!1,Q=!1;const X=new kN({Yo:tt=>{Q?at(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(at(rn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(rn,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),rt=(tt,mt,vt)=>{tt.listen(mt,(pt=>{try{vt(pt)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return rt(A,Ul.EventType.OPEN,(()=>{Q||(at(rn,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),rt(A,Ul.EventType.CLOSE,(()=>{Q||(Q=!0,at(rn,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(A))})),rt(A,Ul.EventType.ERROR,(tt=>{Q||(Q=!0,Eo(rn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),X.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),rt(A,Ul.EventType.MESSAGE,(tt=>{if(!Q){const mt=tt.data[0];$t(!!mt,16349);const vt=mt,pt=vt?.error||vt[0]?.error;if(pt){at(rn,`RPC '${t}' stream ${l} received error:`,pt);const Dt=pt.status;let Yt=(function(w){const C=ke[w];if(C!==void 0)return GE(C)})(Dt),kt=pt.message;Yt===void 0&&(Yt=Z.INTERNAL,kt="Unknown error status: "+Dt+" with message "+pt.message),Q=!0,X.a_(new ct(Yt,kt)),A.close()}else at(rn,`RPC '${t}' stream ${l} received:`,mt),X.u_(mt)}})),rt(g,cE.STAT_EVENT,(tt=>{tt.stat===hm.PROXY?at(rn,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===hm.NOPROXY&&at(rn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zd(){return typeof document<"u"?document:null}function Dh(s){return new zC(s,!0)}class r1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const R0="PersistentStream";class a1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(R0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UN extends a1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=HC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Ki(d.readTime):wt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=pm(_)?{documents:QC(c,_)}:{query:KC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=YE(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(wt.min())>0){g.readTime=ch(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=XC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class PN extends a1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=GC(t.writeResults,t.commitTime),r=Ki(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>FC(this.serializer,r)))};this.q_(i)}}class jN{}class zN extends jN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,vm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class qN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{va(this)&&(at(ga,"Restarting streams for network reachability change."),await(async function(_){const y=It(_);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Ra=new BN(r,l)}}async function Oh(s){if(va(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function o1(s,t){const i=It(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),_g(i)?yg(i):Vo(i).O_()&&pg(i,t))}function gg(s,t){const i=It(s),r=Vo(i);i.Ia.delete(t),r.O_()&&l1(i,t),i.Ia.size===0&&(r.O_()?r.L_():va(i)&&i.Ra.set("Unknown"))}function pg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Vo(s).Y_(t)}function l1(s,t){s.Va.Ue(t),Vo(s).Z_(t)}function yg(s){s.Va=new LC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Ra.ua()}function _g(s){return va(s)&&!Vo(s).x_()&&s.Ia.size>0}function va(s){return It(s).Ea.size===0}function u1(s){s.Va=void 0}async function HN(s){s.Ra.set("Online")}async function FN(s){s.Ia.forEach(((t,i)=>{pg(s,t)}))}async function GN(s,t){u1(s),_g(s)?(s.Ra.ha(t),yg(s)):s.Ra.set("Unknown")}async function QN(s,t,i){if(s.Ra.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(s,r)}else if(t instanceof Gc?s.Va.Ze(t):t instanceof QE?s.Va.st(t):s.Va.tt(t),!i.isEqual(wt.min()))try{const r=await s1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),l1(c,_);const A=new gr(b.target,_,y,b.sequenceNumber);pg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(ga,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,t,i){if(!Mo(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>s1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function c1(s,t){return t().catch((i=>fh(s,i,t)))}async function Mh(s){const t=It(s),i=Rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:tg;for(;KN(t);)try{const l=await CN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,YN(t,l)}catch(l){await fh(t,l)}h1(t)&&f1(t)}function KN(s){return va(s)&&s.Ta.length<10}function YN(s,t){s.Ta.push(t);const i=Rr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function h1(s){return va(s)&&!Rr(s).x_()&&s.Ta.length>0}function f1(s){Rr(s).start()}async function XN(s){Rr(s).ra()}async function $N(s){const t=Rr(s);for(const i of s.Ta)t.ea(i.mutations)}async function JN(s,t,i){const r=s.Ta.shift(),l=lg.from(r,t,i);await c1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function ZN(s,t){t&&Rr(s).X_&&await(async function(r,l){if((function(d){return MC(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();Rr(r).B_(),await c1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(r)}})(s,t),h1(s)&&f1(s)}async function I0(s,t){const i=It(s);i.asyncQueue.verifyOperationInProgress(),at(ga,"RemoteStore received new credentials");const r=va(i);i.Ea.add(3),await lu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function WN(s,t){const i=It(s);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Vo(s){return s.ma||(s.ma=(function(i,r,l){const c=It(i);return c.sa(),new UN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:HN.bind(null,s),t_:FN.bind(null,s),r_:GN.bind(null,s),H_:QN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),_g(s)?yg(s):s.Ra.set("Unknown")):(await s.ma.stop(),u1(s))}))),s.ma}function Rr(s){return s.fa||(s.fa=(function(i,r,l){const c=It(i);return c.sa(),new PN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XN.bind(null,s),r_:ZN.bind(null,s),ta:$N.bind(null,s),na:JN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class vg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new vg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(s,t){if(Ns("AsyncQueue",`${t}: ${s}`),Mo(s))return new ct(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new _o;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class C0{constructor(){this.ga=new _e(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ro{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ro(t,i,_o.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class tx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ex{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=It(i),c=l.queries;l.queries=N0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function N0(){return new _a((s=>ME(s)),Rh)}async function nx(s,t){const i=It(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new tx,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Tg(d,`Initialization of query '${co(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Eg(i)}async function ix(s,t){const i=It(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function sx(s,t){const i=It(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Eg(i)}function rx(s,t,i){const r=It(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Eg(s){s.Ca.forEach((t=>{t.next()}))}var Am,x0;(x0=Am||(Am={})).Ma="default",x0.Cache="cache";class ax{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}class d1{constructor(t){this.key=t}}class m1{constructor(t){this.key=t}}class ox{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=VE(t),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new C0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),Q=Ih(this.query,A)?A:null,X=!!M&&this.mutatedKeys.has(M.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;M&&Q?M.data.isEqual(Q.data)?X!==rt&&(r.track({type:3,doc:Q}),tt=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),tt=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!M&&Q?(r.track({type:0,doc:Q}),tt=!0):M&&!Q&&(r.track({type:1,doc:M}),tt=!0,(_||y)&&(g=!0)),tt&&(Q?(d=d.add(Q),c=rt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,X){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:tt})}};return rt(Q)-rt(X)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ro(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new m1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new d1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class lx{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class ux{constructor(t){this.key=t,this.hu=!1}}class cx{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((g=>ME(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new _e(gt.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hx(s,t,i=!0){const r=T1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await g1(r,t,i,!0),l}async function fx(s,t){const i=T1(s);await g1(i,t,!0,!1)}async function g1(s,t,i,r){const l=await NN(s.localStore,Qi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await dx(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&o1(s.remoteStore,l),g}async function dx(s,t,i,r,l){s.pu=(A,M,Q)=>(async function(rt,tt,mt,vt){let pt=tt.view.ru(mt);pt.Cs&&(pt=await b0(rt.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,pt))));const Dt=vt&&vt.targetChanges.get(tt.targetId),Yt=vt&&vt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(pt,rt.isPrimaryClient,Dt,Yt);return O0(rt,tt.targetId,kt.au),kt.snapshot})(s,A,M,Q);const c=await b0(s.localStore,t,!0),d=new ox(t,c.Qs),g=d.ru(c.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);O0(s,i,y.au);const b=new lx(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function mx(s,t,i){const r=It(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&gg(r.remoteStore,l.targetId),wm(r,l.targetId)})).catch(Oo)):(wm(r,l.targetId),await bm(r.localStore,l.targetId,!0))}async function gx(s,t){const i=It(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gg(i.remoteStore,r.targetId))}async function px(s,t,i){const r=Sx(s);try{const l=await(function(d,g){const _=It(d),y=oe.now(),b=g.reduce(((Q,X)=>Q.add(X.key)),zt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let X=xs(),rt=zt();return _.Ns.getEntries(Q,b).next((tt=>{X=tt,X.forEach(((mt,vt)=>{vt.isValidDocument()||(rt=rt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,X))).next((tt=>{A=tt;const mt=[];for(const vt of g){const pt=CC(vt,A.get(vt.key).overlayedDocument);pt!=null&&mt.push(new Nr(vt.key,pt,RE(pt.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,mt,g)})).next((tt=>{M=tt;const mt=tt.applyToLocalDocumentSet(A,rt);return _.documentOverlayCache.saveOverlays(Q,tt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:LE(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new _e(jt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await uu(r,l.changes),await Mh(r.remoteStore)}catch(l){const c=Tg(l,"Failed to persist write");i.reject(c)}}async function p1(s,t){const i=It(s);try{const r=await RN(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await uu(i,r,t)}catch(r){await Oo(r)}}function D0(s,t,i){const r=It(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=It(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(g)&&(y=!0)})),y&&Eg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yx(s,t,i){const r=It(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new _e(gt.comparator);d=d.insert(c,on.newNoDocument(c,wt.min()));const g=zt().add(c),_=new xh(wt.min(),new Map,new _e(jt),d,g);await p1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Sg(r)}else await bm(r.localStore,t,!1).then((()=>wm(r,t,i))).catch(Oo)}async function _x(s,t){const i=It(s),r=t.batch.batchId;try{const l=await wN(i.localStore,t);_1(i,r,null),y1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uu(i,l)}catch(l){await Oo(l)}}async function vx(s,t,i){const r=It(s);try{const l=await(function(d,g){const _=It(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>($t(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,t);_1(r,t,i),y1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await uu(r,l)}catch(l){await Oo(l)}}function y1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function _1(s,t,i){const r=It(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function wm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||v1(s,r)}))}function v1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(gg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Sg(s))}function O0(s,t,i){for(const r of i)r instanceof d1?(s.Ru.addReference(r.key,t),Tx(s,r)):r instanceof m1?(at(bg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||v1(s,r.key)):_t(19791,{wu:r})}function Tx(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(bg,"New document in limbo: "+i),s.Eu.add(r),Sg(s))}function Sg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(de.fromString(t)),r=s.fu.next();s.Au.set(r,new ux(i)),s.du=s.du.insert(i,r),o1(s.remoteStore,new gr(Qi(rg(i.path)),r,"TargetPurposeLimboResolution",bh.ce))}}async function uu(s,t,i){const r=It(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=dg.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const b=It(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(M=>J.forEach(M.Es,(Q=>b.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>J.forEach(M.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!Mo(A))throw A;at(mg,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const Q=b.Ms.get(M),X=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(X);b.Ms=b.Ms.insert(M,rt)}}})(r.localStore,c))}async function Ex(s,t){const i=It(s);if(!i.currentUser.isEqual(t)){at(bg,"User change. New user:",t.toKey());const r=await i1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(i,r.Ls)}}function bx(s,t){const i=It(s),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function T1(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=p1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yx.bind(null,t),t.Pu.H_=sx.bind(null,t.eventManager),t.Pu.yu=rx.bind(null,t.eventManager),t}function Sx(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_x.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vx.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return AN(this.persistence,new EN,t.initialUser,this.serializer)}Cu(t){return new n1(fg.mi,this.serializer)}Du(t){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class Ax extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new n1((r=>hh.mi(r,i)),this.serializer)}}class Rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ex})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),r=(function(c){return new LN(c)})(t.databaseInfo);return(function(c,d,g,_){return new zN(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new qN(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return w0.v()?new w0:new ON})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const A=new cx(l,c,d,g,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);at(ga,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class wx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ir="FirestoreClient";class Rx{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Tg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Wd(s,t){s.asyncQueue.verifyOperationInProgress(),at(Ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await i1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function M0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Ix(s);at(Ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>I0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>I0(t.remoteStore,l))),s._onlineComponents=t}async function Ix(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ir,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Eo("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new dh)}}else at(Ir,"Using default OfflineComponentProvider"),await Wd(s,new Ax(void 0));return s._offlineComponents}async function E1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ir,"Using user provided OnlineComponentProvider"),await M0(s,s._uninitializedComponentsProvider._online)):(at(Ir,"Using default OnlineComponentProvider"),await M0(s,new Rm))),s._onlineComponents}function Cx(s){return E1(s).then((t=>t.syncEngine))}async function V0(s){const t=await E1(s),i=t.eventManager;return i.onListen=hx.bind(null,t.syncEngine),i.onUnlisten=mx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gx.bind(null,t.syncEngine),i}function b1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const k0=new Map;const S1="firestore.googleapis.com",L0=!0;class U0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=L0}else this.host=t.host,this.ssl=t.ssl??L0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sN)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new kI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=k0.get(i);r&&(at("ComponentProvider","Removing Datastore"),k0.delete(i),r.terminate())})(this),Promise.resolve()}}function Nx(s,t,i,r={}){s=vr(s,Vh);const l=Co(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(W0(`https://${g}`),tT("Firestore",!0)),c.host!==S1&&c.host!==g&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!Er(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=an.MOCK_USER;else{y=VS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(A)}s._authCredentials=new OI(new mE(y,b))}}class kh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class Be{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ru(i,Be._jsonSchema))return new Be(t,r||null,new gt(de.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Le("string",Be._jsonSchemaVersion),referencePath:Le("string")};class Tr extends kh{constructor(t,i,r){super(t,i,rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new gt(t))}withConverter(t){return new Tr(this.firestore,t,this._path)}}function kc(s,t,...i){if(s=Ue(s),gE("collection","path",t),s instanceof Vh){const r=de.fromString(t,...i);return $v(r),new Tr(s,null,r)}{if(!(s instanceof Be||s instanceof Tr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...i));return $v(r),new Tr(s.firestore,null,r)}}function Im(s,t,...i){if(s=Ue(s),arguments.length===1&&(t=Zm.newId()),gE("doc","path",t),s instanceof Vh){const r=de.fromString(t,...i);return Xv(r),new Be(s,null,new gt(r))}{if(!(s instanceof Be||s instanceof Tr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...i));return Xv(r),new Be(s.firestore,s instanceof Tr?s.converter:null,new gt(r))}}const P0="AsyncQueue";class j0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const r=Zd();r&&at(P0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;at(P0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=vg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function B0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Io extends Vh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new j0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new j0(t),this._firestoreClient=void 0,await t}}}function xx(s,t){const i=typeof s=="object"?s:Vm(),r=typeof s=="string"?s:sh,l=ya(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=OS("firestore");c&&Nx(l,...c)}return l}function A1(s){if(s._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Dx(s),s._firestoreClient}function Dx(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new ZI(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,b1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Rx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(tn.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ii(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Le("string",ii._jsonSchemaVersion),bytes:Le("string")};class Lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ag{constructor(t){this._methodName=t}}class Yi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Le("string",Yi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Xi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Le("string",Xi._jsonSchemaVersion),vectorValues:Le("object")};const Ox=/^__.*__$/;class Mx{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}class w1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function R1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class wg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&Ox.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vx{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Dh(t)}Cc(t,i,r,l=!1){return new wg({Ac:t,methodName:i,Dc:r,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I1(s){const t=s._freezeSettings(),i=Dh(s._databaseId);return new Vx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function kx(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Rg("Data must be an object, but it was:",d,r);const g=C1(r,d);let _,y;if(c.merge)_=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Cm(t,A,i);if(!d.contains(M))throw new ct(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);x1(b,M)||b.push(M)}_=new Ln(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new Mx(new An(g),_,y)}class Uh extends Ag{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function Lx(s,t,i,r){const l=s.Cc(1,t,i);Rg("Data must be an object, but it was:",l,r);const c=[],d=An.empty();Cr(r,((_,y)=>{const b=Ig(t,_,i);y=Ue(y);const A=l.yc(b);if(y instanceof Uh)c.push(b);else{const M=Ph(y,A);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Ln(c);return new w1(d,g,l.fieldTransforms)}function Ux(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Cm(t,r,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Cm(t,c[M])),_.push(c[M+1]);const y=[],b=An.empty();for(let M=g.length-1;M>=0;--M)if(!x1(y,g[M])){const Q=g[M];let X=_[M];X=Ue(X);const rt=d.yc(Q);if(X instanceof Uh)y.push(Q);else{const tt=Ph(X,rt);tt!=null&&(y.push(Q),b.set(Q,tt))}}const A=new Ln(y);return new w1(b,A,d.fieldTransforms)}function Ph(s,t){if(N1(s=Ue(s)))return Rg("Unsupported field value:",t,s),C1(s,t);if(s instanceof Ag)return(function(r,l){if(!R1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Ph(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=oe.fromDate(r);return{timestampValue:ch(l.serializer,c)}}if(r instanceof oe){const c=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:YE(l.serializer,r._byteString)};if(r instanceof Be){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Xi)return(function(d,g){return{mapValue:{fields:{[AE]:{stringValue:wE},[rh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return ag(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Wm(r)}`)})(s,t)}function C1(s,t){const i={};return _E(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cr(s,((r,l)=>{const c=Ph(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function N1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Yi||s instanceof ii||s instanceof Be||s instanceof Ag||s instanceof Xi)}function Rg(s,t,i){if(!N1(i)||!pE(i)){const r=Wm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Cm(s,t,i){if((t=Ue(t))instanceof Lh)return t._internalPath;if(typeof t=="string")return Ig(s,t);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Px=new RegExp("[~\\*/\\[\\]]");function Ig(s,t,i){if(t.search(Px)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Lh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,g+s+_)}function x1(s,t){return s.some((i=>i.isEqual(t)))}class D1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(O1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jx extends D1{data(){return super.data()}}function O1(s,t){return typeof t=="string"?Ig(s,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}function zx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bx{convertValue(t,i="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Cr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((r=>we(r.doubleValue)));return new Xi(i)}convertGeoPoint(t){return new Yi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ah(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){const i=Sr(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=de.fromString(t);$t(t1(r),9688,{name:t});const l=new Jl(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qx(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class zl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends D1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(O1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Le("string",ca._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Qc extends ca{data(t={}){return super.data(t)}}class vo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Qc(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:Hx(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Hx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Le("string",vo._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class M1 extends Bx{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,i)}}function Fx(s,t,i,...r){s=vr(s,Be);const l=vr(s.firestore,Io),c=I1(l);let d;return d=typeof(t=Ue(t))=="string"||t instanceof Lh?Ux(c,"updateDoc",s._key,t,i,r):Lx(c,"updateDoc",s._key,t),Cg(l,[d.toMutation(s._key,Ti.exists(!0))])}function Gx(s){return Cg(vr(s.firestore,Io),[new og(s._key,Ti.none())])}function Qx(s,t){const i=vr(s.firestore,Io),r=Im(s),l=qx(s.converter,t);return Cg(i,[kx(I1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function tm(s,...t){s=Ue(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||B0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Be)d=vr(s.firestore,Io),g=rg(s._key.path),c={next:_=>{t[r]&&t[r](Kx(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=vr(s,kh);d=vr(_.firestore,Io),g=_._query;const y=new M1(d);c={next:b=>{t[r]&&t[r](new vo(d,y,_,b))},error:t[r+1],complete:t[r+2]},zx(s._query)}return(function(y,b,A,M){const Q=new wx(M),X=new ax(b,Q,A);return y.asyncQueue.enqueueAndForget((async()=>nx(await V0(y),X))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>ix(await V0(y),X)))}})(A1(d),g,l,c)}function Cg(s,t){return(function(r,l){const c=new ua;return r.asyncQueue.enqueueAndForget((async()=>px(await Cx(r),l,c))),c.promise})(A1(s),t)}function Kx(s,t,i){const r=i.docs.get(t._key),l=new M1(s);return new ca(s,l,t._key,r,new zl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Do=l})(No),$i(new Ei("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Io(new MI(r.getProvider("auth-internal")),new LI(d,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),si(Gv,Qv,t),si(Gv,Qv,"esm2020")})();const Yx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),q0=s=>{const t=Xx(s);return t.charAt(0).toUpperCase()+t.slice(1)},V1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),$x=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Jx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zx=ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>ft.createElement("svg",{ref:_,...Jx,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:V1("lucide",l),...!c&&!$x(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>ft.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ue=(s,t)=>{const i=ft.forwardRef(({className:r,...l},c)=>ft.createElement(Zx,{ref:c,iconNode:t,className:V1(`lucide-${Yx(q0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=q0(s),i};const Wx=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],tD=ue("arrow-down-right",Wx);const eD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],nD=ue("arrow-up-right",eD);const iD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sD=ue("banknote",iD);const rD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aD=ue("calendar",rD);const oD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],H0=ue("chart-pie",oD);const lD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nm=ue("check",lD);const uD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cD=ue("chevron-left",uD);const hD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fD=ue("chevron-right",hD);const dD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k1=ue("circle-alert",dD);const mD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gD=ue("credit-card",mD);const pD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yD=ue("funnel",pD);const _D=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],F0=ue("hand-coins",_D);const vD=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],TD=ue("landmark",vD);const ED=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bD=ue("list",ED);const SD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AD=ue("lock",SD);const wD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RD=ue("log-out",wD);const ID=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CD=ue("moon",ID);const ND=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],xD=ue("piggy-bank",ND);const DD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],em=ue("plus",DD);const OD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],MD=ue("smartphone",OD);const VD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kD=ue("sun",VD);const LD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G0=ue("target",LD);const UD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PD=ue("trash-2",UD);const jD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zD=ue("user",jD);const BD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],L1=ue("wallet",BD);const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Q0=ue("x",qD),xm={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},U1="vivekdn2504@gmail.com",Dm=xm.apiKey!=="YOUR_API_KEY",HD=Dm?xm:typeof __firebase_config<"u"?JSON.parse(__firebase_config):xm,Ng=oT(HD);typeof window<"u"&&R2(Ng);const Lc=NI(Ng),Ll=xx(Ng),FD=({message:s,type:t,onClose:i})=>{ft.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-red-500":"bg-indigo-600";return S.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-medium text-sm flex items-center gap-2 z-[90] animate-fade-in-down ${r}`,children:[t==="error"?S.jsx(k1,{className:"w-4 h-4"}):S.jsx(Nm,{className:"w-4 h-4"}),s]})},GD=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?S.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:S.jsx("div",{className:`w-full max-w-xs p-6 rounded-3xl shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white":"bg-white text-gray-900"}`,children:S.jsxs("div",{className:"flex flex-col items-center text-center",children:[S.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:S.jsx(PD,{className:"w-6 h-6"})}),S.jsx("h3",{className:"text-lg font-bold mb-2",children:t}),S.jsx("p",{className:`text-sm mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:i}),S.jsxs("div",{className:"flex gap-3 w-full",children:[S.jsx("button",{onClick:l,className:`flex-1 py-3 rounded-xl font-bold text-sm transition-colors ${c?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),S.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-bold text-sm bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 transition-colors",children:"Delete"})]})]})})}):null,QD=({onLogin:s,error:t})=>S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 font-sans",children:S.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:S.jsx(L1,{className:"w-8 h-8"})}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),S.jsxs("p",{className:"text-gray-500 mb-8 text-sm",children:["Personal Expense Manager",S.jsx("br",{}),"Secure Login"]}),t&&S.jsxs("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-xs rounded-xl flex items-center gap-2 text-left",children:[S.jsx(k1,{className:"w-4 h-4 shrink-0"}),t]}),S.jsx("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:"Sign in with Google"}),S.jsx("p",{className:"mt-6 text-[10px] text-gray-400 uppercase tracking-widest",children:"Restricted Access"}),S.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:U1})]})}),KD=()=>S.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:S.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[S.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:S.jsx(AD,{className:"w-6 h-6"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),S.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),S.jsx("p",{className:"text-gray-300",children:"Firebase Console > Project Settings."})]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),S.jsx("p",{className:"text-gray-300",children:"Update lines 26-33."})]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),S.jsx("p",{className:"text-gray-300",children:"Update line 40."})]})]})]})});function YD(){const[s,t]=ft.useState(null),[i,r]=ft.useState([]),[l,c]=ft.useState([]),[d,g]=ft.useState([]),[_,y]=ft.useState(!0),[b,A]=ft.useState(null),[M,Q]=ft.useState(null),[X,rt]=ft.useState(()=>localStorage.getItem("theme")==="dark"),[tt,mt]=ft.useState(!1),[vt,pt]=ft.useState({isOpen:!1,id:null,collection:"expenses"}),[Dt,Yt]=ft.useState("transactions"),[kt,N]=ft.useState("date"),[w,C]=ft.useState("month"),[V,D]=ft.useState(new Date),[L,R]=ft.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().slice(0,10),end:new Date().toISOString().slice(0,10)}),[se,Re]=ft.useState(""),[F,nt]=ft.useState("All"),[ht,qt]=ft.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[Xt,O]=ft.useState(!1),[K,it]=ft.useState(()=>{try{return JSON.parse(localStorage.getItem("cat_budgets"))||{}}catch{return{}}}),[st,Tt]=ft.useState(!1),bt=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],Ot=["Salary","Bonus","Freelance","Other"],[re,le]=ft.useState(()=>{try{const z=localStorage.getItem("custom_categories");return z?JSON.parse(z):[]}catch{return[]}}),[ts,Si]=ft.useState(!1),[Ai,es]=ft.useState(""),[en,xr]=ft.useState(()=>{try{const z=localStorage.getItem("payment_modes");return z?JSON.parse(z):["Cash","UPI","Bank Account","Credit Card"]}catch{return["Cash","UPI","Bank Account","Credit Card"]}}),[ns,is]=ft.useState(!1),[ss,ye]=ft.useState(""),[St,Pn]=ft.useState("expense"),[ri,Ta]=ft.useState(null),[Ie,wi]=ft.useState(""),[ai,Ri]=ft.useState(""),[oi,Dr]=ft.useState(""),[Or,Mr]=ft.useState(""),[Ds,mn]=ft.useState(new Date().toISOString().split("T")[0]),[Ce,un]=ft.useState(""),[ce,Os]=ft.useState("borrowed");ft.useEffect(()=>{document.documentElement.classList.toggle("dark",X),localStorage.setItem("theme",X?"dark":"light")},[X]),ft.useEffect(()=>{if(!Dm){y(!1);return}const z=_R(Lc,W=>{y(!1),W?W.email===U1?(t(W),A(null)):(Vv(Lc),A(`Access Denied: ${W.email} is not authorized.`)):t(null)});return()=>z()},[]),ft.useEffect(()=>{if(!s)return;const z=tm(kc(Ll,"users",s.uid,"expenses"),At=>{const me=At.docs.map(Pe=>({id:Pe.id,...Pe.data(),date:Pe.data().date?.toDate()||new Date}));me.sort((Pe,Hn)=>Hn.date-Pe.date),r(me)}),W=tm(kc(Ll,"users",s.uid,"goals"),At=>{c(At.docs.map(me=>({id:me.id,...me.data()})))}),ut=tm(kc(Ll,"users",s.uid,"debts"),At=>{g(At.docs.map(me=>({id:me.id,...me.data(),date:me.data().date?.toDate()||new Date})))});return()=>{z(),W(),ut()}},[s]),ft.useEffect(()=>{localStorage.setItem("monthly_budget",ht)},[ht]),ft.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(re))},[re]),ft.useEffect(()=>{localStorage.setItem("payment_modes",JSON.stringify(en))},[en]),ft.useEffect(()=>{localStorage.setItem("cat_budgets",JSON.stringify(K))},[K]);const Ms=async()=>{try{A(null);const z=new As;await PR(Lc,z)}catch(z){A(z.message)}},Ea=async()=>await Vv(Lc),He=(z,W="success")=>Q({message:z,type:W}),Ii=z=>{const W=new Date(V);w==="month"?W.setMonth(W.getMonth()+z):w==="year"&&W.setFullYear(W.getFullYear()+z),D(W)},ve=()=>{if(w==="custom")return{start:new Date(L.start),end:new Date(new Date(L.end).setHours(23,59,59))};const z=V.getFullYear(),W=V.getMonth();return w==="year"?{start:new Date(z,0,1),end:new Date(z,11,31,23,59,59)}:{start:new Date(z,W,1),end:new Date(z,W+1,0,23,59,59)}},cn=(z=null,W=null)=>{Ta(z?.id||null);let ut=W||(Dt==="goals"?"goal":Dt==="debt"?"debt":"expense");z?.type&&(ut=z.type),Pn(ut),wi(z?.amount||""),Ri(z?.category||z?.title||z?.person||""),un(z?.targetAmount||""),Os(z?.debtType||"borrowed"),Dr(z?.paymentMode||"Cash"),Mr(z?.description||""),mn(z?.date?new Date(z.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]),mt(!0)},jn=async z=>{if(z.preventDefault(),!Ie||!s)return;let W="expenses",ut={amount:parseFloat(Ie),description:Or,updatedAt:oe.now()};St==="goal"?(W="goals",ut={...ut,title:ai,targetAmount:parseFloat(Ce),savedAmount:parseFloat(Ie)}):St==="debt"?(W="debts",ut={...ut,person:ai,debtType:ce,date:new Date(Ds)}):ut={...ut,type:St,category:ai||(St==="expense"?bt[0]:Ot[0]),paymentMode:oi||"Cash",date:new Date(Ds)};try{const At=kc(Ll,"users",s.uid,W);ri?(await Fx(Im(At,ri),ut),He("Updated successfully")):(ut.createdAt=oe.now(),await Qx(At,ut),He("Added successfully")),mt(!1)}catch(At){console.error(At),He("Save failed","error")}},wn=(z,W)=>pt({isOpen:!0,id:z,collection:W}),ko=async()=>{if(!(!s||!vt.id))try{await Gx(Im(Ll,"users",s.uid,vt.collection,vt.id)),He("Deleted"),mt(!1)}catch{He("Delete failed","error")}finally{pt({isOpen:!1,id:null,collection:"expenses"})}},ba=()=>{if(Ai.trim()){const z=Ai.trim();[...bt,...Ot,...re].includes(z)||(le([...re,z]),Ri(z),He("Category added")),es(""),Si(!1)}},zn=()=>{if(ss.trim()){const z=ss.trim();en.includes(z)||(xr([...en,z]),Dr(z),He("Payment method added")),ye(""),is(!1)}},rs=St==="expense"?[...bt,...re]:Ot,Lo=ft.useMemo(()=>[...new Set([...bt,...re])],[re]),nn=ve(),Bn=ft.useMemo(()=>{const{start:z,end:W}=nn;return i.filter(At=>{const me=At.date>=z&&At.date<=W,Pe=se.toLowerCase(),Hn=!Pe||At.category.toLowerCase().includes(Pe)||(At.description||"").toLowerCase().includes(Pe)||(At.paymentMode||"").toLowerCase().includes(Pe),Fn=F==="All"||At.category===F||F==="Income"&&At.type==="income";return me&&Hn&&Fn}).sort((At,me)=>kt==="amount"?me.amount-At.amount:me.date-At.date)},[i,nn,se,F,kt]),Ci=ft.useMemo(()=>{let z=0,W=0;Bn.forEach(me=>{me.type==="income"?z+=me.amount:W+=me.amount});const ut=Math.abs(nn.end-nn.start),At=Math.ceil(ut/(1e3*60*60*24))+1;return{income:z,expense:W,balance:z-W,dailyAvg:At>0?Math.round(W/At):0}},[Bn,nn]),li=ft.useMemo(()=>{const z={};let W=0;return Bn.forEach(ut=>{ut.type!=="income"&&(z[ut.category]=(z[ut.category]||0)+ut.amount,W+=ut.amount)}),Object.entries(z).map(([ut,At])=>({name:ut,value:At,pct:W>0?At/W*100:0})).sort((ut,At)=>At.value-ut.value)},[Bn]),qn=ft.useMemo(()=>{const z={};return Bn.forEach(W=>{const ut=W.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});z[ut]||(z[ut]=[]),z[ut].push(W)}),z},[Bn]),Sa=ft.useMemo(()=>{const z=new Set(i.filter(W=>W.date>=nn.start&&W.date<=nn.end).map(W=>W.category));return["All",...Array.from(z)]},[i,nn]),gn=z=>{const W=(z||"").toLowerCase();return W.includes("food")||W.includes("dine")?"":W.includes("shop")?"":W.includes("transport")||W.includes("fuel")?"":W.includes("rent")?"":W.includes("health")?"":W.includes("entertain")?"":W.includes("grocer")?"":""},Rn=z=>{const W=(z||"").toLowerCase();return W.includes("card")||W.includes("credit")||W.includes("debit")?S.jsx(gD,{className:"w-3 h-3 text-indigo-400"}):W.includes("bank")||W.includes("transfer")?S.jsx(TD,{className:"w-3 h-3 text-blue-400"}):W.includes("upi")||W.includes("gpay")||W.includes("paytm")?S.jsx(MD,{className:"w-3 h-3 text-purple-400"}):S.jsx(sD,{className:"w-3 h-3 text-green-400"})};return Dm?_?S.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:S.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?S.jsxs("div",{className:`min-h-screen font-sans pb-24 transition-colors duration-300 ${X?"bg-[#09090b] text-gray-100":"bg-slate-50 text-slate-900"}`,children:[M&&S.jsx(FD,{message:M.message,type:M.type,onClose:()=>Q(null)}),S.jsx(GD,{isOpen:vt.isOpen,title:"Delete Item?",message:"Cannot be undone.",onConfirm:ko,onCancel:()=>pt({...vt,isOpen:!1}),isDarkMode:X}),S.jsxs("div",{className:`sticky top-0 z-20 px-5 py-4 flex justify-between items-center backdrop-blur-xl border-b ${X?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200"}`,children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:S.jsx(L1,{className:"w-5 h-5"})}),S.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"FinManager"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>rt(!X),className:`p-2.5 rounded-full ${X?"bg-white/10 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:X?S.jsx(kD,{className:"w-5 h-5"}):S.jsx(CD,{className:"w-5 h-5"})}),S.jsx("button",{onClick:Ea,className:"p-2.5 rounded-full bg-red-100 text-red-500 hover:bg-red-200",children:S.jsx(RD,{className:"w-5 h-5"})})]})]}),S.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-6 mb-20",children:[Dt==="transactions"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"relative overflow-hidden rounded-[28px] p-6 shadow-2xl shadow-indigo-500/20 bg-gradient-to-br from-[#1e1b4b] to-[#4338ca] text-white",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-1",children:"Balance"}),S.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[S.jsx("span",{className:"text-indigo-300 mr-1",children:""}),Ci.balance.toLocaleString("en-IN")]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Daily Avg"}),S.jsxs("p",{className:"text-xl font-bold",children:["",Ci.dailyAvg]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[S.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[S.jsx(tD,{className:"w-4 h-4"}),S.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),S.jsxs("p",{className:"font-semibold text-lg",children:["",Ci.income.toLocaleString("en-IN")]})]}),S.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[S.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[S.jsx(nD,{className:"w-4 h-4"}),S.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),S.jsxs("p",{className:"font-semibold text-lg",children:["",Ci.expense.toLocaleString("en-IN")]})]})]})]}),S.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500 rounded-full blur-[60px] opacity-30"})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:`flex-1 flex items-center justify-between p-1.5 rounded-2xl border backdrop-blur-md ${X?"bg-[#09090b]/90 border-white/5":"bg-white/95 border-slate-200 shadow-sm"}`,children:[S.jsx("button",{onClick:()=>Ii(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:S.jsx(cD,{className:"w-4 h-4"})}),S.jsxs("span",{className:"text-sm font-bold flex items-center gap-2",children:[S.jsx(aD,{className:"w-3 h-3 text-gray-400"}),w==="month"?V.toLocaleDateString("en-IN",{month:"short",year:"numeric"}):V.getFullYear()]}),S.jsx("button",{onClick:()=>Ii(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:S.jsx(fD,{className:"w-4 h-4"})})]}),S.jsxs("select",{value:w,onChange:z=>C(z.target.value),className:`px-2 py-2 rounded-xl text-xs font-bold border outline-none ${X?"bg-[#18181b] border-white/10 text-white":"bg-white border-slate-200 text-gray-900"}`,children:[S.jsx("option",{value:"month",children:"Month"}),S.jsx("option",{value:"year",children:"Year"}),S.jsx("option",{value:"custom",children:"Custom"})]})]}),S.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Sa.map(z=>S.jsx("button",{onClick:()=>nt(z),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${F===z?"bg-indigo-600 border-indigo-600 text-white":X?"bg-[#18181b] border-white/10 text-gray-400":"bg-white border-slate-200 text-slate-600"}`,children:z},z))})]}),S.jsxs("div",{className:"space-y-6",children:[Object.entries(qn).map(([z,W])=>S.jsxs("div",{children:[S.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 px-1",children:z}),S.jsx("div",{className:"space-y-3",children:W.map(ut=>S.jsxs("div",{onClick:()=>cn(ut),className:`group flex items-center gap-4 p-4 rounded-2xl border transition-all cursor-pointer active:scale-[0.98] ${X?"bg-[#18181b] border-white/5 hover:bg-white/5":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`,children:[S.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-lg ${ut.type==="income"?"bg-emerald-500/10":X?"bg-white/5":"bg-slate-100"}`,children:gn(ut.category)}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h5",{className:"font-bold text-sm truncate",children:ut.category}),S.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[S.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] ${X?"bg-white/10":"bg-gray-100"}`,children:[Rn(ut.paymentMode),ut.paymentMode||"Cash"]}),S.jsx("span",{className:"truncate max-w-[80px] border-l border-gray-500/30 pl-2",children:ut.description||"No desc"})]})]}),S.jsxs("div",{className:`font-bold ${ut.type==="income"?"text-emerald-500":X?"text-gray-100":"text-slate-900"}`,children:[ut.type==="income"?"+":"-","",ut.amount.toLocaleString("en-IN")]})]},ut.id))})]},z)),Object.keys(qn).length===0&&S.jsxs("div",{className:"text-center py-12 opacity-40",children:[S.jsx(yD,{className:"w-12 h-12 mx-auto mb-2"}),S.jsx("p",{children:"No transactions"})]})]})]}),Dt==="insights"&&S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{className:`p-5 rounded-3xl border ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2",children:[S.jsx(H0,{className:"w-4 h-4 text-indigo-500"})," Category Budgets"]}),S.jsx("button",{onClick:()=>Tt(!st),className:`text-xs font-bold px-3 py-1.5 rounded-full transition-colors ${st?"bg-indigo-600 text-white":"bg-indigo-500/10 text-indigo-500"}`,children:st?"Done":"Edit Limits"})]}),S.jsxs("div",{className:"space-y-5",children:[(st?Lo:li.map(z=>z.name)).map(z=>{const W=li.find(Hn=>Hn.name===z),ut=W?W.value:0,At=K[z]||0,me=At>0?Math.min(ut/At*100,100):W?W.pct:0,Pe=At>0&&ut>At;return!st&&ut===0&&At===0?null:S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs font-medium items-center",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-lg",children:gn(z)}),S.jsxs("div",{children:[S.jsx("div",{className:X?"text-gray-200":"text-gray-900",children:z}),!st&&At>0&&S.jsx("div",{className:`text-[10px] font-bold ${Pe?"text-red-500":"text-gray-500"}`,children:Pe?`Over by ${(ut-At).toLocaleString()}`:`Limit: ${At.toLocaleString()}`})]})]}),S.jsx("div",{className:"text-right",children:st?S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-gray-500",children:"Limit: "}),S.jsx("input",{type:"number",className:`w-20 p-1 text-right rounded border outline-none text-sm font-bold ${X?"bg-black/30 border-white/10 text-white":"bg-white border-gray-300 text-gray-900"}`,value:K[z]||"",onChange:Hn=>it({...K,[z]:parseFloat(Hn.target.value)})})]}):S.jsxs("div",{className:"font-bold",children:["",ut.toLocaleString("en-IN")]})})]}),!st&&S.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:S.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${Pe?"bg-red-500":"bg-indigo-500"}`,style:{width:`${me}%`}})})]},z)}),!st&&li.length===0&&S.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No data available"})]})]})}),Dt==="goals"&&S.jsxs("div",{className:"space-y-4",children:[l.map(z=>{const W=Math.min(z.savedAmount/z.targetAmount*100,100);return S.jsxs("div",{onClick:()=>cn(z),className:`p-5 rounded-3xl border relative overflow-hidden ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg",children:z.title}),S.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",z.targetAmount.toLocaleString()]})]}),S.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:S.jsx(G0,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1.5",children:[S.jsxs("span",{children:["",z.savedAmount.toLocaleString()]}),S.jsxs("span",{children:[Math.round(W),"%"]})]}),S.jsx("div",{className:"h-3 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${W}%`}})})]})]},z.id)}),l.length===0&&S.jsxs("div",{className:"text-center py-20 opacity-50",children:[S.jsx(xD,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),S.jsx("p",{children:"No savings goals yet."})]})]}),Dt==="debt"&&S.jsxs("div",{className:"space-y-4",children:[d.map(z=>S.jsxs("div",{onClick:()=>cn(z),className:`p-5 rounded-3xl border flex items-center justify-between ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${z.debtType==="lent"?"bg-emerald-500/10 text-emerald-500":"bg-red-500/10 text-red-500"}`,children:S.jsx(zD,{className:"w-6 h-6"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold",children:z.person}),S.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${z.debtType==="lent"?"text-emerald-500":"text-red-500"}`,children:z.debtType==="lent"?"Owes You":"You Owe"})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:"text-xl font-bold",children:["",z.amount.toLocaleString()]}),S.jsx("p",{className:"text-xs text-gray-500",children:new Date(z.date).toLocaleDateString()})]})]},z.id)),d.length===0&&S.jsxs("div",{className:"text-center py-20 opacity-50",children:[S.jsx(F0,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),S.jsx("p",{children:"No debts recorded."})]})]})]}),S.jsxs("div",{className:`fixed bottom-0 left-0 right-0 border-t flex justify-around items-center py-3 px-2 z-40 backdrop-blur-md ${X?"bg-[#09090b]/90 border-white/5":"bg-white/90 border-slate-200"}`,children:[S.jsxs("button",{onClick:()=>Yt("transactions"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all ${Dt==="transactions"?"text-indigo-500":"text-gray-400"}`,children:[S.jsx(bD,{className:"w-6 h-6"}),S.jsx("span",{className:"text-[10px] font-bold",children:"Home"})]}),S.jsxs("button",{onClick:()=>Yt("insights"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all ${Dt==="insights"?"text-indigo-500":"text-gray-400"}`,children:[S.jsx(H0,{className:"w-6 h-6"}),S.jsx("span",{className:"text-[10px] font-bold",children:"Insights"})]}),S.jsx("div",{className:"w-12"})," ",S.jsxs("button",{onClick:()=>Yt("goals"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all ${Dt==="goals"?"text-indigo-500":"text-gray-400"}`,children:[S.jsx(G0,{className:"w-6 h-6"}),S.jsx("span",{className:"text-[10px] font-bold",children:"Goals"})]}),S.jsxs("button",{onClick:()=>Yt("debt"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all ${Dt==="debt"?"text-indigo-500":"text-gray-400"}`,children:[S.jsx(F0,{className:"w-6 h-6"}),S.jsx("span",{className:"text-[10px] font-bold",children:"Debt"})]})]}),S.jsx("button",{onClick:()=>cn(),className:"fixed bottom-8 left-1/2 -translate-x-1/2 h-16 w-16 bg-indigo-600 rounded-full text-white shadow-xl shadow-indigo-600/40 flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-50 border-4 border-white dark:border-[#09090b]",children:S.jsx(em,{className:"w-8 h-8"})}),tt&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>mt(!1)}),S.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-6 rounded-t-[32px] z-[60] transition-transform duration-300 animate-slide-up ${X?"bg-[#1c1c1f]":"bg-white"}`,children:[S.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6"}),S.jsxs("form",{onSubmit:jn,className:"space-y-6",children:[S.jsx("div",{className:"text-center mb-4",children:S.jsxs("h2",{className:"text-lg font-bold text-gray-500 uppercase tracking-widest",children:[ri?"Edit":"Add"," ",St==="goal"?"Savings Goal":St==="debt"?"Debt Record":St]})}),(St==="expense"||St==="income")&&!ri&&S.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[S.jsx("button",{type:"button",onClick:()=>Pn("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${St==="expense"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-500"}`,children:"Expense"}),S.jsx("button",{type:"button",onClick:()=>Pn("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${St==="income"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"Income"})]}),St==="debt"&&S.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[S.jsx("button",{type:"button",onClick:()=>Os("borrowed"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ce==="borrowed"?"bg-white dark:bg-white/10 shadow-sm text-red-500":"text-gray-500"}`,children:"I Borrowed"}),S.jsx("button",{type:"button",onClick:()=>Os("lent"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ce==="lent"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"I Lent"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:St==="goal"?"Current Saved":"Amount"}),S.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[S.jsx("span",{className:"text-3xl font-bold text-gray-400",children:""}),S.jsx("input",{autoFocus:!0,type:"number",value:Ie,onChange:z=>wi(z.target.value),placeholder:"0",className:`text-5xl font-bold bg-transparent outline-none w-48 text-center ${X?"text-white":"text-gray-900"}`})]})]}),St==="goal"&&S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Target Amount"}),S.jsx("input",{type:"number",value:Ce,onChange:z=>un(z.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:St==="goal"?"Goal Name":St==="debt"?"Person Name":"Category"}),St==="expense"||St==="income"?ts?S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Ai,onChange:z=>es(z.target.value),placeholder:"New...",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),S.jsx("button",{type:"button",onClick:ba,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:S.jsx(Nm,{className:"w-4 h-4"})}),S.jsx("button",{type:"button",onClick:()=>Si(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:S.jsx(Q0,{className:"w-4 h-4"})})]}):S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("select",{value:ai,onChange:z=>Ri(z.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[S.jsx("option",{value:"",disabled:!0,children:"Select..."}),rs.map(z=>S.jsx("option",{value:z,children:z},z))]}),St==="expense"&&S.jsx("button",{type:"button",onClick:()=>Si(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl",children:S.jsx(em,{className:"w-4 h-4 text-gray-500"})})]}):S.jsx("input",{type:"text",value:ai,onChange:z=>Ri(z.target.value),placeholder:St==="debt"?"e.g. Rahul":"e.g. New Phone",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),St!=="goal"&&S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),S.jsx("input",{type:"date",value:Ds,onChange:z=>mn(z.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),(St==="expense"||St==="income")&&S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Account / Pay Via"}),ns?S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:ss,onChange:z=>ye(z.target.value),placeholder:"e.g. HDFC Credit Card",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),S.jsx("button",{type:"button",onClick:zn,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:S.jsx(Nm,{className:"w-4 h-4"})}),S.jsx("button",{type:"button",onClick:()=>is(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:S.jsx(Q0,{className:"w-4 h-4"})})]}):S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("select",{value:oi,onChange:z=>Dr(z.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[S.jsx("option",{value:"",disabled:!0,children:"Select..."}),en.map(z=>S.jsx("option",{value:z,children:z},z))]}),S.jsx("button",{type:"button",onClick:()=>is(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl border border-transparent dark:border-white/5",children:S.jsx(em,{className:"w-4 h-4 text-gray-500"})})]})]}),S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Note (Optional)"}),S.jsx("input",{type:"text",value:Or,onChange:z=>Mr(z.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),S.jsxs("div",{className:"pt-2 space-y-3",children:[S.jsx("button",{type:"submit",className:"w-full font-bold py-4 rounded-2xl shadow-lg text-white active:scale-[0.98] transition-all text-lg bg-indigo-600 shadow-indigo-500/20",children:ri?"Update":"Save"}),ri&&S.jsx("button",{type:"button",onClick:()=>wn(ri,St==="goal"?"goals":St==="debt"?"debts":"expenses"),className:"w-full py-3.5 text-red-500 font-bold text-sm bg-red-500/10 rounded-2xl hover:bg-red-500/20 transition-colors",children:"Delete"})]})]})]})]})]}):S.jsx(QD,{onLogin:Ms,error:b}):S.jsx(KD,{})}SS.createRoot(document.getElementById("root")).render(S.jsx(ft.StrictMode,{children:S.jsx(YD,{})}));
