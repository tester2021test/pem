(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},xl={};var Y_;function fS(){if(Y_)return xl;Y_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return xl.Fragment=t,xl.jsx=i,xl.jsxs=i,xl}var X_;function dS(){return X_||(X_=1,Dd.exports=fS()),Dd.exports}var C=dS(),Od={exports:{}},wt={};var $_;function mS(){if($_)return wt;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Z={};function gt(O,Y,et){this.props=O,this.context=Y,this.refs=Z,this.updater=et||W}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=gt.prototype;function yt(O,Y,et){this.props=O,this.context=Y,this.refs=Z,this.updater=et||W}var It=yt.prototype=new Et;It.constructor=yt,it(It,gt.prototype),It.isPureReactComponent=!0;var se=Array.isArray;function Dt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,et){var st=et.ref;return{$$typeof:s,type:O,key:Y,ref:st!==void 0?st:null,props:et}}function V(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function re(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,et,st,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case t:kt=!0;break;case E:return kt=O._init,G(kt(O._payload),Y,et,st,_t)}}if(kt)return _t=_t(O),kt=st===""?"."+re(O,0):st,se(_t)?(et="",kt!=null&&(et=kt.replace(w,"$&/")+"/"),G(_t,Y,et,"",function(ei){return ei})):_t!=null&&(D(_t)&&(_t=V(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+kt)),Y.push(_t)),1;kt=0;var Ee=st===""?".":st+":";if(se(O))for(var Wt=0;Wt<O.length;Wt++)st=O[Wt],bt=Ee+re(st,Wt),kt+=G(st,Y,et,bt,_t);else if(Wt=Q(O),typeof Wt=="function")for(O=Wt.call(O),Wt=0;!(st=O.next()).done;)st=st.value,bt=Ee+re(st,Wt++),kt+=G(st,Y,et,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return G(Ie(O),Y,et,st,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(O,Y,et){if(O==null)return O;var st=[],_t=0;return G(O,st,"","",function(bt){return Y.call(et,bt,_t++)}),st}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Bt={map:nt,forEach:function(O,Y,et){nt(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=A,wt.Children=Bt,wt.Component=gt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=yt,wt.StrictMode=r,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=it({},O.props),_t=O.key;if(Y!=null)for(bt in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(st[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var kt=Array(bt),Ee=0;Ee<bt;Ee++)kt[Ee]=arguments[Ee+2];st.children=kt}return I(O.type,_t,st)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,Y,et){var st,_t={},bt=null;if(Y!=null)for(st in Y.key!==void 0&&(bt=""+Y.key),Y)S.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Y[st]);var kt=arguments.length-2;if(kt===1)_t.children=et;else if(1<kt){for(var Ee=Array(kt),Wt=0;Wt<kt;Wt++)Ee[Wt]=arguments[Wt+2];_t.children=Ee}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)_t[st]===void 0&&(_t[st]=kt[st]);return I(O,bt,_t)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:g,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ht}},wt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},wt.startTransition=function(O){var Y=N.T,et={};N.T=et;try{var st=O(),_t=N.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Dt,Ot)}catch(bt){Ot(bt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),N.T=Y}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(O){return N.H.use(O)},wt.useActionState=function(O,Y,et){return N.H.useActionState(O,Y,et)},wt.useCallback=function(O,Y){return N.H.useCallback(O,Y)},wt.useContext=function(O){return N.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},wt.useEffect=function(O,Y){return N.H.useEffect(O,Y)},wt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(O,Y,et){return N.H.useImperativeHandle(O,Y,et)},wt.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},wt.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},wt.useMemo=function(O,Y){return N.H.useMemo(O,Y)},wt.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},wt.useReducer=function(O,Y,et){return N.H.useReducer(O,Y,et)},wt.useRef=function(O){return N.H.useRef(O)},wt.useState=function(O){return N.H.useState(O)},wt.useSyncExternalStore=function(O,Y,et){return N.H.useSyncExternalStore(O,Y,et)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.3",wt}var J_;function xm(){return J_||(J_=1,Od.exports=mS()),Od.exports}var vt=xm(),Md={exports:{}},Dl={},Vd={exports:{}},kd={};var Z_;function gS(){return Z_||(Z_=1,(function(s){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Ot=ht-1>>>1,Bt=G[Ot];if(0<l(Bt,nt))G[Ot]=nt,G[ht]=Bt,ht=Ot;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Ot=0,Bt=G.length,O=Bt>>>1;Ot<O;){var Y=2*(Ot+1)-1,et=G[Y],st=Y+1,_t=G[st];if(0>l(et,ht))st<Bt&&0>l(_t,et)?(G[Ot]=_t,G[st]=ht,Ot=st):(G[Ot]=et,G[Y]=ht,Ot=Y);else if(st<Bt&&0>l(_t,ht))G[Ot]=_t,G[st]=ht,Ot=st;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,A=null,M=3,Q=!1,W=!1,it=!1,Z=!1,gt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function It(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=G)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function se(G){if(it=!1,It(G),!W)if(i(_)!==null)W=!0,Dt||(Dt=!0,U());else{var nt=i(y);nt!==null&&Ie(se,nt.startTime-G)}}var Dt=!1,N=-1,S=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<S)}function D(){if(Z=!1,Dt){var G=s.unstable_now();I=G;var nt=!0;try{t:{W=!1,it&&(it=!1,Et(N),N=-1),Q=!0;var ht=M;try{e:{for(It(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var Ot=A.callback;if(typeof Ot=="function"){A.callback=null,M=A.priorityLevel;var Bt=Ot(A.expirationTime<=G);if(G=s.unstable_now(),typeof Bt=="function"){A.callback=Bt,It(G),nt=!0;break e}A===i(_)&&r(_),It(G)}else r(_);A=i(_)}if(A!==null)nt=!0;else{var O=i(y);O!==null&&Ie(se,O.startTime-G),nt=!1}}break t}finally{A=null,M=ht,Q=!1}nt=void 0}}finally{nt?U():Dt=!1}}}var U;if(typeof yt=="function")U=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=D,U=function(){re.postMessage(null)}}else U=function(){gt(D,0)};function Ie(G,nt){N=gt(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ht=M;M=nt;try{return G()}finally{M=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=M;M=G;try{return nt()}finally{M=ht}},s.unstable_scheduleCallback=function(G,nt,ht){var Ot=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ot+ht:Ot):ht=Ot,G){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ht+Bt,G={id:E++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:Bt,sortIndex:-1},ht>Ot?(G.sortIndex=ht,t(y,G),i(_)===null&&G===i(y)&&(it?(Et(N),N=-1):it=!0,Ie(se,ht-Ot))):(G.sortIndex=Bt,t(_,G),W||Q||(W=!0,Dt||(Dt=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=M;return function(){var ht=M;M=nt;try{return G.apply(this,arguments)}finally{M=ht}}}})(kd)),kd}var W_;function pS(){return W_||(W_=1,Vd.exports=gS()),Vd.exports}var Ud={exports:{}},an={};var tv;function yS(){if(tv)return an;tv=1;var s=xm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},an.flushSync=function(_){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=E,r.d.f()}},an.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},an.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},an.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):E==="script"&&r.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},an.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},an.requestFormReset=function(_){r.d.r(_)},an.unstable_batchedUpdates=function(_,y){return _(y)},an.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var ev;function _S(){if(ev)return Ud.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=yS(),Ud.exports}var nv;function vS(){if(nv)return Dl;nv=1;var s=pS(),t=xm(),i=_S();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case gt:return"Profiler";case Z:return"StrictMode";case se:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ot=[],Bt=-1;function O(e){return{current:e}}function Y(e){0>Bt||(e.current=Ot[Bt],Ot[Bt]=null,Bt--)}function et(e,n){Bt++,Ot[Bt]=e.current,e.current=n}var st=O(null),_t=O(null),bt=O(null),kt=O(null);function Ee(e,n){switch(et(bt,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function Wt(){Y(st),Y(_t),Y(bt)}function ei(e){e.memoizedState!==null&&et(kt,e);var n=st.current,a=__(n,e.type);n!==a&&(et(_t,e),et(st,a))}function Ji(e){_t.current===e&&(Y(st),Y(_t)),kt.current===e&&(Y(kt),Rl._currentValue=ht)}var rn,ni;function He(e){if(rn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);rn=n&&n[1]||"",ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+e+ni}var Zi=!1;function ii(e,n){if(!e||Zi)return"";Zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Zi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?He(a):""}function Wi(e,n){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return e.child!==n&&n!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return ii(e.type,!1);case 11:return ii(e.type.render,!1);case 1:return ii(e.type,!0);case 31:return He("Activity");default:return""}}function Rs(e){try{var n="",a=null;do n+=Wi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ue=Object.prototype.hasOwnProperty,_e=s.unstable_scheduleCallback,Rn=s.unstable_cancelCallback,ma=s.unstable_shouldYield,Is=s.unstable_requestPaint,Fe=s.unstable_now,si=s.unstable_getCurrentPriorityLevel,wr=s.unstable_ImmediatePriority,Rr=s.unstable_UserBlockingPriority,Xe=s.unstable_NormalPriority,ga=s.unstable_LowPriority,pa=s.unstable_IdlePriority,Ir=s.log,ya=s.unstable_setDisableYieldValue,mn=null,Pe=null;function gn(e){if(typeof Ir=="function"&&ya(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(mn,e)}catch{}}var ge=Math.clz32?Math.clz32:ri,_a=Math.log,Cs=Math.LN2;function ri(e){return e>>>=0,e===0?32:31-(_a(e)/Cs|0)|0}var be=256,jn=262144,pe=4194304;function pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=pn(o):(p&=T,p!==0?h=pn(p):a||(a=T&~e,a!==0&&(h=pn(a))))):(T=o&~f,T!==0?h=pn(T):p!==0?h=pn(p):a||(a=o&~e,a!==0&&(h=pn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Cn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function va(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function H(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function rt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lt(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-ge(a),X=1<<F;T[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&dt(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function dt(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ft(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Si(e,n){var a=n&-n;return a=(a&42)!==0?1:ts(a),(a&(e.suspendedLanes|n))!==0?0:a}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ai(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function oi(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var li=Math.random().toString(36).slice(2),Ce="__reactFiber$"+li,Ge="__reactProps$"+li,Ai="__reactContainer$"+li,Ea="__reactEvents$"+li,Uh="__reactListeners$"+li,au="__reactHandles$"+li,ou="__reactResources$"+li,wi="__reactMarker$"+li;function ba(e){delete e[Ce],delete e[Ge],delete e[Ea],delete e[Uh],delete e[au]}function Ri(e){var n=e[Ce];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ai]||a[Ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Ce])return a;e=w_(e)}return n}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[Ce]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Nn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ii(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[wi]=!0}var Mo=new Set,Vo={};function Ci(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(Vo[e]=n,e=0;e<n.length;e++)Mo.add(n[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function lu(e){return ue.call(Lo,e)?!0:ue.call(Uo,e)?!1:ko.test(e)?Lo[e]=!0:(Uo[e]=!0,!1)}function Sa(e,n,a){if(lu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function xn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function xe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ns(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=Ns(e)?"checked":"value";e._valueTracker=Po(e,n,""+e[n])}}function Cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ns(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nr=/[\n"\\]/g;function yn(e){return e.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qe(n)):e.value!==""+Qe(n)&&(e.value=""+Qe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?zo(e,p,Qe(n)):a!=null?zo(e,p,Qe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Qe(T):e.removeAttribute("name")}function uu(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}a=a!=null?""+Qe(a):"",n=n!=null?""+Qe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),$t(e)}function zo(e,n,a){n==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Qe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,a){if(n!=null&&(n=""+Qe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Qe(a):""}function Ds(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ie(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),$t(e)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Bo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&jo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&jo(e,f,n[f])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(e){return Os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var qo=null;function qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ms=null,Di=null;function xr(e){var n=Bn(e);if(n&&(e=n.stateNode)){var a=e[Ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(Aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ge]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Cr(o)}break t;case"textarea":cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&xs(e,!!a.multiple,n,!1)}}}var Ia=!1;function Vs(e,n,a){if(Ia)return e(n,a);Ia=!0;try{var o=e(n);return o}finally{if(Ia=!1,(Ms!==null||Di!==null)&&(rc(),Ms&&(n=Ms,e=Di,Di=Ms=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function ci(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ge]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Hn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Dr=!1}var Oi=null,Ho=null,Or=null;function Fo(){if(Or)return Or;var e,n=Ho,a=n.length,o,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Or=h.slice(e,1<o?1-o:void 0)}function Mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function hi(){return!1}function $e(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?es:hi,this.isPropagationStopped=hi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=$e(ns),ks=A({},ns,{view:0,detail:0}),Go=$e(ks),Us,Ca,Vi,Na=A({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Us=e.screenX-Vi.screenX,Ca=e.screenY-Vi.screenY):Ca=Us=0,Vi=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Qo=$e(Na),Vr=A({},Na,{dataTransfer:0}),du=$e(Vr),mu=A({},ks,{relatedTarget:0}),kr=$e(mu),Ko=A({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=$e(Ko),xa=A({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=$e(xa),yu=A({},ns,{data:0}),ki=$e(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Ls(){return Eu}var hn=A({},ks,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=$e(hn),Su=A({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=$e(Su),u=A({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=$e(u),v=A({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=$e(v),L=A({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$e(L),tt=A({},ns,{newState:0,oldState:0}),Ct=$e(tt),Se=[9,13,27,32],Kt=Hn&&"CompositionEvent"in window,de=null;Hn&&"documentMode"in document&&(de=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!de,Ui=Hn&&(!Kt||de&&8<de&&11>=de),fi=" ",di=!1;function Ur(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function U1(e,n){switch(e){case"compositionend":return Da(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return e=n.data,e===fi&&di?null:e;default:return null}}function L1(e,n){if(Oa)return e==="compositionend"||!Kt&&Ur(e,n)?(e=Fo(),Or=Ho=Oi=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P1[e.type]:n==="textarea"}function Ng(e,n,a,o){Ms?Di?Di.push(o):Di=[o]:Ms=o,n=fc(n,"onChange"),0<n.length&&(a=new Mi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Yo=null,Xo=null;function z1(e){h_(e,0)}function Au(e){var n=Nn(e);if(Cr(n))return e}function xg(e,n){if(e==="change")return n}var Dg=!1;if(Hn){var Lh;if(Hn){var Ph="oninput"in document;if(!Ph){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Ph=typeof Og.oninput=="function"}Lh=Ph}else Lh=!1;Dg=Lh&&(!document.documentMode||9<document.documentMode)}function Mg(){Yo&&(Yo.detachEvent("onpropertychange",Vg),Xo=Yo=null)}function Vg(e){if(e.propertyName==="value"&&Au(Xo)){var n=[];Ng(n,Xo,e,qn(e)),Vs(z1,n)}}function j1(e,n,a){e==="focusin"?(Mg(),Yo=n,Xo=a,Yo.attachEvent("onpropertychange",Vg)):e==="focusout"&&Mg()}function B1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Xo)}function q1(e,n){if(e==="click")return Au(n)}function H1(e,n){if(e==="input"||e==="change")return Au(n)}function F1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:F1;function $o(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ue.call(n,h)||!Dn(e[h],n[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=xi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G1=Hn&&"documentMode"in document&&11>=document.documentMode,Ma=null,jh=null,Jo=null,Bh=!1;function zg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||Ma==null||Ma!==xi(o)||(o=Ma,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&$o(Jo,o)||(Jo=o,o=fc(jh,"onSelect"),0<o.length&&(n=new Mi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ma)))}function Lr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Va={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},qh={},jg={};Hn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Pr(e){if(qh[e])return qh[e];if(!Va[e])return e;var n=Va[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jg)return qh[e]=n[a];return e}var Bg=Pr("animationend"),qg=Pr("animationiteration"),Hg=Pr("animationstart"),Q1=Pr("transitionrun"),K1=Pr("transitionstart"),Y1=Pr("transitioncancel"),Fg=Pr("transitionend"),Gg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function mi(e,n){Gg.set(e,n),Ci(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gn=[],ka=0,Fh=0;function Ru(){for(var e=ka,n=Fh=ka=0;n<e;){var a=Gn[n];Gn[n++]=null;var o=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Qg(a,h,f)}}function Iu(e,n,a,o){Gn[ka++]=e,Gn[ka++]=n,Gn[ka++]=a,Gn[ka++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return Iu(e,n,a,o),Cu(e)}function zr(e,n){return Iu(e,null,null,n),Cu(e)}function Qg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Cu(e){if(50<vl)throw vl=0,ed=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ua={};function X1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,n,a,o){return new X1(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ss(e,n){var a=e.alternate;return a===null?(a=On(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=tS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=On(31,a,n,h),e.elementType=I,e.lanes=f,e;case it:return jr(a.children,h,f,n);case Z:p=8,h|=24;break;case gt:return e=On(12,a,n,h|2),e.elementType=gt,e.lanes=f,e;case se:return e=On(13,a,n,h),e.elementType=se,e.lanes=f,e;case Dt:return e=On(19,a,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case Et:p=9;break t;case It:p=11;break t;case N:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=On(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function jr(e,n,a,o){return e=On(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=On(6,e,null,n),e.lanes=a,e}function Yg(e){var n=On(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=On(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xg=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Rs(n)},Xg.set(e,n),n)}return{value:e,source:n,stack:Rs(n)}}var La=[],Pa=0,xu=null,Zo=0,Kn=[],Yn=0,Ps=null,Li=1,Pi="";function rs(e,n){La[Pa++]=Zo,La[Pa++]=xu,xu=e,Zo=n}function $g(e,n,a){Kn[Yn++]=Li,Kn[Yn++]=Pi,Kn[Yn++]=Ps,Ps=e;var o=Li;e=Pi;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Li=1<<32-ge(n)+h|a<<h|o,Pi=f+e}else Li=1<<f|a<<h|o,Pi=e}function Xh(e){e.return!==null&&(rs(e,1),$g(e,1,0))}function $h(e){for(;e===xu;)xu=La[--Pa],La[Pa]=null,Zo=La[--Pa],La[Pa]=null;for(;e===Ps;)Ps=Kn[--Yn],Kn[Yn]=null,Pi=Kn[--Yn],Kn[Yn]=null,Li=Kn[--Yn],Kn[Yn]=null}function Jg(e,n){Kn[Yn++]=Li,Kn[Yn++]=Pi,Kn[Yn++]=Ps,Li=n.id,Pi=n.overflow,Ps=e}var Je=null,ce=null,qt=!1,zs=null,Xn=!1,Jh=Error(r(519));function js(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Qn(n,e)),Jh}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ce]=e,n[Ge]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Vt(El[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ds(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||g_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||js(e,!0)}function Wg(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Je=Je.return}}function za(e){if(e!==Je)return!1;if(!qt)return Wg(e),qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ce&&js(e),Wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ce=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ce=A_(e)}else n===27?(n=ce,tr(e.type)?(e=Ed,Ed=null,ce=e):ce=n):ce=Je?Jn(e.stateNode.nextSibling):null;return!0}function Br(){ce=Je=null,qt=!1}function Zh(){var e=zs;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),zs=null),e}function Wo(e){zs===null?zs=[e]:zs.push(e)}var Wh=O(null),qr=null,as=null;function Bs(e,n,a){et(Wh,n._currentValue),n._currentValue=a}function os(e){e._currentValue=Wh.current,Y(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),tf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;Dn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){qr=e,as=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return tp(qr,e)}function Ou(e,n){return qr===null&&Hr(e),tp(e,n)}function tp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},as===null){if(e===null)throw Error(r(308));as=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else as=as.next=n;return a}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},J1=s.unstable_scheduleCallback,Z1=s.unstable_NormalPriority,De={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new $1,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&J1(Z1,function(){e.controller.abort()})}var el=null,sf=0,Ba=0,qa=null;function W1(e,n){if(el===null){var a=el=[];sf=0,Ba=od(),qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(ep,ep),n}function ep(){if(--sf===0&&el!==null){qa!==null&&(qa.status="fulfilled");var e=el;el=null,Ba=0,qa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=G.S;G.S=function(e,n){zy=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W1(e,n),np!==null&&np(e,n)};var Fr=O(null);function rf(){var e=Fr.current;return e!==null?e:ae.pooledCache}function Mu(e,n){n===null?et(Fr,Fr.current):et(Fr,n.pool)}function ip(){var e=rf();return e===null?null:{parent:De._currentValue,pool:e}}var Ha=Error(r(460)),af=Error(r(474)),Vu=Error(r(542)),ku={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ui,ui),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e;default:if(typeof n.status=="string")n.then(ui,ui);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e}throw Qr=n,Ha}}function Gr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qr=a,Ha):a}}var Qr=null;function ap(){if(Qr===null)throw Error(r(459));var e=Qr;return Qr=null,e}function op(e){if(e===Ha||e===Vu)throw Error(r(483))}var Fa=null,nl=0;function Uu(e){var n=nl;return nl+=1,Fa===null&&(Fa=[]),rp(Fa,e,n)}function il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=ss(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,P,K){return x===null||x.tag!==6?(x=Kh(P,k.mode,K),x.return=k,x):(x=h(x,P),x.return=k,x)}function R(k,x,P,K){var ft=P.type;return ft===it?F(k,x,P.props.children,K,P.key):x!==null&&(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Gr(ft)===x.type)?(x=h(x,P.props),il(x,P),x.return=k,x):(x=Nu(P.type,P.key,P.props,null,k.mode,K),il(x,P),x.return=k,x)}function z(k,x,P,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Yh(P,k.mode,K),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function F(k,x,P,K,ft){return x===null||x.tag!==7?(x=jr(P,k.mode,K,ft),x.return=k,x):(x=h(x,P),x.return=k,x)}function X(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Kh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q:return P=Nu(x.type,x.key,x.props,null,k.mode,P),il(P,x),P.return=k,P;case W:return x=Yh(x,k.mode,P),x.return=k,x;case S:return x=Gr(x),X(k,x,P)}if(Ie(x)||U(x))return x=jr(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return X(k,Uu(x),P);if(x.$$typeof===yt)return X(k,Ou(k,x),P);Lu(k,x)}return null}function j(k,x,P,K){var ft=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:T(k,x,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ft?R(k,x,P,K):null;case W:return P.key===ft?z(k,x,P,K):null;case S:return P=Gr(P),j(k,x,P,K)}if(Ie(P)||U(P))return ft!==null?null:F(k,x,P,K,null);if(typeof P.then=="function")return j(k,x,Uu(P),K);if(P.$$typeof===yt)return j(k,x,Ou(k,P),K);Lu(k,P)}return null}function q(k,x,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(x,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,R(x,k,K,ft);case W:return k=k.get(K.key===null?P:K.key)||null,z(x,k,K,ft);case S:return K=Gr(K),q(k,x,P,K,ft)}if(Ie(K)||U(K))return k=k.get(P)||null,F(x,k,K,ft,null);if(typeof K.then=="function")return q(k,x,P,Uu(K),ft);if(K.$$typeof===yt)return q(k,x,P,Ou(x,K),ft);Lu(x,K)}return null}function ot(k,x,P,K){for(var ft=null,Gt=null,ut=x,xt=x=0,Lt=null;ut!==null&&xt<P.length;xt++){ut.index>xt?(Lt=ut,ut=null):Lt=ut.sibling;var Qt=j(k,ut,P[xt],K);if(Qt===null){ut===null&&(ut=Lt);break}e&&ut&&Qt.alternate===null&&n(k,ut),x=f(Qt,x,xt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt,ut=Lt}if(xt===P.length)return a(k,ut),qt&&rs(k,xt),ft;if(ut===null){for(;xt<P.length;xt++)ut=X(k,P[xt],K),ut!==null&&(x=f(ut,x,xt),Gt===null?ft=ut:Gt.sibling=ut,Gt=ut);return qt&&rs(k,xt),ft}for(ut=o(ut);xt<P.length;xt++)Lt=q(ut,k,xt,P[xt],K),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?xt:Lt.key),x=f(Lt,x,xt),Gt===null?ft=Lt:Gt.sibling=Lt,Gt=Lt);return e&&ut.forEach(function(rr){return n(k,rr)}),qt&&rs(k,xt),ft}function pt(k,x,P,K){if(P==null)throw Error(r(151));for(var ft=null,Gt=null,ut=x,xt=x=0,Lt=null,Qt=P.next();ut!==null&&!Qt.done;xt++,Qt=P.next()){ut.index>xt?(Lt=ut,ut=null):Lt=ut.sibling;var rr=j(k,ut,Qt.value,K);if(rr===null){ut===null&&(ut=Lt);break}e&&ut&&rr.alternate===null&&n(k,ut),x=f(rr,x,xt),Gt===null?ft=rr:Gt.sibling=rr,Gt=rr,ut=Lt}if(Qt.done)return a(k,ut),qt&&rs(k,xt),ft;if(ut===null){for(;!Qt.done;xt++,Qt=P.next())Qt=X(k,Qt.value,K),Qt!==null&&(x=f(Qt,x,xt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt);return qt&&rs(k,xt),ft}for(ut=o(ut);!Qt.done;xt++,Qt=P.next())Qt=q(ut,k,xt,Qt.value,K),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?xt:Qt.key),x=f(Qt,x,xt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt);return e&&ut.forEach(function(hS){return n(k,hS)}),qt&&rs(k,xt),ft}function ie(k,x,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ft=P.key;x!==null;){if(x.key===ft){if(ft=P.type,ft===it){if(x.tag===7){a(k,x.sibling),K=h(x,P.props.children),K.return=k,k=K;break t}}else if(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Gr(ft)===x.type){a(k,x.sibling),K=h(x,P.props),il(K,P),K.return=k,k=K;break t}a(k,x);break}else n(k,x);x=x.sibling}P.type===it?(K=jr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Nu(P.type,P.key,P.props,null,k.mode,K),il(K,P),K.return=k,k=K)}return p(k);case W:t:{for(ft=P.key;x!==null;){if(x.key===ft)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),K=h(x,P.children||[]),K.return=k,k=K;break t}else{a(k,x);break}else n(k,x);x=x.sibling}K=Yh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=Gr(P),ie(k,x,P,K)}if(Ie(P))return ot(k,x,P,K);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),pt(k,x,P,K)}if(typeof P.then=="function")return ie(k,x,Uu(P),K);if(P.$$typeof===yt)return ie(k,x,Ou(k,P),K);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,P),K.return=k,k=K):(a(k,x),K=Kh(P,k.mode,K),K.return=k,k=K),p(k)):a(k,x)}return function(k,x,P,K){try{nl=0;var ft=ie(k,x,P,K);return Fa=null,ft}catch(ut){if(ut===Ha||ut===Vu)throw ut;var Gt=On(29,ut,null,k.mode);return Gt.lanes=K,Gt.return=k,Gt}}}var Kr=lp(!0),up=lp(!1),qs=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Qg(e,null,a),n}return Iu(e,o,n,a),Cu(e)}function sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ft(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function rl(){if(cf){var e=qa;if(e!==null)throw e}}function al(e,n,a,o){cf=!1;var h=e.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,F=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===Ba&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,pt=T;j=n;var ie=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(ie,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(ie,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:qs=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Xs|=p,e.lanes=p,e.memoizedState=X}}function cp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function hp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cp(a[e],n)}var Ga=O(null),Pu=O(0);function fp(e,n){e=ps,et(Pu,e),et(Ga,n),ps=e|n.baseLanes}function hf(){et(Pu,ps),et(Ga,Ga.current)}function ff(){ps=Pu.current,Y(Ga),Y(Pu)}var Mn=O(null),$n=null;function Gs(e){var n=e.alternate;et(Ae,Ae.current&1),et(Mn,e),$n===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&($n=e)}function df(e){et(Ae,Ae.current),et(Mn,e),$n===null&&($n=e)}function dp(e){e.tag===22?(et(Ae,Ae.current),et(Mn,e),$n===null&&($n=e)):Qs()}function Qs(){et(Ae,Ae.current),et(Mn,Mn.current)}function Vn(e){Y(Mn),$n===e&&($n=null),Y(Ae)}var Ae=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Nt=null,ee=null,Oe=null,ju=!1,Qa=!1,Yr=!1,Bu=0,ol=0,Ka=null,eb=0;function ve(){throw Error(r(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dn(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return ls=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?$p:xf,Yr=!1,f=a(o,h),Yr=!1,Qa&&(f=gp(n,a,o,h)),mp(e),f}function mp(e){G.H=cl;var n=ee!==null&&ee.next!==null;if(ls=0,Oe=ee=Nt=null,ju=!1,ol=0,Ka=null,n)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&Du(e)&&(Me=!0))}function gp(e,n,a,o){Nt=e;var h=0;do{if(Qa&&(Ka=null),ol=0,Qa=!1,25<=h)throw Error(r(301));if(h+=1,Oe=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Jp,f=n(a,o)}while(Qa);return f}function nb(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?ll(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),n}function pf(){var e=Bu!==0;return Bu=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ls=0,Oe=ee=Nt=null,Qa=!1,ol=Bu=0,Ka=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function we(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Oe===null?Nt.memoizedState:Oe.next;if(n!==null)Oe=n,ee=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var n=ol;return ol+=1,Ka===null&&(Ka=[]),e=rp(Ka,e,n),n=Nt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?$p:xf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===yt)return Ze(e)}throw Error(r(438,String(e)))}function vf(e){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function us(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=we();return Tf(n,ee,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(ls&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ba&&(F=!0);else if((ls&j)===j){z=z.next,j===Ba&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,p=f):R=R.next=X,Nt.lanes|=j,Xs|=j;X=z.action,Yr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,Nt.lanes|=X,Xs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!Dn(f,e.memoizedState)&&(Me=!0,F&&(a=qa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=we(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Dn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(e,n,a){var o=Nt,h=we(),f=qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Dn((ee||h).memoizedState,a);if(p&&(h.memoizedState=a,Me=!0),h=h.queue,Af(vp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,Ya(9,{destroy:void 0},_p.bind(null,o,h,a,n),null),ae===null)throw Error(r(349));f||(ls&127)!==0||yp(o,n,a)}return a}function yp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=qu(),Nt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _p(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Ep(e)}function vp(e,n,a){return a(function(){Tp(n)&&Ep(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dn(e,a)}catch{return!0}}function Ep(e){var n=zr(e,2);n!==null&&Sn(n,e,2)}function bf(e){var n=fn();if(typeof e=="function"){var a=e;if(e=a(),Yr){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},n}function bp(e,n,a,o){return e.baseState=a,Tf(e,ee,typeof o=="function"?o:us)}function ib(e,n,a,o,h){if(Ku(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=a(h,o),R=G.S;R!==null&&R(p,T),Ap(e,n,T)}catch(z){Sf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,o),Ap(e,n,f)}catch(z){Sf(e,n,z)}}function Ap(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(e,n,o)},function(o){return Sf(e,n,o)}):wp(e,n,a)}function wp(e,n,a){n.status="fulfilled",n.value=a,Rp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sp(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rp(n),n=n.next;while(n!==o)}e.action=null}function Rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function Cp(e,n){if(qt){var a=ae.formState;if(a!==null){t:{var o=Nt;if(qt){if(ce){e:{for(var h=ce,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Jn(h.nextSibling),o=h.data==="F!";break t}}js(o)}o=!1}o&&(n=a[0])}}return a=fn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Kp.bind(null,Nt,o),o.dispatch=a,o=bf(!1),f=Nf.bind(null,Nt,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=ib.bind(null,Nt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Np(e){var n=we();return xp(n,ee,e)}function xp(e,n,a){if(n=Tf(e,n,Ip)[0],e=Fu(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(p){throw p===Ha?Vu:p}else o=n;n=we();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,Ya(9,{destroy:void 0},sb.bind(null,h,a),null)),[o,f,e]}function sb(e,n){e.action=n}function Dp(e){var n=we(),a=ee;if(a!==null)return xp(n,a,e);we(),n=n.memoizedState,a=we();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ya(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=qu(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return we().memoizedState}function Gu(e,n,a,o){var h=fn();Nt.flags|=e,h.memoizedState=Ya(1|n,{destroy:void 0},a,o===void 0?null:o)}function Qu(e,n,a,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&mf(o,ee.memoizedState.deps)?h.memoizedState=Ya(n,f,a,o):(Nt.flags|=e,h.memoizedState=Ya(1|n,f,a,o))}function Mp(e,n){Gu(8390656,8,e,n)}function Af(e,n){Qu(2048,8,e,n)}function rb(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=qu(),Nt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vp(e){var n=we().memoizedState;return rb({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(e,n){return Qu(4,2,e,n)}function Up(e,n){return Qu(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,a){a=a!=null?a.concat([e]):null,Qu(4,4,Lp.bind(null,n,e),a)}function wf(){}function zp(e,n){var a=we();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jp(e,n){var a=we();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Yr){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(ls&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),Nt.lanes|=e,Xs|=e,a)}function Bp(e,n,a,o){return Dn(a,n)?a:Ga.current!==null?(e=Rf(e,a,o),Dn(e,n)||(Me=!0),e):(ls&42)===0||(ls&1073741824)!==0&&(Ut&261930)===0?(Me=!0,e.memoizedState=a):(e=By(),Nt.lanes|=e,Xs|=e,n)}function qp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Nf(e,!1,n,a);try{var R=h(),z=G.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=tb(R,o);ul(e,n,F,Ln(e))}else ul(e,n,o,Ln(e))}catch(X){ul(e,n,{then:function(){},status:"rejected",reason:X},Ln())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function ab(){}function If(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Hp(e).queue;qp(e,h,n,ht,a===null?ab:function(){return Fp(e),a(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Hp(e);n.next===null&&(n=e.alternate.memoizedState),ul(e,n.next.queue,{},Ln())}function Cf(){return Ze(Rl)}function Gp(){return we().memoizedState}function Qp(){return we().memoizedState}function ob(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ln();e=Hs(a);var o=Fs(n,e,a);o!==null&&(Sn(o,n,a),sl(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function lb(e,n,a){var o=Ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Yp(n,a):(a=Gh(e,n,a,o),a!==null&&(Sn(a,e,o),Xp(a,n,o)))}function Kp(e,n,a){var o=Ln();ul(e,n,a,o)}function ul(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,p))return Iu(e,n,h,0),ae===null&&Ru(),!1}catch{}if(a=Gh(e,n,h,o),a!==null)return Sn(a,e,o),Xp(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(r(479))}else n=Gh(e,a,o,2),n!==null&&Sn(n,e,2)}function Ku(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function Yp(e,n){Qa=ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ft(e,a)}}var cl={readContext:Ze,use:Hu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};cl.useEffectEvent=ve;var $p={readContext:Ze,use:Hu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:Mp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=fn();n=n===void 0?null:n;var o=e();if(Yr){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=fn();if(a!==void 0){var h=a(n);if(Yr){gn(!0);try{a(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=lb.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,a=Kp.bind(null,Nt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=fn();return Rf(a,e,n)},useTransition:function(){var e=bf(!1);return e=qp.bind(null,Nt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Nt,h=fn();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ae===null)throw Error(r(349));(Ut&127)!==0||yp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mp(vp.bind(null,o,f,e),[e]),o.flags|=2048,Ya(9,{destroy:void 0},_p.bind(null,o,f,a,n),null),a},useId:function(){var e=fn(),n=ae.identifierPrefix;if(qt){var a=Pi,o=Li;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,Nt,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return fn().memoizedState=ob.bind(null,Nt)},useEffectEvent:function(e){var n=fn(),a={impl:e};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Ze,use:Hu,useCallback:zp,useContext:Ze,useEffect:Af,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Fu,useRef:Op,useState:function(){return Fu(us)},useDebugValue:wf,useDeferredValue:function(e,n){var a=we();return Bp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Fu(us)[0],n=we().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=we();return bp(a,ee,e,n)},useMemoCache:vf,useCacheRefresh:Qp};xf.useEffectEvent=Vp;var Jp={readContext:Ze,use:Hu,useCallback:zp,useContext:Ze,useEffect:Af,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Ef,useRef:Op,useState:function(){return Ef(us)},useDebugValue:wf,useDeferredValue:function(e,n){var a=we();return ee===null?Rf(a,e,n):Bp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Ef(us)[0],n=we().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var a=we();return ee!==null?bp(a,ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Qp};Jp.useEffectEvent=Vp;function Df(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Of={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Ln(),h=Hs(o);h.payload=n,a!=null&&(h.callback=a),n=Fs(e,h,o),n!==null&&(Sn(n,e,o),sl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Ln(),h=Hs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Fs(e,h,o),n!==null&&(Sn(n,e,o),sl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ln(),o=Hs(a);o.tag=2,n!=null&&(o.callback=n),n=Fs(e,o,a),n!==null&&(Sn(n,e,a),sl(n,e,a))}};function Zp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!$o(a,o)||!$o(h,f):!0}function Wp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Xr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){wu(e)}function ey(e){console.error(e)}function ny(e){wu(e)}function Yu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,n)},a}function sy(e){return e=Hs(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){iy(n,a,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function ub(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ja(n,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?ac():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(r(435,a.tag))}return sd(e,o,h),ac(),!1}if(qt)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(r(422),{cause:o}),Wo(Qn(e,a)))):(o!==Jh&&(n=Error(r(423),{cause:o}),Wo(Qn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Qn(o,a),h=Mf(e.stateNode,o,h),uf(e,h),Te!==4&&(Te=2)),!1;var f=Error(r(520),{cause:o});if(f=Qn(f,a),_l===null?_l=[f]:_l.push(f),Te!==4&&(Te=2),n===null)return!0;o=Qn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),Me=!1;function We(e,n,a,o){n.child=e===null?up(n,null,a,o):Kr(n,e.child,a,o)}function ay(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Hr(n),o=gf(e,n,a,p,f,h),T=pf(),e!==null&&!Me?(yf(e,n,h),cs(e,n,h)):(qt&&T&&Xh(n),n.flags|=1,We(e,n,o,h),n.child)}function oy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(e,n,f,o,h)):(e=Nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(p,o)&&e.ref===n.ref)return cs(e,n,h)}return n.flags|=1,e=ss(f,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if($o(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,cs(e,n,h)}return kf(e,n,a,o,h)}function uy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?fp(n,f):hf(),dp(n);else return o=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),fp(n,f),Qs(),n.memoizedState=null):(e!==null&&Mu(n,null),hf(),Qs());return We(e,n,h,a),n.child}function hl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),hf(),dp(n),e!==null&&ja(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return Kr(n,e.child,null,a),e=Xu(n,n.pendingProps),e.flags|=2,Vn(n),n.memoizedState=null,e}function cb(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,hl(null,e);if(df(n),(e=ce)?(e=S_(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ps!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Je=n,ce=null)):e=null,e===null)throw js(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Me||ja(e,n,a,!1),h=(a&e.childLanes)!==0,Me||h){if(o=ae,o!==null&&(p=Si(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(e,p),Sn(o,e,p),Vf;ac(),n=hy(e,n,a)}else e=f.treeContext,ce=Jn(p.nextSibling),Je=n,qt=!0,zs=null,Xn=!1,e!==null&&Jg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=ss(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,o,h){return Hr(n),a=gf(e,n,a,o,void 0,h),o=pf(),e!==null&&!Me?(yf(e,n,h),cs(e,n,h)):(qt&&o&&Xh(n),n.flags|=1,We(e,n,a,h),n.child)}function fy(e,n,a,o,h,f){return Hr(n),n.updateQueue=null,a=gp(n,o,a,h),mp(e),o=pf(),e!==null&&!Me?(yf(e,n,f),cs(e,n,f)):(qt&&o&&Xh(n),n.flags|=1,We(e,n,a,f),n.child)}function dy(e,n,a,o,h){if(Hr(n),n.stateNode===null){var f=Ua,p=a.contextType;typeof p=="object"&&p!==null&&(f=Ze(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Ze(p):Ua,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),al(n,o,f,h),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Xr(a,T);f.props=R;var z=f.context,F=a.contextType;p=Ua,typeof F=="object"&&F!==null&&(p=Ze(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Wp(n,f,o,p),qs=!1;var j=n.memoizedState;f.state=j,al(n,o,f,h),rl(),z=n.memoizedState,T||j!==z||qs?(typeof X=="function"&&(Df(n,a,X,o),z=n.memoizedState),(R=qs||Zp(n,a,R,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,F=Xr(a,p),f.props=F,X=n.pendingProps,j=f.context,z=a.contextType,R=Ua,typeof z=="object"&&z!==null&&(R=Ze(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==R)&&Wp(n,f,o,R),qs=!1,j=n.memoizedState,f.state=j,al(n,o,f,h),rl();var q=n.memoizedState;p!==X||j!==q||qs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(Df(n,a,T,o),q=n.memoizedState),(F=qs||Zp(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Kr(n,e.child,null,h),n.child=Kr(n,null,a,h)):We(e,n,a,h),n.memoizedState=f.state,e=n.child):e=cs(e,n,h),e}function my(e,n,a,o){return Br(),n.flags|=256,We(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:ip()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Un),e}function gy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Gs(n):Qs(),(e=ce)?(e=S_(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ps!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Je=n,ce=null)):e=null,e===null)throw js(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Qs(),h=n.mode,T=Ju({mode:"hidden",children:T},h),o=jr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,hl(null,o)):(Gs(n),zf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=jf(e,n,a)):n.memoizedState!==null?(Qs(),n.child=e.child,n.flags|=128,n=null):(Qs(),T=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),T=jr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Kr(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,n=hl(null,o));else if(Gs(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Wo({value:o,source:null,stack:null}),n=jf(e,n,a)}else if(Me||ja(e,n,a,!1),p=(a&e.childLanes)!==0,Me||p){if(p=ae,p!==null&&(o=Si(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,zr(e,o),Sn(p,e,o),Vf;vd(T)||ac(),n=jf(e,n,a)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ce=Jn(T.nextSibling),Je=n,qt=!0,zs=null,Xn=!1,e!==null&&Jg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Qs(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=ss(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ss(z,T):(T=jr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,hl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ip(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,p,a),n.memoizedState=Uf,hl(e.child,o)):(Gs(n),a=e.child,e=a.sibling,a=ss(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=On(22,e,null,n),e.lanes=0,e}function jf(e,n,a){return Kr(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function Bf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function yy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ae.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,et(Ae,p),We(e,n,o,a),o=qt?Zo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,n);else if(e.tag===19)py(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Xs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ja(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ss(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ss(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function hb(e,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Bs(n,De,e.memoizedState.cache),Br();break;case 27:case 5:ei(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(e,n,a):(Gs(n),e=cs(e,n,a),e!==null?e.sibling:null);Gs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ja(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:Bs(n,De,e.memoizedState.cache)}return cs(e,n,a)}function _y(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!qf(e,a)&&(n.flags&128)===0)return Me=!1,hb(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&$g(n,Zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Gr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Xr(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===It){n.tag=11,n=ay(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=re(e)||e,Error(r(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Xr(o,n.pendingProps),dy(e,n,o,h,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),al(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Bs(n,De,o),o!==f.cache&&ef(n,[De],a,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,a);break t}else if(o!==h){h=Qn(Error(r(424)),n),Wo(h),n=my(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Jn(e.firstChild),Je=n,qt=!0,zs=null,Xn=!0,a=up(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Br(),o===h){n=cs(e,n,a);break t}We(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,o=dc(bt.current).createElement(a),o[Ce]=n,o[Ge]=e,tn(o,a,e),Ne(o),n.stateNode=o):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&qt&&(o=n.stateNode=R_(n.type,n.pendingProps,bt.current),Je=n,Xn=!0,h=ce,tr(n.type)?(Ed=h,ce=Jn(o.firstChild)):ce=h),We(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=ce)&&(o=Bb(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,Je=n,ce=Jn(o.firstChild),Xn=!1,h=!0):h=!1),h||js(n)),ei(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,nb,null,null,a),Rl._currentValue=h),$u(e,n),We(e,n,o,a),n.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=qb(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,Je=n,ce=null,e=!0):e=!1),e||js(n)),null;case 13:return gy(e,n,a);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Kr(n,null,o,a):We(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return We(e,n,n.pendingProps,a),n.child;case 8:return We(e,n,n.pendingProps.children,a),n.child;case 12:return We(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Bs(n,n.type,o.value),We(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Hr(n),h=Ze(h),o=o(h),n.flags|=1,We(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return cb(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return Hr(n),o=Ze(De),e===null?(h=rf(),h===null&&(h=ae,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Bs(n,De,h)):((e.lanes&a)!==0&&(lf(e,n),al(n,null,null,a),rl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,De,o)):(o=f.cache,Bs(n,De,o),o!==h.cache&&ef(n,[De],a,!0))),We(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function hs(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Qr=ku,af}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Qr=ku,af}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ta():536870912,e.lanes|=n,Za|=n)}function fl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function fb(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),os(De),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(za(n)?hs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(hs(n),f!==null?(he(n),vy(n,f)):(he(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(hs(n),he(n),vy(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&hs(n),he(n),Hf(n,h,e,o,a)),null;case 27:if(Ji(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return he(n),null}e=st.current,za(n)?Zg(n):(e=R_(h,o,a),n.stateNode=e,hs(n))}return he(n),null;case 5:if(Ji(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return he(n),null}if(f=st.current,za(n))Zg(n);else{var p=dc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ce]=n,f[Ge]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&hs(n)}}return he(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&hs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,za(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||js(n,!0)}else e=dc(e).createTextNode(o),e[Ce]=n,n.stateNode=e}return he(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=za(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ce]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return he(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=za(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ce]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),he(n),null);case 4:return Wt(),e===null&&hd(n.stateNode.containerInfo),he(n),null;case 10:return os(n.type),he(n),null;case 19:if(Y(Ae),o=n.memoizedState,o===null)return he(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,fl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Kg(a,e),a=a.sibling;return et(Ae,Ae.current&1|2),qt&&rs(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Fe()>ic&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return he(n),null}else 2*Fe()-o.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fe(),e.sibling=null,a=Ae.current,et(Ae,h?a&1|2:a&1),qt&&rs(n,o.treeForkCount),e):(he(n),null);case 22:case 23:return Vn(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Fr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),os(De),he(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function db(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return os(De),Wt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ji(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(r(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return Wt(),null;case 10:return os(n.type),null;case 22:case 23:return Vn(n),ff(),e!==null&&Y(Fr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return os(De),null;case 25:return null;default:return null}}function Ty(e,n){switch($h(n),n.tag){case 3:os(De),Wt();break;case 26:case 27:case 5:Ji(n);break;case 4:Wt();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:Y(Ae);break;case 10:os(n.type);break;case 22:case 23:Vn(n),ff(),e!==null&&Y(Fr);break;case 24:os(De)}}function dl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Zt(n,n.return,T)}}function Ks(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(F){Zt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Zt(n,n.return,F)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hp(n,a)}catch(o){Zt(e,e.return,o)}}}function by(e,n,a){a.props=Xr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,n,o)}}function ml(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,n,h)}}function zi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,n,h)}else a.current=null}function Sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;kb(o,e.type,a,n),o[Ge]=n}catch(h){Zt(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&tr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function Wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&tr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function wy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[Ce]=e,n[Ge]=a}catch(f){Zt(e,e.return,f)}}var fs=!1,Ve=!1,Kf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function mb(e,n){if(e=e.containerInfo,md=Tc,e=Pg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===a&&++z===h&&(T=p),j===f&&++F===o&&(R=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},Tc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Xr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function Iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ms(e,a),o&4&&dl(5,a);break;case 1:if(ms(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Zt(a,a.return,p)}else{var h=Xr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(a,a.return,p)}}o&64&&Ey(a),o&512&&ml(a,a.return);break;case 3:if(ms(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(e,n)}catch(p){Zt(a,a.return,p)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:ms(e,a),n===null&&o&4&&Sy(a),o&512&&ml(a,a.return);break;case 12:ms(e,a);break;case 31:ms(e,a),o&4&&xy(e,a);break;case 13:ms(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Sb.bind(null,a),Hb(e,a))));break;case 22:if(o=a.memoizedState!==null||fs,!o){n=n!==null&&n.memoizedState!==null||Ve,h=fs;var f=Ve;fs=o,(Ve=n)&&!f?gs(e,a,(a.subtreeFlags&8772)!==0):ms(e,a),fs=h,Ve=f}break;case 30:break;default:ms(e,a)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ba(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,vn=!1;function ds(e,n,a){for(a=a.child;a!==null;)Ny(e,n,a),a=a.sibling}function Ny(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(mn,a)}catch{}switch(a.tag){case 26:Ve||zi(a,n),ds(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||zi(a,n);var o=me,h=vn;tr(a.type)&&(me=a.stateNode,vn=!1),ds(e,n,a),Sl(a.stateNode),me=o,vn=h;break;case 5:Ve||zi(a,n);case 6:if(o=me,h=vn,me=null,ds(e,n,a),me=o,vn=h,me!==null)if(vn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{me.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:me!==null&&(vn?(e=me,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ao(e)):E_(me,a.stateNode));break;case 4:o=me,h=vn,me=a.stateNode.containerInfo,vn=!0,ds(e,n,a),me=o,vn=h;break;case 0:case 11:case 14:case 15:Ks(2,a,n),Ve||Ks(4,a,n),ds(e,n,a);break;case 1:Ve||(zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),ds(e,n,a);break;case 21:ds(e,n,a);break;case 22:Ve=(o=Ve)||a.memoizedState!==null,ds(e,n,a),Ve=o;break;default:ds(e,n,a)}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ao(e)}catch(a){Zt(n,n.return,a)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(a){Zt(n,n.return,a)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(r(435,e.tag))}}function tc(e,n){var a=gb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Ab.bind(null,e,o);o.then(h,h)}})}function Tn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(tr(T.type)){me=T.stateNode,vn=!1;break t}break;case 5:me=T.stateNode,vn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,vn=!0;break t}T=T.return}if(me===null)throw Error(r(160));Ny(f,p,h),me=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var gi=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(n,e),En(e),o&4&&(Ks(3,e,e.return),dl(3,e),Ks(5,e,e.return));break;case 1:Tn(n,e),En(e),o&512&&(Ve||a===null||zi(a,a.return)),o&64&&fs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=gi;if(Tn(n,e),En(e),o&512&&(Ve||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[Ce]=e,Ne(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ce]=e,Ne(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,e),En(e),o&512&&(Ve||a===null||zi(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,e),En(e),o&512&&(Ve||a===null||zi(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(ot){Zt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(Tn(n,e),En(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Zt(e,e.return,ot)}}break;case 3:if(pc=null,h=gi,gi=mc(n.containerInfo),Tn(n,e),gi=h,En(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(ot){Zt(e,e.return,ot)}Kf&&(Kf=!1,My(e));break;case 4:o=gi,gi=mc(e.stateNode.containerInfo),Tn(n,e),En(e),gi=o;break;case 12:Tn(n,e),En(e);break;case 31:Tn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:Tn(n,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=Fe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=fs,F=Ve;if(fs=z||h,Ve=F||R,Tn(n,e),Ve=F,fs=z,En(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||fs||Ve||$r(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Zt(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Zt(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?b_(q,!0):b_(R.stateNode,!1)}catch(ot){Zt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,tc(e,a))));break;case 19:Tn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:Tn(n,e),En(e)}}function En(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);Wu(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(_n(p,""),a.flags&=-33);var T=Gf(e);Wu(e,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Gf(e);Qf(e,z,R);break;default:throw Error(r(161))}}catch(F){Zt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ms(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function $r(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),$r(n);break;case 1:zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),$r(n);break;case 27:Sl(n.stateNode);case 26:case 5:zi(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}e=e.sibling}}function gs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,a),dl(4,f);break;case 1:if(gs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)cp(R[h],T)}catch(z){Zt(o,o.return,z)}}a&&p&64&&Ey(f),ml(f,f.return);break;case 27:wy(f);case 26:case 5:gs(h,f,a),a&&o===null&&p&4&&Sy(f),ml(f,f.return);break;case 12:gs(h,f,a);break;case 31:gs(h,f,a),a&&p&4&&xy(h,f);break;case 13:gs(h,f,a),a&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&gs(h,f,a),ml(f,f.return);break;case 30:break;default:gs(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e))}function pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,a,o),h&2048&&dl(9,n);break;case 1:pi(e,n,a,o);break;case 3:pi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){pi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else pi(e,n,a,o);break;case 31:pi(e,n,a,o);break;case 13:pi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,a,o):gl(e,n):f._visibility&2?pi(e,n,a,o):(f._visibility|=2,Xa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:pi(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:pi(e,n,a,o)}}function Xa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Xa(f,p,T,R,h),dl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Xa(f,p,T,R,h):gl(f,p):(F._visibility|=2,Xa(f,p,T,R,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Xa(f,p,T,R,h),h&&z&2048&&Xf(p.alternate,p);break;default:Xa(f,p,T,R,h)}n=n.sibling}}function gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&Yf(o.alternate,o);break;case 24:gl(a,o),h&2048&&Xf(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var pl=8192;function $a(e,n,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:$a(e,n,a),e.flags&pl&&e.memoizedState!==null&&eS(a,gi,e.memoizedState,e.memoizedProps);break;case 5:$a(e,n,a);break;case 3:case 4:var o=gi;gi=mc(e.stateNode.containerInfo),$a(e,n,a),gi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,$a(e,n,a),pl=o):$a(e,n,a));break;default:$a(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Ks(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):yl(e);break;default:yl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Py(e,n){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:Ks(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ke=o;else t:for(a=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(Cy(o),o===a){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var pb={getCacheForType:function(e){var n=Ze(De),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ze(De).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Mt=null,Ut=0,Jt=0,kn=null,Ys=!1,Ja=!1,$f=!1,ps=0,Te=0,Xs=0,Jr=0,Jf=0,Un=0,Za=0,_l=null,bn=null,Zf=!1,nc=0,zy=0,ic=1/0,sc=null,$s=null,ze=0,Js=null,Wa=null,ys=0,Wf=0,td=null,jy=null,vl=0,ed=null;function Ln(){return(Yt&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?od():ru()}function By(){if(Un===0)if((Ut&536870912)===0||qt){var e=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Un=e}else Un=536870912;return e=Mn.current,e!==null&&(e.flags|=32),Un}function Sn(e,n,a){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(to(e,0),Zs(e,Ut,Un,!1)),rt(e,a),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(Jr|=a),Te===4&&Zs(e,Ut,Un,!1)),ji(e))}function qy(e,n,a){if((Yt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Cn(e,n),h=o?Tb(e,n):id(e,n,!0),f=o;do{if(h===0){Ja&&!o&&Zs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!_b(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=_l;var R=T.current.memoizedState.isDehydrated;if(R&&(to(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,Jr|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){to(e,0),Zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,Un,!Ys);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-Fe(),10<h)){if(Zs(o,n,Un,!Ys),In(o,0,!0)!==0)break t;ys=n,o.timeoutHandle=v_(Hy.bind(null,o,a,bn,sc,Zf,n,Un,Jr,Za,Ys,f,"Throttled",-0,0),h);break t}Hy(o,a,bn,sc,Zf,n,Un,Jr,Za,Ys,f,null,-0,0)}}break}while(!0);ji(e)}function Hy(e,n,a,o,h,f,p,T,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},ky(n,f,X);var ot=(f&62914560)===f?nc-Fe():(f&4194048)===f?zy-Fe():0;if(ot=nS(X,ot),ot!==null){ys=f,e.cancelPendingCommit=ot(Jy.bind(null,e,n,f,a,o,h,p,T,R,F,X,null,j,q)),Zs(e,f,p,!z);return}}Jy(e,n,f,a,o,h,p,T,R)}function _b(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(e,n,a,o){n&=~Jf,n&=~Jr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&dt(e,a,n)}function rc(){return(Yt&6)===0?(Tl(0),!1):!0}function nd(){if(Mt!==null){if(Jt===0)var e=Mt.return;else e=Mt,as=qr=null,_f(e),Fa=null,nl=0,e=Mt;for(;e!==null;)Ty(e.alternate,e),e=e.return;Mt=null}}function to(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ys=0,nd(),ae=e,Mt=a=ss(e.current,null),Ut=n,Jt=0,kn=null,Ys=!1,Ja=Cn(e,n),$f=!1,Za=Un=Jf=Jr=Xs=Te=0,bn=_l=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return ps=n,Ru(),a}function Fy(e,n){Nt=null,G.H=cl,n===Ha||n===Vu?(n=ap(),Jt=3):n===af?(n=ap(),Jt=4):Jt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,Mt===null&&(Te=1,Yu(e,Qn(n,e.current)))}function Gy(){var e=Mn.current;return e===null?!0:(Ut&4194048)===Ut?$n===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===$n:!1}function Qy(){var e=G.H;return G.H=cl,e===null?cl:e}function Ky(){var e=G.A;return G.A=pb,e}function ac(){Te=4,Ys||(Ut&4194048)!==Ut&&Mn.current!==null||(Ja=!0),(Xs&134217727)===0&&(Jr&134217727)===0||ae===null||Zs(ae,Ut,Un,!1)}function id(e,n,a){var o=Yt;Yt|=2;var h=Qy(),f=Ky();(ae!==e||Ut!==n)&&(sc=null,to(e,n)),n=!1;var p=Te;t:do try{if(Jt!==0&&Mt!==null){var T=Mt,R=kn;switch(Jt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var z=Jt;if(Jt=0,kn=null,eo(e,T,R,z),a&&Ja){p=0;break t}break;default:z=Jt,Jt=0,kn=null,eo(e,T,R,z)}}vb(),p=Te;break}catch(F){Fy(e,F)}while(!0);return n&&e.shellSuspendCounter++,as=qr=null,Yt=o,G.H=h,G.A=f,Mt===null&&(ae=null,Ut=0,Ru()),p}function vb(){for(;Mt!==null;)Yy(Mt)}function Tb(e,n){var a=Yt;Yt|=2;var o=Qy(),h=Ky();ae!==e||Ut!==n?(sc=null,ic=Fe()+500,to(e,n)):Ja=Cn(e,n);t:do try{if(Jt!==0&&Mt!==null){n=Mt;var f=kn;e:switch(Jt){case 1:Jt=0,kn=null,eo(e,n,f,1);break;case 2:case 9:if(sp(f)){Jt=0,kn=null,Xy(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),ji(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:sp(f)?(Jt=0,kn=null,Xy(n)):(Jt=0,kn=null,eo(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?V_(p):T.stateNode.complete){Jt=0,kn=null;var R=T.sibling;if(R!==null)Mt=R;else{var z=T.return;z!==null?(Mt=z,oc(z)):Mt=null}break e}}Jt=0,kn=null,eo(e,n,f,5);break;case 6:Jt=0,kn=null,eo(e,n,f,6);break;case 8:nd(),Te=6;break t;default:throw Error(r(462))}}Eb();break}catch(F){Fy(e,F)}while(!0);return as=qr=null,G.H=o,G.A=h,Yt=a,Mt!==null?0:(ae=null,Ut=0,Ru(),Te)}function Eb(){for(;Mt!==null&&!ma();)Yy(Mt)}function Yy(e){var n=_y(e.alternate,e,ps);e.memoizedProps=e.pendingProps,n===null?oc(e):Mt=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:_f(n);default:Ty(a,n),n=Mt=Kg(n,ps),n=_y(a,n,ps)}e.memoizedProps=e.pendingProps,n===null?oc(e):Mt=n}function eo(e,n,a,o){as=qr=null,_f(n),Fa=null,nl=0;var h=n.return;try{if(ub(e,h,n,a,Ut)){Te=1,Yu(e,Qn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Te=1,Yu(e,Qn(a,e.current)),Mt=null;return}n.flags&32768?(qt||o===1?e=!0:Ja||(Ut&536870912)!==0?e=!1:(Ys=e=!0,(o===2||o===9||o===3||o===6)&&(o=Mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Ys);return}e=n.return;var a=fb(n.alternate,n,ps);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Te===0&&(Te=5)}function $y(e,n){do{var a=db(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Te=6,Mt=null}function Jy(e,n,a,o,h,f,p,T,R){e.cancelPendingCommit=null;do lc();while(ze!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,lt(e,a,f,p,T,R),e===ae&&(Mt=ae=null,Ut=0),Wa=n,Js=e,ys=a,Wf=f,td=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wb(Xe,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,p=Yt,Yt|=4;try{mb(e,n,a)}finally{Yt=p,nt.p=h,G.T=o}}ze=1,Zy(),Wy(),t_()}}function Zy(){if(ze===1){ze=0;var e=Js,n=Wa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Yt;Yt|=4;try{Oy(n,e);var f=gd,p=Pg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=T.textContent.length,pt=Math.min(R.start,ot),ie=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>ie&&(p=ie,ie=pt,pt=p);var k=Ug(T,pt),x=Ug(T,ie);if(k&&x&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>ie?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!md,gd=md=null}finally{Yt=h,nt.p=o,G.T=a}}e.current=n,ze=2}}function Wy(){if(ze===2){ze=0;var e=Js,n=Wa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Yt;Yt|=4;try{Iy(e,n.alternate,n)}finally{Yt=h,nt.p=o,G.T=a}}ze=3}}function t_(){if(ze===4||ze===3){ze=0,Is();var e=Js,n=Wa,a=ys,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Wa=Js=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&($s=null),ai(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,nt.p=h}}(ys&3)!==0&&lc(),ji(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?vl++:(vl=0,ed=e):vl=0,Tl(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tl(n)))}function lc(){return Zy(),Wy(),t_(),n_()}function n_(){if(ze!==5)return!1;var e=Js,n=Wf;Wf=0;var a=ai(ys),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=td,td=null;var f=Js,p=ys;if(ze=0,Wa=Js=null,ys=0,(Yt&6)!==0)throw Error(r(331));var T=Yt;if(Yt|=4,Ly(f.current),Vy(f,f.current,p,a),Yt=T,Tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(mn,f)}catch{}return!0}finally{nt.p=h,G.T=o,e_(e,n)}}function i_(e,n,a){n=Qn(a,n),n=Mf(e.stateNode,n,2),e=Fs(e,n,2),e!==null&&(rt(e,2),ji(e))}function Zt(e,n,a){if(e.tag===3)i_(e,e,a);else for(;n!==null;){if(n.tag===3){i_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){e=Qn(a,e),a=sy(2),o=Fs(n,a,2),o!==null&&(ry(a,o,n,e),rt(o,2),ji(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new yb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=bb.bind(null,e,n,a),n.then(e,e))}function bb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Ut&a)===a&&(Te===4||Te===3&&(Ut&62914560)===Ut&&300>Fe()-nc?(Yt&2)===0&&to(e,0):Jf|=a,Za===Ut&&(Za=0)),ji(e)}function s_(e,n){n===0&&(n=Ta()),e=zr(e,n),e!==null&&(rt(e,n),ji(e))}function Sb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),s_(e,a)}function Ab(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s_(e,a)}function wb(e,n){return _e(e,n)}var uc=null,no=null,rd=!1,cc=!1,ad=!1,Ws=0;function ji(e){e!==no&&e.next===null&&(no===null?uc=no=e:no=no.next=e),cc=!0,rd||(rd=!0,Ib())}function Tl(e,n){if(!ad&&cc){ad=!0;do for(var a=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=Ut,f=In(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Cn(o,f)||(a=!0,l_(o,f));o=o.next}while(a);ad=!1}}function Rb(){r_()}function r_(){cc=rd=!1;var e=0;Ws!==0&&Lb()&&(e=Ws);for(var n=Fe(),a=null,o=uc;o!==null;){var h=o.next,f=a_(o,n);f===0?(o.next=null,a===null?uc=h:a.next=h,h===null&&(no=a)):(a=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}ze!==0&&ze!==5||Tl(e),Ws!==0&&(Ws=0)}function a_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ge(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=va(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ae,a=Ut,a=In(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Rn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Rn(o),ai(a)){case 2:case 8:a=Rr;break;case 32:a=Xe;break;case 268435456:a=pa;break;default:a=Xe}return o=o_.bind(null,e),a=_e(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Rn(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var o=Ut;return o=In(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),a_(e,Fe()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,n){if(lc())return null;qy(e,n,!0)}function Ib(){zb(function(){(Yt&6)!==0?_e(wr,Rb):r_()})}function od(){if(Ws===0){var e=Ba;e===0&&(e=be,be<<=1,(be&261888)===0&&(be=256)),Ws=e}return Ws}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ra(""+e)}function c_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u_((h[Ge]||null).action),p=o.submitter;p&&(n=(n=p[Ge]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Mi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var R=p?c_(h,p):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?c_(h,p):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],Nb=ud.toLowerCase(),xb=ud[0].toUpperCase()+ud.slice(1);mi(Nb,"on"+xb)}mi(Bg,"onAnimationEnd"),mi(qg,"onAnimationIteration"),mi(Hg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Q1,"onTransitionRun"),mi(K1,"onTransitionStart"),mi(Y1,"onTransitionCancel"),mi(Fg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function h_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[Ea];a===void 0&&(a=n[Ea]=new Set);var o=e+"__bubble";a.has(o)||(f_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),f_(a,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[hc]){e[hc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,cd("selectionchange",!1,n))}}function f_(e,n,a,o){switch(B_(n)){case 2:var h=rS;break;case 8:h=aS;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ri(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Vs(function(){var z=f,F=qn(a),X=[];t:{var j=Gg.get(e);if(j!==void 0){var q=Mi,ot=e;switch(e){case"keypress":if(Mr(a)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":ot="focus",q=kr;break;case"focusout":ot="blur",q=kr;break;case"beforeblur":case"afterblur":q=kr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Bg:case qg:case Hg:q=gu;break;case Fg:q=b;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var x=z,P;x!==null;){var K=x;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ci(x,k),K!=null&&pt.push(bl(x,K,P))),ie)break;x=x.return}0<pt.length&&(j=new q(j,ot,null,a,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==qo&&(ot=a.relatedTarget||a.fromElement)&&(Ri(ot)||ot[Ai]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?Ri(ot):null,ot!==null&&(ie=c(ot),pt=ot.tag,ot!==ie||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Qo,K="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(pt=is,K="onPointerLeave",k="onPointerEnter",x="pointer"),ie=q==null?j:Nn(q),P=ot==null?j:Nn(ot),j=new pt(K,x+"leave",q,a,F),j.target=ie,j.relatedTarget=P,K=null,Ri(F)===z&&(pt=new pt(k,x+"enter",ot,a,F),pt.target=P,pt.relatedTarget=ie,K=pt),ie=K,q&&ot)e:{for(pt=Ob,k=q,x=ot,P=0,K=k;K;K=pt(K))P++;K=0;for(var ft=x;ft;ft=pt(ft))K++;for(;0<P-K;)k=pt(k),P--;for(;0<K-P;)x=pt(x),K--;for(;P--;){if(k===x||x!==null&&k===x.alternate){pt=k;break e}k=pt(k),x=pt(x)}pt=null}else pt=null;q!==null&&d_(X,j,q,pt,!1),ot!==null&&ie!==null&&d_(X,ie,ot,pt,!0)}}t:{if(j=z?Nn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=xg;else if(Cg(j))if(Dg)Gt=H1;else{Gt=B1;var ut=j1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&wa(z.elementType)&&(Gt=xg):Gt=q1;if(Gt&&(Gt=Gt(e,z))){Ng(X,Gt,a,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&zo(j,"number",j.value)}switch(ut=z?Nn(z):window,e){case"focusin":(Cg(ut)||ut.contentEditable==="true")&&(Ma=ut,jh=z,Jo=null);break;case"focusout":Jo=jh=Ma=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,zg(X,a,F);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":zg(X,a,F)}var xt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Oa?Ur(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ui&&a.locale!=="ko"&&(Oa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Oa&&(xt=Fo()):(Oi=F,Ho="value"in Oi?Oi.value:Oi.textContent,Oa=!0)),ut=fc(z,Lt),0<ut.length&&(Lt=new ki(Lt,e,null,a,F),X.push({event:Lt,listeners:ut}),xt?Lt.data=xt:(xt=Da(a),xt!==null&&(Lt.data=xt)))),(xt=Fn?U1(e,a):L1(e,a))&&(Lt=fc(z,"onBeforeInput"),0<Lt.length&&(ut=new ki("onBeforeInput","beforeinput",null,a,F),X.push({event:ut,listeners:Lt}),ut.data=xt)),Cb(X,e,z,a,F)}h_(X,n)})}function bl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(e,a),h!=null&&o.unshift(bl(e,h,f)),h=ci(e,n),h!=null&&o.push(bl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=ci(a,f),z!=null&&p.unshift(bl(a,z,R))):h||(z=ci(a,f),z!=null&&p.push(bl(a,z,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var Mb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Vb,"")}function g_(e,n){return n=m_(n),m_(e)===n}function ne(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":xn(e,"class",o);break;case"tabIndex":xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,a,o);break;case"style":Bo(e,o,f);break;case"data":if(n!=="object"){xn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ra(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ra(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ui);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Sa(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,Sa(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":Bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ge]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Sa(e,a,o)}}}function tn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,f,p,a,null)}}h&&ne(e,n,"srcSet",a.srcSet,a,null),o&&ne(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ne(e,n,o,F,a,null)}}uu(e,f,T,R,z,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ne(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?xs(e,!!o,n,!1):a!=null&&xs(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ne(e,n,p,T,a,null)}Ds(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)Vt(El[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,z,o,a,null)}return;default:if(wa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&dd(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ne(e,n,T,o,a,null))}function kb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=a[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&ne(e,n,j,q,o,X)}}Aa(e,p,T,R,z,F,f,h);return;case"select":q=p=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ne(e,n,h,f,o,R)}n=T,a=p,o=q,j!=null?xs(e,!!a,j,!1):!!o!=!!a&&(n!=null?xs(e,!!a,n,!0):xs(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ne(e,n,p,h,o,f)}cu(e,j,q);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ne(e,n,ot,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:ne(e,n,z,j,o,q)}return;default:if(wa(n)){for(var ie in a)j=a[ie],a.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&dd(e,n,ie,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||dd(e,n,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,j);for(X in o)j=o[X],q=a[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||ne(e,n,X,j,o,q)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&p_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>T)break;var F=R.transferSize,X=R.initiatorType;F&&p_(X)&&(R=R.responseEnd,p+=F*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function Lb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(jb)}:v_;function jb(e){setTimeout(function(){throw e})}function tr(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ao(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Sl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Sl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Sl(e.ownerDocument.body);a=h}while(a);ao(n)}function b_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Bb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[wi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Jn(e.nextSibling),e===null)break}return null}function qb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jn(e.nextSibling),e===null))return null;return e}function S_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Jn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R_(e,n,a){switch(n=dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ba(e)}var Zn=new Map,I_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _s=nt.d;nt.d={f:Fb,r:Gb,D:Qb,C:Kb,L:Yb,m:Xb,X:Jb,S:$b,M:Zb};function Fb(){var e=_s.f(),n=rc();return e||n}function Gb(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):_s.r(e)}var io=typeof document>"u"?null:document;function C_(e,n,a){var o=io;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Qb(e){_s.D(e),C_("dns-prefetch",e,null)}function Kb(e,n){_s.C(e,n),C_("preconnect",e,n)}function Yb(e,n,a){_s.L(e,n,a);var o=io;if(o&&e&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(e)+'"]';var f=h;switch(n){case"style":f=so(e);break;case"script":f=ro(e)}Zn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Al(f))||n==="script"&&o.querySelector(wl(f))||(n=o.createElement("link"),tn(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Xb(e,n){_s.m(e,n);var a=io;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ro(e)}if(!Zn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(f)))return}o=a.createElement("link"),tn(o,"link",e),Ne(o),a.head.appendChild(o)}}}function $b(e,n,a){_s.S(e,n,a);var o=io;if(o&&e){var h=Ii(o).hoistableStyles,f=so(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(Al(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Zn.get(f))&&bd(e,a);var R=p=o.createElement("link");Ne(R),tn(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Jb(e,n){_s.X(e,n);var a=io;if(a&&e){var o=Ii(a).hoistableScripts,h=ro(e),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(e=A({src:e,async:!0},n),(n=Zn.get(h))&&Sd(e,n),f=a.createElement("script"),Ne(f),tn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zb(e,n){_s.M(e,n);var a=io;if(a&&e){var o=Ii(a).hoistableScripts,h=ro(e),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Zn.get(h))&&Sd(e,n),f=a.createElement("script"),Ne(f),tn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(e,n,a,o){var h=(h=bt.current)?mc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=so(a.href),a=Ii(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=so(a.href);var f=Ii(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Al(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(e,a),f||Wb(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ro(a),a=Ii(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function so(e){return'href="'+yn(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),Ne(n),e.head.appendChild(n))}function ro(e){return'[src="'+yn(e)+'"]'}function wl(e){return"script[async]"+e}function D_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),tn(o,"style",h),gc(o,a.precedence,e),n.instance=o;case"stylesheet":h=so(a.href);var f=e.querySelector(Al(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=x_(a),(h=Zn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),tn(f,"link",o),n.state.loading|=4,gc(f,a.precedence,e),n.instance=f;case"script":return f=ro(a.src),(h=e.querySelector(wl(f)))?(n.instance=h,Ne(h),h):(o=a,(h=Zn.get(f))&&(o=A({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),tn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,a.precedence,e));return n.instance}function gc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function O_(e,n,a){if(pc===null){var o=new Map,h=pc=new Map;h.set(a,o)}else h=pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[wi]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function M_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=so(o.href),f=n.querySelector(Al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ne(f);return}f=n.ownerDocument||n,o=x_(o),(h=Zn.get(h))&&bd(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),tn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function nS(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*Ub());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(iS,e),_c=null,yc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var o=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Rl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sS(e,n,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H(0),this.hiddenUpdates=H(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function k_(e,n,a,o,h,f,p,T,R,z,F,X){return e=new sS(e,n,a,p,R,z,F,X,T),n=1,f===!0&&(n|=24),f=On(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function U_(e){return e?(e=Ua,e):Ua}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Fs(e,o,n),a!==null&&(Sn(a,e,n),sl(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=zr(e,67108864);n!==null&&Sn(n,e,67108864),wd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var n=Ln();n=ts(n);var a=zr(e,n);a!==null&&Sn(a,e,n),wd(e,n)}}var Tc=!0;function rS(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Rd(e,n,a,o)}finally{nt.p=f,G.T=h}}function aS(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Rd(e,n,a,o)}finally{nt.p=f,G.T=h}}function Rd(e,n,a,o){if(Tc){var h=Id(o);if(h===null)fd(e,n,o,Ec,a),q_(e,o);else if(lS(h,e,n,a,o))o.stopPropagation();else if(q_(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-ge(p);T.entanglements[1]|=R,p&=~R}ji(f),(Yt&6)===0&&(ic=Fe()+500,Tl(0))}}break;case 31:case 13:T=zr(f,2),T!==null&&Sn(T,f,2),rc(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=qn(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=Ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case wr:return 2;case Rr:return 8;case Xe:case ga:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Nd=!1,er=null,nr=null,ir=null,Il=new Map,Cl=new Map,sr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Nl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,a,o,h){switch(n){case"focusin":return er=Nl(er,e,n,a,o,h),!0;case"dragenter":return nr=Nl(nr,e,n,a,o,h),!0;case"mouseover":return ir=Nl(ir,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Nl(Il.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Nl(Cl.get(f)||null,e,n,a,o,h)),!0}return!1}function H_(e){var n=Ri(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,oi(e.priority,function(){j_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,oi(e.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);qo=o,a.target.dispatchEvent(o),qo=null}else return n=Bn(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){bc(e)&&a.delete(n)}function uS(){Nd=!1,er!==null&&bc(er)&&(er=null),nr!==null&&bc(nr)&&(nr=null),ir!==null&&bc(ir)&&(ir=null),Il.forEach(F_),Cl.forEach(F_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uS)))}var Ac=null;function G_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=Bn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ao(e){function n(R){return Sc(R,e)}er!==null&&Sc(er,e),nr!==null&&Sc(nr,e),ir!==null&&Sc(ir,e),Il.forEach(n),Cl.forEach(n);for(var a=0;a<sr.length;a++){var o=sr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&sr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ge]||null;if(typeof f=="function")p||G_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ge]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),G_(a)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}wc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Ln();L_(a,o,e,n,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),rc(),n[Ai]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var a=0;a<sr.length&&n!==0&&n<sr[a].priority;a++);sr.splice(a,0,e),a===0&&H_(e)}};var K_=t.version;if(K_!=="19.2.3")throw Error(r(527,K_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{mn=Rc.inject(cS),Pe=Rc}catch{}}return Dl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ty,f=ey,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(e,1,!1,null,null,a,o,null,h,f,p,Q_),e[Ai]=n.current,hd(e),new xd(n)},Dl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ty,p=ey,T=ny,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=k_(e,1,!0,n,a??null,o,h,R,f,p,T,Q_),n.context=U_(null),a=n.current,o=Ln(),o=ts(o),h=Hs(o),h.callback=null,Fs(a,h,o),a=o,n.current.lanes=a,rt(n,a),ji(n),e[Ai]=n.current,hd(e),new wc(n)},Dl.version="19.2.3",Dl}var iv;function TS(){if(iv)return Md.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=vS(),Md.exports}var ES=TS();const bS=()=>{};var sv={};const F0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),r.push(i[E],i[A],i[M],i[Q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(F0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):SS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new AS;const M=c<<2|g>>4;if(r.push(M),y!==64){const Q=g<<4&240|y>>2;if(r.push(Q),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(s){const t=F0(s);return G0.encodeByteArray(t,!0)},Fc=function(s){return wS(s).replace(/\./g,"")},Q0=function(s){try{return G0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IS=()=>RS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof sv>"u")return;const s=sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Q0(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return bS()||IS()||CS()||NS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K0=s=>fh()?.emulatorHosts?.[s],xS=s=>{const t=K0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Y0=()=>fh()?.config,X0=s=>fh()?.[`_${s}`];class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(s){return(await fetch(s,{credentials:"include"})).ok}function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Ul={};function MS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function VS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let rv=!1;function J0(s,t){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Ul[s]===t||Ul[s]||rv)return;Ul[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=MS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{rv=!0,d()},M}function E(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=VS(r),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),gt=i("preprendIcon"),Et=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),E(Z,it);const It=y();_(Et,gt),yt.append(Et,W,Z,It),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function US(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function BS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qS="FirebaseError";class bi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qS,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new bi(l,g,r)}}function HS(s,t){return s.replace(FS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const FS=/\{\$([^}]+)}/g;function GS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function pr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(av(c)&&av(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function $l(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function QS(s,t){const i=new KS(s,t);return i.subscribe.bind(i)}class KS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}const XS=1e3,$S=2,JS=14400*1e3,ZS=.5;function ov(s,t=XS,i=$S){const r=t*Math.pow(i,s),l=Math.round(ZS*r*(Math.random()-.5)*2);return Math.min(JS,r+l)}function Le(s){return s&&s._delegate?s._delegate:s}class Ei{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new DS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(s){return s===Zr?void 0:s}function eA(s){return s.instantiationMode==="EAGER"}class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const iA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},sA=Pt.INFO,rA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},aA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=rA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dh{constructor(t){this.name=t,this._logLevel=sA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const oA=(s,t)=>t.some(i=>s instanceof i);let lv,uv;function lA(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,tm=new WeakMap,nT=new WeakMap,Pd=new WeakMap,Dm=new WeakMap;function cA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eT.set(i,s)}).catch(()=>{}),Dm.set(t,s),t}function hA(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function fA(s){em=s(em)}function dA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(zd(this),t,...i);return nT.set(r,t.sort?t.sort():[t]),hr(r)}:uA().includes(s)?function(...t){return s.apply(zd(this),t),hr(eT.get(this))}:function(...t){return hr(s.apply(zd(this),t))}}function mA(s){return typeof s=="function"?dA(s):(s instanceof IDBTransaction&&hA(s),oA(s,lA())?new Proxy(s,em):s)}function hr(s){if(s instanceof IDBRequest)return cA(s);if(Pd.has(s))return Pd.get(s);const t=mA(s);return t!==s&&(Pd.set(s,t),Dm.set(t,s)),t}const zd=s=>Dm.get(s);function iT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=hr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],jd=new Map;function cv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return jd.set(t,c),c}fA(s=>({...s,get:(t,i,r)=>cv(t,i)||s.get(t,i,r),has:(t,i)=>!!cv(t,i)||s.has(t,i)}));class yA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_A(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _A(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",hv="0.14.6";const bs=new dh("@firebase/app"),vA="@firebase/app-compat",TA="@firebase/analytics-compat",EA="@firebase/analytics",bA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",wA="@firebase/auth-compat",RA="@firebase/database",IA="@firebase/data-connect",CA="@firebase/database-compat",NA="@firebase/functions",xA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",MA="@firebase/messaging",VA="@firebase/messaging-compat",kA="@firebase/performance",UA="@firebase/performance-compat",LA="@firebase/remote-config",PA="@firebase/remote-config-compat",zA="@firebase/storage",jA="@firebase/storage-compat",BA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",FA="firebase",GA="12.6.0";const im="[DEFAULT]",QA={[nm]:"fire-core",[vA]:"fire-core-compat",[EA]:"fire-analytics",[TA]:"fire-analytics-compat",[SA]:"fire-app-check",[bA]:"fire-app-check-compat",[AA]:"fire-auth",[wA]:"fire-auth-compat",[RA]:"fire-rtdb",[IA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[NA]:"fire-fn",[xA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[MA]:"fire-fcm",[VA]:"fire-fcm-compat",[kA]:"fire-perf",[UA]:"fire-perf-compat",[LA]:"fire-rc",[PA]:"fire-rc-compat",[zA]:"fire-gcs",[jA]:"fire-gcs-compat",[BA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};const Gc=new Map,KA=new Map,sm=new Map;function fv(s,t){try{s.container.addComponent(t)}catch(i){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ki(s){const t=s.name;if(sm.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Gc.values())fv(i,s);for(const i of KA.values())fv(i,s);return!0}function ha(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function yi(s){return s==null?!1:s.settings!==void 0}const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ca("app","Firebase",YA);class XA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Io=GA;function sT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:im,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw fr.create("no-options");const c=Gc.get(l);if(c){if(pr(i,c.options)&&pr(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new nA(l);for(const _ of sm.values())d.addComponent(_);const g=new XA(i,r,d);return Gc.set(l,g),g}function Om(s=im){const t=Gc.get(s);if(!t&&s===im&&Y0())return sT();if(!t)throw fr.create("no-app",{appName:s});return t}function ti(s,t,i){let r=QA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}Ki(new Ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const $A="firebase-heartbeat-database",JA=1,ql="firebase-heartbeat-store";let Bd=null;function rT(){return Bd||(Bd=iT($A,JA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function ZA(s){try{const i=(await rT()).transaction(ql),r=await i.objectStore(ql).get(aT(s));return await i.done,r}catch(t){if(t instanceof bi)bs.warn(t.message);else{const i=fr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(i.message)}}}async function dv(s,t){try{const r=(await rT()).transaction(ql,"readwrite");await r.objectStore(ql).put(t,aT(s)),await r.done}catch(i){if(i instanceof bi)bs.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});bs.warn(r.message)}}}function aT(s){return`${s.name}!${s.options.appId}`}const WA=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bs.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function nw(s,t=WA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function gv(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function rw(s){Ki(new Ei("platform-logger",t=>new yA(t),"PRIVATE")),Ki(new Ei("heartbeat",t=>new ew(t),"PRIVATE")),ti(nm,hv,s),ti(nm,hv,"esm2020"),ti("fire-js","")}rw("");var aw="firebase",ow="12.7.0";ti(aw,ow,"app");const oT="@firebase/installations",Mm="0.6.19";const lT=1e4,uT=`w:${Mm}`,cT="FIS_v2",lw="https://firebaseinstallations.googleapis.com/v1",uw=3600*1e3,cw="installations",hw="Installations";const fw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new ca(cw,hw,fw);function hT(s){return s instanceof bi&&s.code.includes("request-failed")}function fT({projectId:s}){return`${lw}/projects/${s}/installations`}function dT(s){return{token:s.token,requestStatus:2,expiresIn:mw(s.expiresIn),creationTime:Date.now()}}async function mT(s,t){const r=(await t.json()).error;return ra.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function dw(s,{refreshToken:t}){const i=gT(s);return i.append("Authorization",gw(t)),i}async function pT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function mw(s){return Number(s.replace("s","000"))}function gw(s){return`${cT} ${s}`}async function pw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=fT(s),l=gT(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:cT,appId:s.appId,sdkVersion:uT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:dT(y.authToken)}}else throw await mT("Create Installation",_)}function yT(s){return new Promise(t=>{setTimeout(t,s)})}function yw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const _w=/^[cdef][\w-]{21}$/,rm="";function vw(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Tw(s);return _w.test(i)?i:rm}catch{return rm}}function Tw(s){return yw(s).substr(0,22)}function mh(s){return`${s.appName}!${s.appId}`}const _T=new Map;function vT(s,t){const i=mh(s);TT(i,t),Ew(i,t)}function TT(s,t){const i=_T.get(s);if(i)for(const r of i)r(t)}function Ew(s,t){const i=bw();i&&i.postMessage({key:s,fid:t}),Sw()}let Wr=null;function bw(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=s=>{TT(s.data.key,s.data.fid)}),Wr}function Sw(){_T.size===0&&Wr&&(Wr.close(),Wr=null)}const Aw="firebase-installations-database",ww=1,aa="firebase-installations-store";let qd=null;function Vm(){return qd||(qd=iT(Aw,ww,{upgrade:(s,t)=>{t===0&&s.createObjectStore(aa)}})),qd}async function Qc(s,t){const i=mh(s),l=(await Vm()).transaction(aa,"readwrite"),c=l.objectStore(aa),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&vT(s,t.fid),t}async function ET(s){const t=mh(s),r=(await Vm()).transaction(aa,"readwrite");await r.objectStore(aa).delete(t),await r.done}async function gh(s,t){const i=mh(s),l=(await Vm()).transaction(aa,"readwrite"),c=l.objectStore(aa),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&vT(s,g.fid),g}async function km(s){let t;const i=await gh(s.appConfig,r=>{const l=Rw(r),c=Iw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===rm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Rw(s){const t=s||{fid:vw(),registrationStatus:0};return bT(t)}function Iw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ra.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Cw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Nw(s)}:{installationEntry:t}}async function Cw(s,t){try{const i=await pw(s,t);return Qc(s.appConfig,i)}catch(i){throw hT(i)&&i.customData.serverCode===409?await ET(s.appConfig):await Qc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Nw(s){let t=await pv(s.appConfig);for(;t.registrationStatus===1;)await yT(100),t=await pv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await km(s);return r||i}return t}function pv(s){return gh(s,t=>{if(!t)throw ra.create("installation-not-found");return bT(t)})}function bT(s){return xw(s)?{fid:s.fid,registrationStatus:0}:s}function xw(s){return s.registrationStatus===1&&s.registrationTime+lT<Date.now()}async function Dw({appConfig:s,heartbeatServiceProvider:t},i){const r=Ow(s,i),l=dw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:uT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return dT(y)}else throw await mT("Generate Auth Token",_)}function Ow(s,{fid:t}){return`${fT(s)}/${t}/authTokens:generate`}async function Um(s,t=!1){let i;const r=await gh(s.appConfig,c=>{if(!ST(c))throw ra.create("not-registered");const d=c.authToken;if(!t&&kw(d))return c;if(d.requestStatus===1)return i=Mw(s,t),c;{if(!navigator.onLine)throw ra.create("app-offline");const g=Lw(c);return i=Vw(s,g),g}});return i?await i:r.authToken}async function Mw(s,t){let i=await yv(s.appConfig);for(;i.authToken.requestStatus===1;)await yT(100),i=await yv(s.appConfig);const r=i.authToken;return r.requestStatus===0?Um(s,t):r}function yv(s){return gh(s,t=>{if(!ST(t))throw ra.create("not-registered");const i=t.authToken;return Pw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Vw(s,t){try{const i=await Dw(s,t),r={...t,authToken:i};return await Qc(s.appConfig,r),i}catch(i){if(hT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await ET(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Qc(s.appConfig,r)}throw i}}function ST(s){return s!==void 0&&s.registrationStatus===2}function kw(s){return s.requestStatus===2&&!Uw(s)}function Uw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+uw}function Lw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function Pw(s){return s.requestStatus===1&&s.requestTime+lT<Date.now()}async function zw(s){const t=s,{installationEntry:i,registrationPromise:r}=await km(t);return r?r.catch(console.error):Um(t).catch(console.error),i.fid}async function jw(s,t=!1){const i=s;return await Bw(i),(await Um(i,t)).token}async function Bw(s){const{registrationPromise:t}=await km(s);t&&await t}function qw(s){if(!s||!s.options)throw Hd("App Configuration");if(!s.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Hd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Hd(s){return ra.create("missing-app-config-values",{valueName:s})}const AT="installations",Hw="installations-internal",Fw=s=>{const t=s.getProvider("app").getImmediate(),i=qw(t),r=ha(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gw=s=>{const t=s.getProvider("app").getImmediate(),i=ha(t,AT).getImmediate();return{getId:()=>zw(i),getToken:l=>jw(i,l)}};function Qw(){Ki(new Ei(AT,Fw,"PUBLIC")),Ki(new Ei(Hw,Gw,"PRIVATE"))}Qw();ti(oT,Mm);ti(oT,Mm,"esm2020");const Kc="analytics",Kw="firebase_id",Yw="origin",Xw=60*1e3,$w="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";const dn=new dh("@firebase/analytics");const Jw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new ca("analytics","Analytics",Jw);function Zw(s){if(!s.startsWith(Lm)){const t=zn.create("invalid-gtag-resource",{gtagURL:s});return dn.warn(t.message),""}return s}function wT(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function Ww(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function t2(s,t){const i=Ww("firebase-js-sdk-policy",{createScriptURL:Zw}),r=document.createElement("script"),l=`${Lm}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function e2(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function n2(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await wT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){dn.error(g)}s("config",l,c)}async function i2(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await wT(i);for(const _ of d){const y=g.find(A=>A.measurementId===_),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){dn.error(c)}}function s2(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await i2(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await n2(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){dn.error(g)}}return l}function r2(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=s2(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function a2(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Lm)&&i.src.includes(s))return i;return null}const o2=30,l2=1e3;class u2{constructor(t={},i=l2){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RT=new u2;function c2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function h2(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:c2(i)},l=$w.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function f2(s,t=RT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw zn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw zn.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new g2;return setTimeout(async()=>{g.abort()},Xw),IT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function IT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=RT){const{appId:c,measurementId:d}=s;try{await d2(r,t)}catch(g){if(d)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await h2(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!m2(_)){if(l.deleteThrottleMetadata(c),d)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?ov(i,l.intervalMillis,o2):ov(i,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,E),dn.debug(`Calling attemptFetch again in ${y} millis`),IT(s,E,r,l)}}function d2(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(zn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function m2(s){if(!(s instanceof bi)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class g2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function p2(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function y2(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function _2(){if(W0())try{await tT()}catch(s){return dn.warn(zn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return dn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v2(s,t,i,r,l,c,d){const g=f2(s);g.then(M=>{i[M.measurementId]=M.appId,s.options.measurementId&&M.measurementId!==s.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>dn.error(M)),t.push(g);const _=_2().then(M=>{if(M)return r.getId()}),[y,E]=await Promise.all([g,_]);a2(c)||t2(c,y.measurementId),l("js",new Date);const A=d?.config??{};return A[Yw]="firebase",A.update=!0,E!=null&&(A[Kw]=E),l("config",y.measurementId,A),y.measurementId}class T2{constructor(t){this.app=t}_delete(){return delete ho[this.app.options.appId],Promise.resolve()}}let ho={},_v=[];const vv={};let Fd="dataLayer",E2="gtag",Tv,Pm,Ev=!1;function b2(){const s=[];if(Z0()&&s.push("This is a browser extension environment."),BS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=zn.create("invalid-analytics-context",{errorInfo:t});dn.warn(i.message)}}function S2(s,t,i){b2();const r=s.options.appId;if(!r)throw zn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(ho[r]!=null)throw zn.create("already-exists",{id:r});if(!Ev){e2(Fd);const{wrappedGtag:c,gtagCore:d}=r2(ho,_v,vv,Fd,E2);Pm=c,Tv=d,Ev=!0}return ho[r]=v2(s,_v,vv,t,Tv,Fd,i),new T2(s)}function A2(s=Om()){s=Le(s);const t=ha(s,Kc);return t.isInitialized()?t.getImmediate():w2(s)}function w2(s,t={}){const i=ha(s,Kc);if(i.isInitialized()){const l=i.getImmediate();if(pr(t,i.getOptions()))return l;throw zn.create("already-initialized")}return i.initialize({options:t})}function R2(s,t,i){s=Le(s),y2(Pm,ho[s.app.options.appId],t,i).catch(r=>dn.error(r))}function I2(s,t,i,r){s=Le(s),p2(Pm,ho[s.app.options.appId],t,i,r).catch(l=>dn.error(l))}const bv="@firebase/analytics",Sv="0.10.19";function C2(){Ki(new Ei(Kc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return S2(r,l,i)},"PUBLIC")),Ki(new Ei("analytics-internal",s,"PRIVATE")),ti(bv,Sv),ti(bv,Sv,"esm2020");function s(t){try{const i=t.getProvider(Kc).getImmediate();return{logEvent:(r,l,c)=>I2(i,r,l,c),setUserProperties:(r,l)=>R2(i,r,l)}}catch(i){throw zn.create("interop-component-reg-failed",{reason:i})}}}C2();function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=CT,NT=new ca("auth","Firebase",CT());const Yc=new dh("@firebase/auth");function x2(s,...t){Yc.logLevel<=Pt.WARN&&Yc.warn(`Auth (${Io}): ${s}`,...t)}function Vc(s,...t){Yc.logLevel<=Pt.ERROR&&Yc.error(`Auth (${Io}): ${s}`,...t)}function Yi(s,...t){throw jm(s,...t)}function vi(s,...t){return jm(s,...t)}function zm(s,t,i){const r={...N2(),[t]:i};return new ca("auth","Firebase",r).create(t,{appName:s.name})}function na(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Yi(s,"argument-error"),zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return NT.create(s,...t)}function St(s,t,...i){if(!s)throw jm(t,...i)}function Ts(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function Ss(s,t){s||Ts(t)}function am(){return typeof self<"u"&&self.location?.href||""}function O2(){return Av()==="http:"||Av()==="https:"}function Av(){return typeof self<"u"&&self.location?.protocol||null}function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||Z0()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ss(i>t,"Short delay should be less than long delay!"),this.isMobile=kS()||PS()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,t){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class xT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Jl(3e4,6e4);function qm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Co(s,t,i,r,l={}){return DT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=$l({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return LS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(y.credentials="include"),xT.fetch()(await OT(s,s.config.apiHost,i,g),y)})}async function DT(s,t,i){s._canInitEmulator=!1;const r={...k2,...t};try{const l=new z2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",d);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,E,y);Yi(s,E)}}catch(l){if(l instanceof bi)throw l;Yi(s,"network-request-failed",{message:String(l)})}}async function P2(s,t,i,r,l={}){const c=await Co(s,t,i,r,l);return"mfaPendingCredential"in c&&Yi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function OT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return U2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),L2.get())})}}function Ic(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=vi(s,t,r);return l.customData._tokenResponse=i,l}async function j2(s,t){return Co(s,"POST","/v1/accounts:delete",t)}async function Xc(s,t){return Co(s,"POST","/v1/accounts:lookup",t)}function Ll(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function B2(s,t=!1){const i=Le(s),r=await i.getIdToken(t),l=Hm(r);St(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ll(Gd(l.auth_time)),issuedAtTime:Ll(Gd(l.iat)),expirationTime:Ll(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Hm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Q0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(s){const t=Hm(s);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof bi&&q2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function q2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class H2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const t=s.auth,i=await s.getIdToken(),r=await Hl(s,Xc(t,{idToken:i}));St(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?MT(l.providerUserInfo):[],d=G2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function F2(s){const t=Le(s);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function G2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function MT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Q2(s,t){const i=await DT(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await OT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(_.credentials="include"),xT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(s,t){return Co(s,"POST","/v2/accounts:revokeToken",qm(s,t))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Q2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new fo;return r&&(St(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(St(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(St(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function ar(s,t){St(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class _i{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return B2(this,t)}reload(){return F2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new _i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(na(this.auth));const t=await this.getIdToken();return await Hl(this,j2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:W,stsTokenManager:it}=i;St(A&&it,t,"internal-error");const Z=fo.fromJSON(this.name,it);St(typeof A=="string",t,"internal-error"),ar(r,t.name),ar(l,t.name),St(typeof M=="boolean",t,"internal-error"),St(typeof Q=="boolean",t,"internal-error"),ar(c,t.name),ar(d,t.name),ar(g,t.name),ar(_,t.name),ar(y,t.name),ar(E,t.name);const gt=new _i({uid:A,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(gt.providerData=W.map(Et=>({...Et}))),_&&(gt._redirectEventId=_),gt}static async _fromIdTokenResponse(t,i,r=!1){const l=new fo;l.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];St(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?MT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new fo;g.updateFromIdToken(r);const _=new _i({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Rv=new Map;function Es(s){Ss(s instanceof Function,"Expected a class definition");let t=Rv.get(s);return t?(Ss(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Rv.set(s,t),t)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}VT.type="NONE";const Iv=VT;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class mo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new mo(Es(Iv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Es(Iv);const d=kc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const M=await Xc(t,{idToken:E}).catch(()=>{});if(!M)break;A=await _i._fromGetAccountInfoResponse(t,M,E)}else A=_i._fromJSON(t,E);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new mo(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new mo(c,t,r))}}function Cv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jT(t))return"Blackberry";if(BT(t))return"Webos";if(UT(t))return"Safari";if((t.includes("chrome/")||LT(t))&&!t.includes("edge/"))return"Chrome";if(zT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function kT(s=cn()){return/firefox\//i.test(s)}function UT(s=cn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LT(s=cn()){return/crios\//i.test(s)}function PT(s=cn()){return/iemobile/i.test(s)}function zT(s=cn()){return/android/i.test(s)}function jT(s=cn()){return/blackberry/i.test(s)}function BT(s=cn()){return/webos/i.test(s)}function Fm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y2(s=cn()){return Fm(s)&&!!window.navigator?.standalone}function X2(){return zS()&&document.documentMode===10}function qT(s=cn()){return Fm(s)||zT(s)||BT(s)||jT(s)||/windows phone/i.test(s)||PT(s)}function HT(s,t=[]){let i;switch(s){case"Browser":i=Cv(cn());break;case"Worker":i=`${Cv(cn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Io}/${r}`}class $2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function J2(s,t={}){return Co(s,"GET","/v2/passwordPolicy",qm(s,t))}const Z2=6;class W2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class tR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),r=await _i._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yi(this.app))return Promise.reject(na(this));const i=t?Le(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yi(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await J2(this),i=new W2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ca("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Es(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&x2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ph(s){return Le(s)}class Nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QS(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(s){Gm=s}function nR(s){return Gm.loadJS(s)}function iR(){return Gm.gapiScript}function sR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function rR(s,t){const i=ha(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(pr(c,t??{}))return l;Yi(l,"already-initialized")}return i.initialize({options:t})}function aR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Es);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function oR(s,t,i){const r=ph(s);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=FT(t),{host:d,port:g}=lR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(pr(y,r.config.emulator)&&pr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Ro(d)?($0(`${c}//${d}${_}`),J0("Auth",!0)):uR()}function FT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lR(s){const t=FT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:xv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:xv(d)}}}function xv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function uR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class GT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(t){return Ts("not implemented")}_linkToIdToken(t,i){return Ts("not implemented")}_getReauthenticationResolver(t){return Ts("not implemented")}}async function go(s,t){return P2(s,"POST","/v1/accounts:signInWithIdp",qm(s,t))}const cR="http://localhost";class oa extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Yi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new oa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return go(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,go(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,go(t,i)}buildRequest(){const t={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class or extends Zl{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class vs extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return oa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return vs.credential(i,r)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";class lr extends Zl{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends Zl{constructor(){super("twitter.com")}static credential(t,i){return oa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";class _o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await _i._fromIdTokenResponse(t,r,l),d=Dv(r);return new _o({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Dv(r);return new _o({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Dv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Jc extends bi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Jc(t,i,r,l)}}function QT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,t,r):c})}async function hR(s,t,i=!1){const r=await Hl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return _o._forOperation(s,"link",r)}async function fR(s,t,i=!1){const{auth:r}=s;if(yi(r.app))return Promise.reject(na(r));const l="reauthenticate";try{const c=await Hl(s,QT(r,l,t,s),i);St(c.idToken,r,"internal-error");const d=Hm(c.idToken);St(d,r,"internal-error");const{sub:g}=d;return St(s.uid===g,r,"user-mismatch"),_o._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Yi(r,"user-mismatch"),c}}async function dR(s,t,i=!1){if(yi(s.app))return Promise.reject(na(s));const r="signIn",l=await QT(s,r,t),c=await _o._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function mR(s,t,i,r){return Le(s).onIdTokenChanged(t,i,r)}function gR(s,t,i){return Le(s).beforeAuthStateChanged(t,i)}function pR(s,t,i,r){return Le(s).onAuthStateChanged(t,i,r)}function Ov(s){return Le(s).signOut()}const Zc="__sak";class KT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,_R=10;class YT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);X2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_R):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}YT.type="LOCAL";const vR=YT;class XT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}XT.type="SESSION";const $T=XT;function TR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new yh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await TR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Km(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class ER{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Km("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function bR(s){qi().location.href=s}function JT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function SR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){return navigator?.serviceWorker?.controller||null}function wR(){return JT()?self:null}const ZT="firebaseLocalStorageDb",RR=1,Wc="firebaseLocalStorage",WT="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function IR(){const s=indexedDB.deleteDatabase(ZT);return new Wl(s).toPromise()}function lm(){const s=indexedDB.open(ZT,RR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Wc,{keyPath:WT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Wc)?t(r):(r.close(),await IR(),t(await lm()))})})}async function Mv(s,t,i){const r=_h(s,!0).put({[WT]:t,value:i});return new Wl(r).toPromise()}async function CR(s,t){const i=_h(s,!1).get(t),r=await new Wl(i).toPromise();return r===void 0?null:r.value}function Vv(s,t){const i=_h(s,!0).delete(t);return new Wl(i).toPromise()}const NR=800,xR=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>xR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(wR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Mv(t,Zc,"1"),await Vv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>CR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const DR=tE;new Jl(3e4,6e4);function eE(s,t){return t?Es(t):(St(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends GT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,i){return go(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function OR(s){return dR(s.auth,new Ym(s),s.bypassAuthState)}function MR(s){const{auth:t,user:i}=s;return St(i,t,"internal-error"),fR(i,new Ym(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:i}=s;return St(i,t,"internal-error"),hR(i,new Ym(s),s.bypassAuthState)}class nE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Yi(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kR=new Jl(2e3,1e4);async function UR(s,t,i){if(yi(s.app))return Promise.reject(vi(s,"operation-not-supported-in-this-environment"));const r=ph(s);D2(s,t,Qm);const l=eE(r,i);return new ta(r,"signInViaPopup",t,l).executeNotNull()}class ta extends nE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kR.get())};t()}}ta.currentPopupAction=null;const LR="pendingRedirect",Uc=new Map;class PR extends nE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const r=await zR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(s,t){const i=qR(t),r=BR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function jR(s,t){Uc.set(s._key(),t)}function BR(s){return Es(s._redirectPersistence)}function qR(s){return kc(LR,s.config.apiKey,s.name)}async function HR(s,t,i=!1){if(yi(s.app))return Promise.reject(na(s));const r=ph(s),l=eE(r,t),d=await new PR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const FR=600*1e3;class GR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function iE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function QR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(s);default:return!1}}async function KR(s,t={}){return Co(s,"GET","/v1/projects",t)}const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function $R(s){if(s.config.emulator)return;const{authorizedDomains:t}=await KR(s);for(const i of t)try{if(JR(i))return}catch{}Yi(s,"unauthorized-domain")}function JR(s){const t=am(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!XR.test(i))return!1;if(YR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const ZR=new Jl(3e4,6e4);function Uv(){const s=qi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function WR(s){return new Promise((t,i)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),i(vi(s,"network-request-failed"))},timeout:ZR.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=sR("iframefcb");return qi()[l]=()=>{gapi.load?r():i(vi(s,"network-request-failed"))},nR(`${iR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function tI(s){return Lc=Lc||WR(s),Lc}const eI=new Jl(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(s){const t=s.config;St(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Bm(t,iI):`https://${s.config.authDomain}/${nI}`,r={apiKey:t.apiKey,appName:s.name,v:Io},l=rI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${$l(r).slice(1)}`}async function oI(s){const t=await tI(s),i=qi().gapi;return St(i,s,"internal-error"),t.open({where:document.body,url:aI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=vi(s,"network-request-failed"),g=qi().setTimeout(()=>{c(d)},eI.get());function _(){qi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(s,t,i,r=uI,l=cI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...lI,width:r.toString(),height:l.toString(),top:c,left:d},y=cn().toLowerCase();i&&(g=LT(y)?hI:i),kT(y)&&(t=t||fI,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[Q,W])=>`${M}${Q}=${W},`,"");if(Y2(y)&&g!=="_self")return mI(t||"",g),new Lv(null);const A=window.open(t||"",g,E);St(A,s,"popup-blocked");try{A.focus()}catch{}return new Lv(A)}function mI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const gI="__/auth/handler",pI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Pv(s,t,i,r,l,c){St(s.config.authDomain,s,"auth-domain-config-required"),St(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Io,eventId:l};if(t instanceof Qm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",GS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Zl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${yI}=${encodeURIComponent(_)}`:"";return`${_I(s)}?${$l(g).slice(1)}${y}`}function _I({config:s}){return s.emulator?Bm(s,pI):`https://${s.authDomain}/${gI}`}const Qd="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=HR,this._overrideRedirectResult=jR}async _openPopup(t,i,r,l){Ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(t,i,r,am(),l);return dI(t,c,Km())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Pv(t,i,r,am(),l);return bR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await oI(t),r=new GR(t);return i.register("authEvent",l=>(St(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return qT()||UT()||Fm()}}const TI=vI;var zv="@firebase/auth",jv="1.12.0";class EI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(s){Ki(new Ei("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(s)},y=new tR(r,l,c,_);return aR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ki(new Ei("auth-internal",t=>{const i=ph(t.getProvider("auth").getImmediate());return(r=>new EI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(zv,jv,bI(s)),ti(zv,jv,"esm2020")}const AI=300,wI=X0("authIdTokenMaxAge")||AI;let Bv=null;const RI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>wI)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function II(s=Om()){const t=ha(s,"auth");if(t.isInitialized())return t.getImmediate();const i=rR(s,{popupRedirectResolver:TI,persistence:[DR,vR,$T]}),r=X0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=RI(c.toString());gR(i,d,()=>d(i.currentUser)),mR(i,g=>d(g))}}const l=K0("auth");return l&&oR(i,`http://${l}`),i}function CI(){return document.getElementsByTagName("head")?.[0]??document}eR({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=vi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",CI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,sE;(function(){var s;function t(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,U){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],w;w=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[S++]=this.g[I]>>>V&255;return N};function c(N,S){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var g={};function _(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return Z(y(-N));const S=[];let I=1;for(let V=0;N>=I;V++)S[V]=N/I|0,I*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const w=parseInt(N.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var A=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(it(this))return"-"+Z(this).toString(N);const S=y(Math.pow(N,6));var I=this;let V="";for(;;){const D=It(I,S).g;I=gt(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=gt(this,N),it(N)?-1:W(N)?0:1};function Z(N){const S=N.g.length,I=[];for(let V=0;V<S;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}s.abs=function(){return it(this)?Z(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=w>>>16,U&=65535,w&=65535,I[D]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function gt(N,S){return N.add(Z(S))}s.j=function(N){if(W(this)||W(N))return A;if(it(this))return it(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(it(N))return Z(this.j(Z(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,w=this.i(V)&65535,re=N.i(D)>>>16,Ie=N.i(D)&65535;I[2*V+2*D]+=w*Ie,Et(I,2*V+2*D),I[2*V+2*D+1]+=U*Ie,Et(I,2*V+2*D+1),I[2*V+2*D+1]+=w*re,Et(I,2*V+2*D+1),I[2*V+2*D+2]+=U*re,Et(I,2*V+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function Et(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function yt(N,S){this.g=N,this.h=S}function It(N,S){if(W(S))throw Error("division by zero");if(W(N))return new yt(A,A);if(it(N))return S=It(Z(N),S),new yt(Z(S.g),Z(S.h));if(it(S))return S=It(N,Z(S)),new yt(Z(S.g),S.h);if(N.g.length>30){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(N)<=0;)I=se(I),V=se(V);var D=Dt(I,1),U=Dt(V,1);for(V=Dt(V,2),I=Dt(I,2);!W(V);){var w=U.add(V);w.l(N)<=0&&(D=D.add(I),U=w),V=Dt(V,1),I=Dt(I,1)}return S=gt(N,D.j(S)),new yt(D,S)}for(D=A;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(S);it(w)||w.l(N)>0;)I-=V,U=y(I),w=U.j(S);W(U)&&(U=M),D=D.add(U),N=gt(N,w)}return new yt(D,N)}s.B=function(N){return It(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function se(N){const S=N.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Dt(N,S){const I=S>>5;S%=32;const V=N.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?N.i(U+I)>>>S|N.i(U+I+1)<<32-S:N.i(U+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,dr=d}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rE,Ol,aE,Pc,um,oE,lE,uE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var tt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)tt[Ct-2]=arguments[Ct];return m.prototype[L].apply(b,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const b=yt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var yt=new it(()=>new It,u=>u.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Dt=!1,N=new Et,S=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(I)}};function I(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(re,D),re.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,b,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Wt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Wt(u,m[B],v,b,L);return null}return v=Rs(v),u&&u[Ie]?u.J(m,v,g(b)?!!b.capture:!1,L):ei(u,m,v,!1,b,L)}function ei(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Ct=ii(u);if(Ct||(u[kt]=Ct=new st(u)),v=Ct.add(m,v,b,tt,B),v.proxy)return v;if(b=Ji(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(He(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ji(){function u(v){return m.call(u.src,u.listener,v)}const m=Zi;return u}function rn(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)rn(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=Rs(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,b,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ii(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,b,L)),(v=u>-1?m[u]:null)&&ni(v))}function ni(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])_t(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(He(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ii(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ht(u)}}}function He(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Zi(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ni(u),u=v.call(b,m)}return u}function ii(u){return u=u[kt],u instanceof st?u:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rs(u){return typeof u=="function"?u:(u[Wi]||(u[Wi]=function(m){return u.handleEvent(m)}),u[Wi])}function ue(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(ue,V),ue.prototype[Ie]=!0,ue.prototype.removeEventListener=function(u,m,v,b){rn(this,u,m,v,b)};function _e(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),et(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Rn(B,b,!0,m)&&L;if(B=m.g=u,L=Rn(B,b,!0,m)&&L,L=Rn(B,b,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Rn(B,b,!1,m)&&L}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},ue.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ue.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Rn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Ct=tt.listener,Se=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=Ct.call(Se,b)!==!1&&L}}return L&&!b.defaultPrevented}function ma(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Is(u){u.g=ma(()=>{u.g=null,u.i&&(u.i=!1,Is(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fe extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(u){V.call(this),this.h=u,this.g={}}A(si,V);var wr=[];function Rr(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&ni(m)},u),u.g={}}si.prototype.N=function(){si.Z.N.call(this),Rr(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=d.JSON.stringify,ga=d.JSON.parse,pa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ir(){}function ya(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}A(Pe,D);function gn(){D.call(this,"c")}A(gn,D);var ge={},_a=null;function Cs(){return _a=_a||new ue}ge.Ia="serverreachability";function ri(u){D.call(this,ge.Ia,u)}A(ri,D);function be(u){const m=Cs();_e(m,new ri(m))}ge.STAT_EVENT="statevent";function jn(u,m){D.call(this,ge.STAT_EVENT,u),this.stat=m}A(jn,D);function pe(u){const m=Cs();_e(m,new jn(m,u))}ge.Ja="timingevent";function pn(u,m){D.call(this,ge.Ja,u),this.size=m}A(pn,D);function In(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Cn(){this.g=!0}Cn.prototype.ua=function(){this.g=!1};function va(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var tt="",Ct=B.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var Se=Ct[Kt].split("=");if(Se.length>1){const de=Se[0];Se=Se[1];const Fn=de.split("_");tt=Fn.length>=2&&Fn[1]=="type"?tt+(de+"="+Se+"&"):tt+(de+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Ta(u,m,v,b,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function H(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+lt(u,v)+(b?" "+b:"")})}function rt(u,m){u.info(function(){return"TIMEOUT: "+m})}Cn.prototype.info=function(){};function lt(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return Xe(B)}catch{return m}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ft={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function ts(){}A(ts,Ir),ts.prototype.g=function(){return new XMLHttpRequest},Si=new ts;function ai(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ce={},Ge={};function Ai(u,m,v){u.M=1,u.A=Cr(xe(m)),u.u=v,u.R=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),wi(u),u.B=xe(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),wa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Fe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(wr[0]=L.toString()),L=wr);for(let B=0;B<L.length;B++){const tt=Wt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),be(),va(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=hi(this.g),Se=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Ct!=4||Se==7||(Se==8||Kt<=0?be(3):be(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,Ta(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)H(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,pe(12),Nn(this),Bn(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<v.length;)if(de=ou(this,v),de==Ge){Ct==4&&(this.m=4,pe(14),u=!1),H(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ce){this.m=4,pe(15),H(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else H(this.i,this.l,de,null),Ii(this,de);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)H(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(tt),tt.P=!0,pe(11))}}else H(this.i,this.l,v,null),Ii(this,v);Ct==4&&Nn(this),this.o&&!this.K&&(Ct==4?pu(this.j,this):(this.o=!1,wi(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),Nn(this),Bn(this)}}}catch{}};function Uh(u){if(!au(u))return u.g.la();const m=$e(u.g);if(m==="")return"";let v="";const b=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ge:(v=Number(m.substring(v,b)),isNaN(v)?Ce:(b+=1,b+v>m.length?Ge:(m=m.slice(b,b+v),u.C=b+v,m)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function wi(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=In(y(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rt(this.i,this.B),this.M!=2&&(be(),pe(17)),Nn(this),this.m=2,Bn(this)):ba(this,this.T-u)};function Bn(u){u.j.I==0||u.K||pu(u.j,u)}function Nn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Rr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Us(v);else break t;kr(v),pe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=In(y(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&xa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const de=Kt[0];if(!(de<=v.K))if(v.K=de,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Fn=Kt[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const Ui=Kt[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const fi=Kt[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const di=u.g;if(di){const Ur=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=b.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ko(B,B.h),B.h=null))}if(b.G){const Da=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(b.wa=Da,$t(b.J,b.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=u;if(b.na=vu(b,b.L?b.ba:null,b.W),tt.L){Uo(b.h,tt);var Ct=tt,Se=b.O;Se&&(Ct.H=Se),Ct.D&&(Ri(Ct),wi(Ct)),b.g=tt}else mu(b);v.i.length>0&&Vi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||ki(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ki(v,7):Go(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}be(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function Mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ko(u,m){u.g?u.g.add(m):u.h=m}function Uo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Qe(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Po(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Qe(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Ns(this,m[4]),this.h=xi(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,Aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,Aa,!0),"@"),u.push(ai(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Nr(v,v.charAt(0)=="/"?zo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Nr(v,cu)),u.join("")},xn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?Qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Ct=L[tt++];Ct=="."?b&&tt==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==L.length&&B.push("")):(B.push(Ct),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Po(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new xn(u)}function Qe(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof Ds?(u.i=m,Ra(u.i,u.l)):(v||(m=Nr(m,xs)),u.i=new Ds(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Cr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,uu=/[#\?:]/g,zo=/[#\?]/g,xs=/[#\?@]/g,cu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ds.prototype,s.add=function(u,m){_n(this),this.i=null,u=Os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){_n(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jo(u,m){return _n(u),m=Os(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Bo(u,m){_n(u);let v=[];if(typeof m=="string")jo(u,m)&&(v=v.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return _n(this),this.i=null,u=Os(this,u),jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function wa(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Os(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=ai(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+ai(v[B])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ra(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(hu(this,b),wa(this,L,v))},u)),u.j=m}function ui(u,m){const v=new Cn;if(d.Image){const b=new Image;b.onload=E(qn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(qn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(qn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(qn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function qo(u,m){const v=new Cn,b=new AbortController,L=setTimeout(()=>{b.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ms(){this.g=new pa}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Di,Ir),Di.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){ue.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xr,ue),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):ci(this),this.readyState==3&&Ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Ot(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Hn(v),typeof u=="string"?v!=null&&ai(v):$t(u,m,v))}function te(u){ue.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,ue);var Oi=/^https?$/i,Ho=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),es(u)}function Fo(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),es(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!Oi.test(tt?tt.toLowerCase():"")}v=b}if(v)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Fo(u)}}finally{es(u)}}}}function es(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||_e(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ga(m)}};function $e(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=ru(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Bt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new Cn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){pe(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),Vi(this)};function Go(u){if(Ca(u),u.I==3){var m=u.V++,v=xe(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Vr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Cr(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}_u(u)}function Us(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function Ca(u){Us(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||S(),Dt||(se(),Dt=!0),N.add(m,u),u.D=0}}function Na(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=In(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new oi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=xe(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Vr(this,v),B&&(this.R?m="headers="+ai(Hn(B))+"&"+m:this.u&&Dr(v,this.u,B)),ko(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const b=xe(u.J);$t(b,"SID",u.M),$t(b,"RID",v),$t(b,"AID",u.K),Vr(u,b),u.u&&u.o&&Dr(b,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ko(u.h,v),Ai(v,b,m)}function Vr(u,m){u.H&&Ot(u.H,function(v,b){$t(m,b,v)}),u.l&&Ot({},function(v,b){$t(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const Se=["count="+v];Ct==-1?v>0?(Ct=L[0].g,Se.push("ofs="+Ct)):Ct=0:Se.push("ofs="+Ct);let Kt=!0;for(let de=0;de<v;de++){var B=L[de].g;const Fn=L[de].map;if(B-=Ct,B<0)Ct=Math.max(0,L[de].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Ui,fi]of tt){let di=fi;g(fi)&&(di=Xe(fi)),Se.push(B+Ui+"="+encodeURIComponent(di))}}catch(Ui){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Fn)}}if(Kt){tt=Se.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||S(),Dt||(se(),Dt=!0),N.add(m,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=In(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=In(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Us(this),gu(this))};function Ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(xe(m)),v.u=null,v.R=!0,Ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Us(this),kr(this),pe(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){xa(u),Ko(u),u.g=null;var b=2}else if(Ni(u.h,m))v=m.G,Uo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Cs(),_e(b,new pn(b,v)),Vi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Na(u,m)||b==2&&kr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qe(b,"https"),Cr(b),L?ui(b.toString(),v):qo(b.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),_u(u),Ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof xn?xe(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ns(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new xn(null);b&&Qe(B,b),m&&(B.g=m),L&&Ns(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&$t(b,v,m),$t(b,"VER",u.ka),Vr(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Di({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){ue.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}A(hn,ue),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Go(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Xe(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Vi(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,hn.Z.N.call(this)};function bu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Pe);function Su(){gn.call(this),this.status=1}A(Su,gn);function is(u){this.g=u}A(is,Eu),is.prototype.ra=function(){_e(this.g,"a")},is.prototype.qa=function(u){_e(this.g,new bu(u))},is.prototype.pa=function(u){_e(this.g,new Su)},is.prototype.oa=function(){_e(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,uE=function(){return new Ls},lE=function(){return Cs()},oE=ge,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,Pc=dt,Ft.COMPLETE="complete",aE=Ft,ya.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Ol=ya,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,rE=te}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.3";class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let No="12.7.0";const la=new dh("@firebase/firestore");function oo(){return la.logLevel}function at(s,...t){if(la.logLevel<=Pt.DEBUG){const i=t.map(Xm);la.debug(`Firestore (${No}): ${s}`,...i)}}function As(s,...t){if(la.logLevel<=Pt.ERROR){const i=t.map(Xm);la.error(`Firestore (${No}): ${s}`,...i)}}function vo(s,...t){if(la.logLevel<=Pt.WARN){const i=t.map(Xm);la.warn(`Firestore (${No}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Tt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,cE(s,r,i)}function cE(s,t,i){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw As(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||cE(t,l,r)}function Rt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends bi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ia{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class xI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ia,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ia)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new hE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class OI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function cm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Kd(l)===Kd(c)?zt(l,c):Kd(l)?1:-1}return zt(s.length,t.length)}const UI=55296,LI=57343;function Kd(s){const t=s.charCodeAt(0);return t>=UI&&t<=LI}function To(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Qv="__name__";class Bi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Tt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const r=Bi.isNumericId(t),l=Bi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class fe extends Bi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Bi{construct(t,i,r){return new nn(t,i,r)}static isValidIdentifier(t){return PI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new nn([Qv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(fe.fromString(t))}static fromName(t){return new mt(fe.fromString(t).popFirst(5))}static empty(){return new mt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new fe(t.slice()))}}function fE(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function zI(s,t,i,r){if(t===!0&&r===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Kv(s){if(!mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Yv(s){if(mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Tt(12329,{type:typeof s})}function mr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function tu(s,t){if(!dE(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const Xv=-62135596800,$v=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*$v);return new oe(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Xv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ue("string",oe._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function jI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new oe(i+1,0):new oe(i,r));return new yr(l,mt.empty(),t)}function BI(s){return new yr(s.readTime,s.key,Fl)}class yr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new yr(At.min(),mt.empty(),Fl)}static max(){return new yr(At.max(),mt.empty(),Fl)}}function qI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==HI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function GI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Do(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const Zm=-1;function Th(s){return s==null}function th(s){return s===0&&1/s==-1/0}function QI(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const mE="";function KI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Jv(t)),t=YI(s.get(i),t);return Jv(t)}function YI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function Jv(s){return s+mE+""}function Zv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Sr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function gE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new en(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Pn([])}unionWith(t){let i=new qe(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new sn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new sn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=XI.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",TE="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===yE}function Eh(s){const t=s.mapValue.fields[vE];return Wm(t)?Eh(t):t}function Gl(s){const t=_r(s.mapValue.fields[TE].timestampValue);return new oe(t.seconds,t.nanos)}class $I{constructor(t,i,r,l,c,d,g,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const eh="(default)";class Ql{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",JI="__max__",xc={mapValue:{}},bE="__vector__",nh="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:WI(s)?9007199254740991:ZI(s)?10:11:Tt(28295,{value:s})}function Xi(s,t){if(s===t)return!0;const i=Tr(s);if(i!==Tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Gl(s).isEqual(Gl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),g=_r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),g=Re(c.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return To(s.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zv(d)!==Zv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Xi(d[_],g[_])))return!1;return!0})(s,t);default:return Tt(52216,{left:s})}}function Kl(s,t){return(s.values||[]).find((i=>Xi(i,t)))!==void 0}function Eo(s,t){if(s===t)return 0;const i=Tr(s),r=Tr(t);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Re(c.integerValue||c.doubleValue),_=Re(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return t0(s.timestampValue,t.timestampValue);case 4:return t0(Gl(s),Gl(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=vr(c),_=vr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=zt(g[y],_[y]);if(E!==0)return E}return zt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=zt(Re(c.latitude),Re(d.latitude));return g!==0?g:zt(Re(c.longitude),Re(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return e0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[nh]?.arrayValue,E=_[nh]?.arrayValue,A=zt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:e0(y,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const M=cm(_[A],E[A]);if(M!==0)return M;const Q=Eo(g[_[A]],y[E[A]]);if(Q!==0)return Q}return zt(_.length,E.length)})(s.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function t0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=_r(s),r=_r(t),l=zt(i.seconds,r.seconds);return l!==0?l:zt(i.nanos,r.nanos)}function e0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Eo(i[l],r[l]);if(c)return c}return zt(i.length,r.length)}function bo(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=_r(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=hm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):Tt(61005,{value:s})}function zc(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sr(r.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw Tt(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function tg(s){return!!s&&"arrayValue"in s}function n0(s){return!!s&&"nullValue"in s}function i0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function ZI(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===bE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Pl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return t}return{...s}}function WI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(i)}setAll(t){let i=nn.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Pl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Sr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new wn(Pl(this.value))}}function SE(s){const t=[];return Sr(s.fields,((i,r)=>{const l=new nn([i]);if(jc(r)){const c=SE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Pn(t)}class un{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),wn.empty(),0)}static newFoundDocument(t,i,r,l){return new un(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new un(t,2,i,At.min(),At.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,At.min(),At.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function s0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=Eo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function tC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class AE{}class je extends AE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new nC(t,i,r):i==="array-contains"?new rC(t,r):i==="in"?new aC(t,r):i==="not-in"?new oC(t,r):i==="array-contains-any"?new lC(t,r):new je(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new iC(t,r):new sC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Eo(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(Eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $i(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(s){return s.op==="and"}function RE(s){return eC(s)&&wE(s)}function eC(s){for(const t of s.filters)if(t instanceof $i)return!1;return!0}function dm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(RE(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function IE(s,t){return s instanceof je?(function(r,l){return l instanceof je&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,t):s instanceof $i?(function(r,l){return l instanceof $i&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&IE(d,l.filters[g])),!0):!1})(s,t):void Tt(19439)}function CE(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(s):s instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(s):"Filter"}class nC extends je{constructor(t,i,r){super(t,i,r),this.key=mt.fromName(r.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class iC extends je{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class sC extends je{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class rC extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return tg(i)&&Kl(i.arrayValue,this.value)}}class aC extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class oC extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class lC extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!tg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Kl(this.value.arrayValue,r)))}}class uC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function a0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new uC(s,t,i,r,l,c,d)}function eg(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>bo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>bo(r))).join(",")),t.Te=i}return t.Te}function ng(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!IE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!r0(s.startAt,t.startAt)&&r0(s.endAt,t.endAt)}function mm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(s,t,i,r,l,c,d,g){return new bh(s,t,i,r,l,c,d,g)}function ig(s){return new bh(s)}function o0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hC(s){return s.collectionGroup!==null}function zl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qe(nn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,r))})),i.has(nn.keyField().canonicalString())||t.Ie.push(new sh(nn.keyField(),r))}return t.Ie}function Hi(s){const t=Rt(s);return t.Ee||(t.Ee=fC(t,zl(s))),t.Ee}function fC(s,t){if(s.limitType==="F")return a0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=s.endAt?new ih(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ih(s.startAt.position,s.startAt.inclusive):null;return a0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function gm(s,t,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Sh(s,t){return ng(Hi(s),Hi(t))&&s.limitType===t.limitType}function xE(s){return`${eg(Hi(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),Th(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${r})`})(Hi(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):mt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of zl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,zl(r),l)||r.endAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,zl(r),l))})(s,t)}function dC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function DE(s){return(t,i)=>{let r=!1;for(const l of zl(s)){const c=mC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function mC(s,t,i){const r=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Eo(_,y):Tt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:s.dir})}}class fa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Sr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const gC=new ye(mt.comparator);function ws(){return gC}const OE=new ye(mt.comparator);function Ml(...s){let t=OE;for(const i of s)t=t.insert(i.key,i);return t}function ME(s){let t=OE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ea(){return jl()}function VE(){return jl()}function jl(){return new fa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const pC=new ye(mt.comparator),yC=new qe(mt.comparator);function jt(...s){let t=yC;for(const i of s)t=t.add(i);return t}const _C=new qe(zt);function vC(){return _C}function sg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function kE(s){return{integerValue:""+s}}function TC(s,t){return QI(t)?kE(t):sg(s,t)}class wh{constructor(){this._=void 0}}function EC(s,t,i){return s instanceof rh?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[TE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wm(c)&&(c=Eh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):s instanceof Yl?LE(s,t):s instanceof Xl?PE(s,t):(function(l,c){const d=UE(l,c),g=l0(d)+l0(l.Ae);return fm(d)&&fm(l.Ae)?kE(g):sg(l.serializer,g)})(s,t)}function bC(s,t,i){return s instanceof Yl?LE(s,t):s instanceof Xl?PE(s,t):i}function UE(s,t){return s instanceof ah?(function(r){return fm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class rh extends wh{}class Yl extends wh{constructor(t){super(),this.elements=t}}function LE(s,t){const i=zE(t);for(const r of s.elements)i.some((l=>Xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Xl extends wh{constructor(t){super(),this.elements=t}}function PE(s,t){let i=zE(t);for(const r of s.elements)i=i.filter((l=>!Xi(l,r)));return{arrayValue:{values:i}}}class ah extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function l0(s){return Re(s.integerValue||s.doubleValue)}function zE(s){return tg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Yl&&l instanceof Yl||r instanceof Xl&&l instanceof Xl?To(r.elements,l.elements,Xi):r instanceof ah&&l instanceof ah?Xi(r.Ae,l.Ae):r instanceof rh&&l instanceof rh})(s.transform,t.transform)}class AC{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Rh{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rg(s.key,Ti.none()):new eu(s.key,s.data,Ti.none());{const i=s.data,r=wn.empty();let l=new qe(nn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ar(s.key,r,new Pn(l.toArray()),Ti.none())}}function wC(s,t,i){s instanceof eu?(function(l,c,d){const g=l.value.clone(),_=c0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Ar?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=c0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Bl(s,t,i,r){return s instanceof eu?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),E=h0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Ar?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=h0(c.fieldTransforms,_,d),E=d.data;return E.setAll(BE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function RC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=UE(r.transform,l||null);c!=null&&(i===null&&(i=wn.empty()),i.set(r.field,c))}return i||null}function u0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&To(r,l,((c,d)=>SC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class eu extends Rh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ar extends Rh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function c0(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,bC(d,g,i[l]))}return r}function h0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,EC(c,d,t))}return r}class rg extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&wC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=VE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=jE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((i,r)=>u0(i,r)))&&To(this.baseMutations,t.baseMutations,((i,r)=>u0(i,r)))}}class ag{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return pC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ag(t,i,r,l)}}class NC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xC{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Ht;function DC(s){switch(s){case J.OK:return Tt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt(15467,{code:s})}}function qE(s){if(s===void 0)return As("GRPC error has no .code"),J.UNKNOWN;switch(s){case ke.OK:return J.OK;case ke.CANCELLED:return J.CANCELLED;case ke.UNKNOWN:return J.UNKNOWN;case ke.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ke.INTERNAL:return J.INTERNAL;case ke.UNAVAILABLE:return J.UNAVAILABLE;case ke.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ke.NOT_FOUND:return J.NOT_FOUND;case ke.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ke.ABORTED:return J.ABORTED;case ke.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ke.DATA_LOSS:return J.DATA_LOSS;default:return Tt(39323,{code:s})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const MC=new dr([4294967295,4294967295],0);function f0(s){const t=OC().encode(s),i=new sE;return i.update(t),new Uint8Array(i.digest())}function d0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new dr([i,r],0),new dr([l,c],0)]}class og{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Vl(`Invalid padding: ${i}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=dr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(dr.fromNumber(r)));return l.compare(MC)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ih(At.min(),l,new ye(zt),ws(),jt())}}class nu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new nu(r,i,jt(),jt(),jt())}}class qc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,r=sn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),r=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Tt(38017,{changeType:c})}})),new nu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=g0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.Je=Dc(),this.He=Dc(),this.Ye=new ye(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(r===0){const d=new mt(c.path);this.et(i,d,un.newNoDocument(d,At.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=vr(r).toUint8Array()}catch(_){if(_ instanceof pE)return vo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new og(d,l,c)}catch(_){return vo(_ instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new mt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,un.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=jt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ih(t,i,this.Ye,this.je,r);return this.je=ws(),this.Je=Dc(),this.He=Dc(),this.Ye=new ye(zt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new m0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ye(mt.comparator)}function g0(){return new ye(mt.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class PC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||Th(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function zC(s,t){return oh(s,t.toTimestamp())}function Fi(s){return Xt(!!s,49232),At.fromTimestamp((function(i){const r=_r(i);return new oe(r.seconds,r.nanos)})(s))}function lg(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function QE(s){const t=fe.fromString(s);return Xt(JE(t),10190,{key:t.toString()}),t}function _m(s,t){return lg(s.databaseId,t.path)}function Yd(s,t){const i=QE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(YE(i))}function KE(s,t){return lg(s.databaseId,t)}function jC(s){const t=QE(s);return t.length===4?fe.emptyPath():YE(t)}function vm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function p0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function BC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:qE(y.code);return new ct(E,y.message||"")})(d);i=new FE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=Fi(r.document.updateTime),d=r.document.createTime?Fi(r.document.createTime):At.min(),g=new wn({mapValue:{fields:r.document.fields}}),_=un.newFoundDocument(l,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];i=new qc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?Fi(r.readTime):At.min(),d=un.newNoDocument(l,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new xC(l,c),g=r.targetId;i=new HE(g,d)}}return i}function qC(s,t){let i;if(t instanceof eu)i={update:p0(s,t.key,t.value)};else if(t instanceof rg)i={delete:_m(s,t.key)};else if(t instanceof Ar)i={update:p0(s,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof IC))return Tt(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Tt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(s,t.precondition)),i}function HC(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(At.min())&&(d=Fi(c)),new AC(d,l.transformResults||[])})(i,t)))):[]}function FC(s,t){return{documents:[KE(s,t.path)]}}function GC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=KE(s,l);const c=(function(y){if(y.length!==0)return $E($i.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:uo(M.field),direction:YC(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function QC(s){let t=jC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=XE(A);return M instanceof $i&&RE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new sh(co(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,Th(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,Q=A.values||[];return new ih(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,Q=A.values||[];return new ih(Q,M)})(i.endAt)),cC(t,l,d,c,g,"F",_,y)}function KC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=co(i.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=co(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=co(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(co(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((r=>XE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(s):Tt(30097,{filter:s})}function YC(s){return kC[s]}function XC(s){return UC[s]}function $C(s){return LC[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return nn.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof je?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(i.field),op:XC(i.op),value:i.value}}})(s):s instanceof $i?(function(i){const r=i.getFilters().map((l=>$E(l)));return r.length===1?r[0]:{compositeFilter:{op:$C(i.op),filters:r}}})(s):Tt(54877,{filter:s})}function JC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class cr{constructor(t,i,r,l,c=At.min(),d=At.min(),g=sn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZC{constructor(t){this.yt=t}}function WC(s){const t=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}class tN{constructor(){this.Cn=new eN}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(yr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class eN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new qe(fe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new qe(fe.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ZE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class So{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const _0="LruGarbageCollector",nN=1048576;function v0([s,t],[i,r]){const l=zt(s,i);return l===0?zt(t,r):l}class iN{constructor(t){this.Ir=t,this.buffer=new qe(v0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Do(i)?at(_0,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.Vr(3e5)}))}}class rN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(vh.ce);const r=new iN(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(y0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),oo()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function aN(s,t){return new rN(s,t)}class oN{constructor(){this.changes=new fa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Bl(r.mutation,l,Pn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=jt()){const l=ea();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Ml();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ea();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,jt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=ws();const d=jl(),g=(function(){return jl()})();return i.forEach(((_,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Ar)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),oe.now())):d.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new lN(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=jl();let l=new ye(((d,g)=>d-g)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=r.get(_)||Pn.empty();E=g.applyToLocalView(y,E),r.set(_,E);const A=(l.get(g.batchId)||jt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,A=VE();E.forEach((M=>{if(!c.has(M)){const Q=jE(i.get(M),r.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(ea());let g=Fl,_=c;return d.next((y=>$.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((E=>({batchId:g,changes:ME(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((r=>{let l=Ml();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(A,M){return new bh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,un.newInvalidDocument(E)))}));let g=Ml();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Bl(E.mutation,y,Pn.empty(),oe.now()),Ah(i,y)&&(g=g.insert(_,y))})),g}))}}class cN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:Fi(l.readTime)}})(i)),$.resolve()}}class hN{constructor(){this.overlays=new ye(mt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ea();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=ea(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ye(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=ea(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return $.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NC(i,r));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class fN{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class ug{constructor(){this.Qr=new qe(Ye.$r),this.Ur=new qe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ye(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new mt(new fe([])),r=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new fe([])),r=new Ye(i,t),l=new Ye(i,t+1);let c=jt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class dN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ye.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ye(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(zt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;mt.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new mt(c),0);let g=new qe(zt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ye(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mN{constructor(t){this.ri=t,this.docs=(function(){return new ye(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let r=ws();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ws();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qI(BI(E),r)<=0||(l.has(E.key)||Ah(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){Tt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new gN(this)}getSize(t){return $.resolve(this.size)}}class gN extends oN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class pN{constructor(t){this.persistence=t,this.si=new fa((i=>eg(i)),ng),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=So.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new So(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=t(this),this.Pi=new pN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(l){return new mN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZC(i),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new dN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new yN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class yN extends FI{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=mt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.pi=new fa((r=>KI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=aN(this,i)}static mi(t,i){return new lh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(t,i.fromCache,r,l)}}class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jS()?8:GI(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _N;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(oo()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(oo()<=Pt.DEBUG&&at("QueryEngine","Query:",lo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(oo()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hi(i))):$.resolve())}ys(t,i){if(o0(i))return $.resolve(null);let r=Hi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=Hi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return o0(i)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(oo()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),lo(i)),this.vs(t,d,i,jI(l,Fl)).next((g=>g)))}))}Ds(t,i){let r=new qe(DE(t));return i.forEach(((l,c)=>{Ah(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return oo()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(t,i,yr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",TN=3e8;class EN{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ye(zt),this.xs=new fa((c=>eg(c)),ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bN(s,t,i,r){return new EN(s,t,i,r)}async function t1(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=jt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function SN(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const A=y.batch,M=A.keys();let Q=$.resolve();return M.forEach((W=>{Q=Q.next((()=>E.getEntry(_,W))).next((it=>{const Z=y.docVersions.get(W);Xt(Z!==null,48541),it.version.compareTo(Z)<0&&(A.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),E.addEntry(it)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function e1(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function AN(s,t){const i=Rt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(sn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(E.resumeToken,r)),l=l.insert(A,Q),(function(it,Z,gt){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=TN?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,Q,E)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=ws(),y=jt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(wN(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!r.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function wN(s,t,i){let r=jt(),l=jt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ws();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function RN(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function IN(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new cr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Tm(s,t,i){const r=Rt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Do(d))throw d;at(fg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function T0(s,t,i){const r=Rt(s);let l=At.min(),c=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=Rt(_),M=A.xs.get(E);return M!==void 0?$.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,E)})(r,d,Hi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:jt()))).next((g=>(CN(r,dC(t),g),{documents:g,Qs:c})))))}function CN(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class E0{constructor(){this.activeTargetIds=vC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NN{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xN{Oo(t){}shutdown(){}}const b0="ConnectivityMonitor";class S0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(b0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Em(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Xd="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());at(Xd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),E=Ro(y);return this.Jo(t,g,_,r,E).then((A=>(at(Xd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw vo(Xd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=DN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class MN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class VN extends ON{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Em();return new Promise(((g,_)=>{const y=new rE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const A=y.getResponseJson();at(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Pc.TIMEOUT:at(on,`RPC '${t}' ${d} timed out`),_(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=y.getStatus();if(at(on,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const it=(function(gt){const Et=gt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(W.status);_(new ct(it,W.message))}else _(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(on,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);at(on,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,r,15)}))}T_(t,i,r){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),g=lE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const E=c.join("");at(on,`Creating RPC '${t}' stream ${l}: ${E}`,_);const A=d.createWebChannel(E,_);this.I_(A);let M=!1,Q=!1;const W=new MN({Yo:Z=>{Q?at(on,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(M||(at(on,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(on,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),it=(Z,gt,Et)=>{Z.listen(gt,(yt=>{try{Et(yt)}catch(It){setTimeout((()=>{throw It}),0)}}))};return it(A,Ol.EventType.OPEN,(()=>{Q||(at(on,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),it(A,Ol.EventType.CLOSE,(()=>{Q||(Q=!0,at(on,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),it(A,Ol.EventType.ERROR,(Z=>{Q||(Q=!0,vo(on,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),it(A,Ol.EventType.MESSAGE,(Z=>{if(!Q){const gt=Z.data[0];Xt(!!gt,16349);const Et=gt,yt=Et?.error||Et[0]?.error;if(yt){at(on,`RPC '${t}' stream ${l} received error:`,yt);const It=yt.status;let se=(function(S){const I=ke[S];if(I!==void 0)return qE(I)})(It),Dt=yt.message;se===void 0&&(se=J.INTERNAL,Dt="Unknown error status: "+It+" with message "+yt.message),Q=!0,W.a_(new ct(se,Dt)),A.close()}else at(on,`RPC '${t}' stream ${l} received:`,gt),W.u_(gt)}})),it(g,oE.STAT_EVENT,(Z=>{Z.stat===um.PROXY?at(on,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===um.NOPROXY&&at(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Ch(s){return new PC(s,!0)}class n1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const A0="PersistentStream";class i1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kN extends i1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=BC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Fi(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:FC(c,_)}:{query:GC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GE(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=oh(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=KC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class UN extends i1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=HC(t.writeResults,t.commitTime),r=Fi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>qC(this.serializer,r)))};this.q_(i)}}class LN{}class PN extends LN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class jN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{da(this)&&(at(ua,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Nh(y)})(this))}))})),this.Ra=new zN(r,l)}}async function Nh(s){if(da(s))for(const t of s.da)await t(!0)}async function iu(s){for(const t of s.da)await t(!1)}function s1(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):Oo(i).O_()&&mg(i,t))}function dg(s,t){const i=Rt(s),r=Oo(i);i.Ia.delete(t),r.O_()&&r1(i,t),i.Ia.size===0&&(r.O_()?r.L_():da(i)&&i.Ra.set("Unknown"))}function mg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Oo(s).Y_(t)}function r1(s,t){s.Va.Ue(t),Oo(s).Z_(t)}function gg(s){s.Va=new VC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Oo(s).start(),s.Ra.ua()}function pg(s){return da(s)&&!Oo(s).x_()&&s.Ia.size>0}function da(s){return Rt(s).Ea.size===0}function a1(s){s.Va=void 0}async function BN(s){s.Ra.set("Online")}async function qN(s){s.Ia.forEach(((t,i)=>{mg(s,t)}))}async function HN(s,t){a1(s),pg(s)?(s.Ra.ha(t),gg(s)):s.Ra.set("Unknown")}async function FN(s,t,i){if(s.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await uh(s,r)}else if(t instanceof qc?s.Va.Ze(t):t instanceof HE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await e1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),r1(c,_);const A=new cr(E.target,_,y,E.sequenceNumber);mg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(ua,"Failed to raise snapshot:",r),await uh(s,r)}}async function uh(s,t,i){if(!Do(t))throw t;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),i||(i=()=>e1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function o1(s,t){return t().catch((i=>uh(s,i,t)))}async function xh(s){const t=Rt(s),i=Er(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;GN(t);)try{const l=await RN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,QN(t,l)}catch(l){await uh(t,l)}l1(t)&&u1(t)}function GN(s){return da(s)&&s.Ta.length<10}function QN(s,t){s.Ta.push(t);const i=Er(s);i.O_()&&i.X_&&i.ea(t.mutations)}function l1(s){return da(s)&&!Er(s).x_()&&s.Ta.length>0}function u1(s){Er(s).start()}async function KN(s){Er(s).ra()}async function YN(s){const t=Er(s);for(const i of s.Ta)t.ea(i.mutations)}async function XN(s,t,i){const r=s.Ta.shift(),l=ag.from(r,t,i);await o1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function $N(s,t){t&&Er(s).X_&&await(async function(r,l){if((function(d){return DC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Er(r).B_(),await o1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(r)}})(s,t),l1(s)&&u1(s)}async function w0(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),at(ua,"RemoteStore received new credentials");const r=da(i);i.Ea.add(3),await iu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nh(i)}async function JN(s,t){const i=Rt(s);t?(i.Ea.delete(2),await Nh(i)):t||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function Oo(s){return s.ma||(s.ma=(function(i,r,l){const c=Rt(i);return c.sa(),new kN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:BN.bind(null,s),t_:qN.bind(null,s),r_:HN.bind(null,s),H_:FN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),a1(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,r,l){const c=Rt(i);return c.sa(),new UN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,s),r_:$N.bind(null,s),ta:YN.bind(null,s),na:XN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new yg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,t){if(As("AsyncQueue",`${t}: ${s}`),Do(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Ml(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new po;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class R0{constructor(){this.ga=new ye(mt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ao{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ao(t,i,po.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WN{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Rt(i),c=l.queries;l.queries=I0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function I0(){return new fa((s=>xE(s)),Sh)}async function tx(s,t){const i=Rt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new ZN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=_g(d,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&vg(i)}async function ex(s,t){const i=Rt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nx(s,t){const i=Rt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&vg(i)}function ix(s,t,i){const r=Rt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function vg(s){s.Ca.forEach((t=>{t.next()}))}var bm,C0;(C0=bm||(bm={})).Ma="default",C0.Cache="cache";class sx{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Ao(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class c1{constructor(t){this.key=t}}class h1{constructor(t){this.key=t}}class rx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=DE(t),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new R0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),Q=Ah(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;M&&Q?M.data.isEqual(Q.data)?W!==it&&(r.track({type:3,doc:Q}),Z=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),Z=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!M&&Q?(r.track({type:0,doc:Q}),Z=!0):M&&!Q&&(r.track({type:1,doc:M}),Z=!0,(_||y)&&(g=!0)),Z&&(Q?(d=d.add(Q),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(Q,W){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Z})}};return it(Q)-it(W)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ao(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new h1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new c1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class ax{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class ox{constructor(t){this.key=t,this.hu=!1}}class lx{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((g=>xE(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(mt.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ux(s,t,i=!0){const r=y1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f1(r,t,i,!0),l}async function cx(s,t){const i=y1(s);await f1(i,t,!0,!1)}async function f1(s,t,i,r){const l=await IN(s.localStore,Hi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await hx(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&s1(s.remoteStore,l),g}async function hx(s,t,i,r,l){s.pu=(A,M,Q)=>(async function(it,Z,gt,Et){let yt=Z.view.ru(gt);yt.Cs&&(yt=await T0(it.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,yt))));const It=Et&&Et.targetChanges.get(Z.targetId),se=Et&&Et.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(yt,it.isPrimaryClient,It,se);return x0(it,Z.targetId,Dt.au),Dt.snapshot})(s,A,M,Q);const c=await T0(s.localStore,t,!0),d=new rx(t,c.Qs),g=d.ru(c.documents),_=nu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);x0(s,i,y.au);const E=new ax(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function fx(s,t,i){const r=Rt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Sh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Sm(r,l.targetId)})).catch(xo)):(Sm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function dx(s,t){const i=Rt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function mx(s,t,i){const r=Ex(s);try{const l=await(function(d,g){const _=Rt(d),y=oe.now(),E=g.reduce(((Q,W)=>Q.add(W.key)),jt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=ws(),it=jt();return _.Ns.getEntries(Q,E).next((Z=>{W=Z,W.forEach(((gt,Et)=>{Et.isValidDocument()||(it=it.add(gt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,W))).next((Z=>{A=Z;const gt=[];for(const Et of g){const yt=RC(Et,A.get(Et.key).overlayedDocument);yt!=null&&gt.push(new Ar(Et.key,yt,SE(yt.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,gt,g)})).next((Z=>{M=Z;const gt=Z.applyToLocalDocumentSet(A,it);return _.documentOverlayCache.saveOverlays(Q,Z.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:ME(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ye(zt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await su(r,l.changes),await xh(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function d1(s,t){const i=Rt(s);try{const r=await AN(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await su(i,r,t)}catch(r){await xo(r)}}function N0(s,t,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Rt(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(g)&&(y=!0)})),y&&vg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gx(s,t,i){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ye(mt.comparator);d=d.insert(c,un.newNoDocument(c,At.min()));const g=jt().add(c),_=new Ih(At.min(),new Map,new ye(zt),d,g);await d1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Eg(r)}else await Tm(r.localStore,t,!1).then((()=>Sm(r,t,i))).catch(xo)}async function px(s,t){const i=Rt(s),r=t.batch.batchId;try{const l=await SN(i.localStore,t);g1(i,r,null),m1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await su(i,l)}catch(l){await xo(l)}}async function yx(s,t,i){const r=Rt(s);try{const l=await(function(d,g){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Xt(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);g1(r,t,i),m1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await su(r,l)}catch(l){await xo(l)}}function m1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function g1(s,t,i){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||p1(s,r)}))}function p1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function x0(s,t,i){for(const r of i)r instanceof c1?(s.Ru.addReference(r.key,t),_x(s,r)):r instanceof h1?(at(Tg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||p1(s,r.key)):Tt(19791,{wu:r})}function _x(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Tg,"New document in limbo: "+i),s.Eu.add(r),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(fe.fromString(t)),r=s.fu.next();s.Au.set(r,new ox(i)),s.du=s.du.insert(i,r),s1(s.remoteStore,new cr(Hi(ig(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function su(s,t,i){const r=Rt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=hg.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const E=Rt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(M=>$.forEach(M.Es,(Q=>E.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>$.forEach(M.ds,(Q=>E.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!Do(A))throw A;at(fg,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const Q=E.Ms.get(M),W=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(M,it)}}})(r.localStore,c))}async function vx(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){at(Tg,"User change. New user:",t.toKey());const r=await t1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await su(i,r.Ls)}}function Tx(s,t){const i=Rt(s),r=i.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function y1(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gx.bind(null,t),t.Pu.H_=nx.bind(null,t.eventManager),t.Pu.yu=ix.bind(null,t.eventManager),t}function Ex(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=px.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yx.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bN(this.persistence,new vN,t.initialUser,this.serializer)}Cu(t){return new WE(cg.mi,this.serializer)}Du(t){return new NN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class bx extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new WE((r=>lh.mi(r,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vx.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WN})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),r=(function(c){return new VN(c)})(t.databaseInfo);return(function(c,d,g,_){return new PN(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new jN(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>N0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new xN})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,E){const A=new lx(l,c,d,g,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);at(ua,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class Sx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):As("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const br="FirestoreClient";class Ax{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),at(br,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await t1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function D0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await wx(s);at(br,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>w0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>w0(t.remoteStore,l))),s._onlineComponents=t}async function wx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(br,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new ch)}}else at(br,"Using default OfflineComponentProvider"),await Jd(s,new bx(void 0));return s._offlineComponents}async function _1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(br,"Using user provided OnlineComponentProvider"),await D0(s,s._uninitializedComponentsProvider._online)):(at(br,"Using default OnlineComponentProvider"),await D0(s,new Am))),s._onlineComponents}function Rx(s){return _1(s).then((t=>t.syncEngine))}async function O0(s){const t=await _1(s),i=t.eventManager;return i.onListen=ux.bind(null,t.syncEngine),i.onUnlisten=fx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dx.bind(null,t.syncEngine),i}function v1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const M0=new Map;const T1="firestore.googleapis.com",V0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nN)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NI;switch(r.type){case"firstParty":return new MI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M0.get(i);r&&(at("ComponentProvider","Removing Datastore"),M0.delete(i),r.terminate())})(this),Promise.resolve()}}function Ix(s,t,i,r={}){s=mr(s,Dh);const l=Ro(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&($0(`https://${g}`),J0("Firestore",!0)),c.host!==T1&&c.host!==g&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!pr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=ln.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(A)}s._authCredentials=new xI(new hE(y,E))}}class Oh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Oh(this.firestore,t,this._query)}}class Be{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(tu(i,Be._jsonSchema))return new Be(t,r||null,new mt(fe.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ue("string",Be._jsonSchemaVersion),referencePath:Ue("string")};class gr extends Oh{constructor(t,i,r){super(t,i,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new mt(t))}withConverter(t){return new gr(this.firestore,t,this._path)}}function U0(s,t,...i){if(s=Le(s),fE("collection","path",t),s instanceof Dh){const r=fe.fromString(t,...i);return Yv(r),new gr(s,null,r)}{if(!(s instanceof Be||s instanceof gr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Yv(r),new gr(s.firestore,null,r)}}function wm(s,t,...i){if(s=Le(s),arguments.length===1&&(t=$m.newId()),fE("doc","path",t),s instanceof Dh){const r=fe.fromString(t,...i);return Kv(r),new Be(s,null,new mt(r))}{if(!(s instanceof Be||s instanceof gr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Kv(r),new Be(s.firestore,s instanceof gr?s.converter:null,new mt(r))}}const L0="AsyncQueue";class P0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&at(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Do(t))throw t;at(L0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function j0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class wo extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new P0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P0(t),this._firestoreClient=void 0,await t}}}function Cx(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:eh,l=ha(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=xS("firestore");c&&Ix(l,...c)}return l}function E1(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Nx(s),s._firestoreClient}function Nx(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new $I(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,v1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Ax(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(sn.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Wn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ue("string",Wn._jsonSchemaVersion),bytes:Ue("string")};class Mh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class Gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Gi._jsonSchema))return new Gi(t.latitude,t.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Ue("string",Gi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,Qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Qi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Ue("string",Qi._jsonSchemaVersion),vectorValues:Ue("object")};const xx=/^__.*__$/;class Dx{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new eu(t,this.data,i,this.fieldTransforms)}}class b1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function S1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:s})}}class Sg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&xx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ox{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ch(t)}Cc(t,i,r,l=!1){return new Sg({Ac:t,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(s){const t=s._freezeSettings(),i=Ch(s._databaseId);return new Ox(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Mx(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ag("Data must be an object, but it was:",d,r);const g=w1(r,d);let _,y;if(c.merge)_=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Rm(t,A,i);if(!d.contains(M))throw new ct(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);I1(E,M)||E.push(M)}_=new Pn(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new Dx(new wn(g),_,y)}class Vh extends bg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function Vx(s,t,i,r){const l=s.Cc(1,t,i);Ag("Data must be an object, but it was:",l,r);const c=[],d=wn.empty();Sr(r,((_,y)=>{const E=wg(t,_,i);y=Le(y);const A=l.yc(E);if(y instanceof Vh)c.push(E);else{const M=kh(y,A);M!=null&&(c.push(E),d.set(E,M))}}));const g=new Pn(c);return new b1(d,g,l.fieldTransforms)}function kx(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Rm(t,r,i)],_=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Rm(t,c[M])),_.push(c[M+1]);const y=[],E=wn.empty();for(let M=g.length-1;M>=0;--M)if(!I1(y,g[M])){const Q=g[M];let W=_[M];W=Le(W);const it=d.yc(Q);if(W instanceof Vh)y.push(Q);else{const Z=kh(W,it);Z!=null&&(y.push(Q),E.set(Q,Z))}}const A=new Pn(y);return new b1(E,A,d.fieldTransforms)}function kh(s,t){if(R1(s=Le(s)))return Ag("Unsupported field value:",t,s),w1(s,t);if(s instanceof bg)return(function(r,l){if(!S1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=kh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=oe.fromDate(r);return{timestampValue:oh(l.serializer,c)}}if(r instanceof oe){const c=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(r instanceof Gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof Be){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Qi)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:bE},[nh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jm(r)}`)})(s,t)}function w1(s,t){const i={};return gE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sr(s,((r,l)=>{const c=kh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function R1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Gi||s instanceof Wn||s instanceof Be||s instanceof bg||s instanceof Qi)}function Ag(s,t,i){if(!R1(i)||!dE(i)){const r=Jm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Rm(s,t,i){if((t=Le(t))instanceof Mh)return t._internalPath;if(typeof t=="string")return wg(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ux=new RegExp("[~\\*/\\[\\]]");function wg(s,t,i){if(t.search(Ux)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Mh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ct(J.INVALID_ARGUMENT,g+s+_)}function I1(s,t){return s.some((i=>i.isEqual(t)))}class C1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(N1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lx extends C1{data(){return super.data()}}function N1(s,t){return typeof t=="string"?wg(s,t):t instanceof Mh?t._internalPath:t._delegate._internalPath}function Px(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{convertValue(t,i="none"){switch(Tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Sr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((r=>Re(r.doubleValue)));return new Qi(i)}convertGeoPoint(t){return new Gi(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Eh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const i=_r(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);Xt(JE(r),9688,{name:t});const l=new Ql(r.get(1),r.get(3)),c=new mt(r.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jx(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class kl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sa extends C1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(N1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ue("string",sa._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Hc extends sa{data(t={}){return super.data(t)}}class yo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new kl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new kl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new kl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:Bx(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Bx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:s})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Ue("string",yo._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class x1 extends zx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,i)}}function qx(s,t,i,...r){s=mr(s,Be);const l=mr(s.firestore,wo),c=A1(l);let d;return d=typeof(t=Le(t))=="string"||t instanceof Mh?kx(c,"updateDoc",s._key,t,i,r):Vx(c,"updateDoc",s._key,t),Rg(l,[d.toMutation(s._key,Ti.exists(!0))])}function Hx(s){return Rg(mr(s.firestore,wo),[new rg(s._key,Ti.none())])}function Fx(s,t){const i=mr(s.firestore,wo),r=wm(s),l=jx(s.converter,t);return Rg(i,[Mx(A1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function Gx(s,...t){s=Le(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||j0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Be)d=mr(s.firestore,wo),g=ig(s._key.path),c={next:_=>{t[r]&&t[r](Qx(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=mr(s,Oh);d=mr(_.firestore,wo),g=_._query;const y=new x1(d);c={next:E=>{t[r]&&t[r](new yo(d,y,_,E))},error:t[r+1],complete:t[r+2]},Px(s._query)}return(function(y,E,A,M){const Q=new Sx(M),W=new sx(E,Q,A);return y.asyncQueue.enqueueAndForget((async()=>tx(await O0(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>ex(await O0(y),W)))}})(E1(d),g,l,c)}function Rg(s,t){return(function(r,l){const c=new ia;return r.asyncQueue.enqueueAndForget((async()=>mx(await Rx(r),l,c))),c.promise})(E1(s),t)}function Qx(s,t,i){const r=i.docs.get(t._key),l=new x1(s);return new sa(s,l,t._key,r,new kl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){No=l})(Io),Ki(new Ei("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new wo(new DI(r.getProvider("auth-internal")),new VI(d,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ti(Hv,Fv,t),ti(Hv,Fv,"esm2020")})();const Kx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),B0=s=>{const t=Yx(s);return t.charAt(0).toUpperCase()+t.slice(1)},D1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Xx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jx=vt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>vt.createElement("svg",{ref:_,...$x,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:D1("lucide",l),...!c&&!Xx(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>vt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const le=(s,t)=>{const i=vt.forwardRef(({className:r,...l},c)=>vt.createElement(Jx,{ref:c,iconNode:t,className:D1(`lucide-${Kx(B0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=B0(s),i};const Zx=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Wx=le("arrow-down-right",Zx);const tD=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],eD=le("arrow-up-down",tD);const nD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],q0=le("arrow-up-right",nD);const iD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sD=le("banknote",iD);const rD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aD=le("calendar",rD);const oD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lD=le("chart-column",oD);const uD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],cD=le("chart-pie",uD);const hD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Im=le("check",hD);const fD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dD=le("chevron-left",fD);const mD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gD=le("chevron-right",mD);const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O1=le("circle-alert",pD);const yD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_D=le("credit-card",yD);const vD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TD=le("download",vD);const ED=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bD=le("funnel",ED);const SD=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],AD=le("landmark",SD);const wD=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],RD=le("layout-grid",wD);const ID=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],CD=le("list",ID);const ND=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xD=le("lock",ND);const DD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OD=le("log-out",DD);const MD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],VD=le("moon",MD);const kD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zd=le("plus",kD);const UD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LD=le("search",UD);const PD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zD=le("sun",PD);const jD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M1=le("trash-2",jD);const BD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qD=le("trending-up",BD);const HD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V1=le("wallet",HD);const FD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H0=le("x",FD),Cm={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},k1="vivekdn2504@gmail.com",Nm=Cm.apiKey!=="YOUR_API_KEY",GD=Nm?Cm:typeof __firebase_config<"u"?JSON.parse(__firebase_config):Cm,Ig=sT(GD);typeof window<"u"&&A2(Ig);const Mc=II(Ig),Wd=Cx(Ig),QD=({message:s,type:t,onClose:i})=>{vt.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-red-500":"bg-indigo-600";return C.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-medium text-sm flex items-center gap-2 z-[70] animate-fade-in-down ${r}`,children:[t==="error"?C.jsx(O1,{className:"w-4 h-4"}):C.jsx(Im,{className:"w-4 h-4"}),s]})},KD=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?C.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:C.jsx("div",{className:`w-full max-w-xs p-6 rounded-3xl shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white":"bg-white text-gray-900"}`,children:C.jsxs("div",{className:"flex flex-col items-center text-center",children:[C.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:C.jsx(M1,{className:"w-6 h-6"})}),C.jsx("h3",{className:"text-lg font-bold mb-2",children:t}),C.jsx("p",{className:`text-sm mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:i}),C.jsxs("div",{className:"flex gap-3 w-full",children:[C.jsx("button",{onClick:l,className:`flex-1 py-3 rounded-xl font-bold text-sm transition-colors ${c?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),C.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-bold text-sm bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 transition-colors",children:"Delete"})]})]})})}):null,YD=({onLogin:s,error:t})=>C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 font-sans",children:C.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center",children:[C.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:C.jsx(V1,{className:"w-8 h-8"})}),C.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),C.jsxs("p",{className:"text-gray-500 mb-8 text-sm",children:["Personal Expense Manager",C.jsx("br",{}),"Secure Login"]}),t&&C.jsxs("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-xs rounded-xl flex items-center gap-2 text-left",children:[C.jsx(O1,{className:"w-4 h-4 shrink-0"}),t]}),C.jsx("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:"Sign in with Google"}),C.jsx("p",{className:"mt-6 text-[10px] text-gray-400 uppercase tracking-widest",children:"Restricted Access"}),C.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:k1})]})}),XD=()=>C.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:C.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[C.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:C.jsx(xD,{className:"w-6 h-6"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),C.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[C.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),C.jsxs("p",{className:"text-gray-300",children:["Go to Firebase Console > Project Settings > General > Your Apps. Copy the ",C.jsx("code",{className:"bg-black px-1 py-0.5 rounded",children:"firebaseConfig"})," object."]})]}),C.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[C.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),C.jsx("p",{className:"text-gray-300",children:"Update lines 26-33 in the code editor."})]}),C.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[C.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),C.jsx("p",{className:"text-gray-300",children:"Update line 40 with your Gmail address."})]})]})]})});function $D(){const[s,t]=vt.useState(null),[i,r]=vt.useState([]),[l,c]=vt.useState(!0),[d,g]=vt.useState(null),[_,y]=vt.useState(null),[E,A]=vt.useState(()=>localStorage.getItem("theme")==="dark"),[M,Q]=vt.useState(!1),[W,it]=vt.useState({isOpen:!1,id:null}),[Z,gt]=vt.useState("list"),[Et,yt]=vt.useState("date"),[It,se]=vt.useState("month"),[Dt,N]=vt.useState(new Date),[S,I]=vt.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().slice(0,10),end:new Date().toISOString().slice(0,10)}),[V,D]=vt.useState(""),[U,w]=vt.useState("All"),[re,Ie]=vt.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[G,nt]=vt.useState(!1),ht=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],Ot=["Salary","Bonus","Freelance","Other"],[Bt,O]=vt.useState(()=>{try{const H=localStorage.getItem("custom_categories");return H?JSON.parse(H):[]}catch{return[]}}),[Y,et]=vt.useState(!1),[st,_t]=vt.useState(""),[bt,kt]=vt.useState(()=>{try{const H=localStorage.getItem("payment_modes");return H?JSON.parse(H):["Cash","UPI","Bank Account","Credit Card"]}catch{return["Cash","UPI","Bank Account","Credit Card"]}}),[Ee,Wt]=vt.useState(!1),[ei,Ji]=vt.useState(""),[rn,ni]=vt.useState("expense"),[He,Zi]=vt.useState(null),[ii,Wi]=vt.useState(""),[Rs,ue]=vt.useState(""),[_e,Rn]=vt.useState(""),[ma,Is]=vt.useState(""),[Fe,si]=vt.useState(new Date().toISOString().split("T")[0]);vt.useEffect(()=>{document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")},[E]),vt.useEffect(()=>{if(!Nm){c(!1);return}const H=pR(Mc,rt=>{c(!1),rt?rt.email===k1?(t(rt),g(null)):(Ov(Mc),g(`Access Denied: ${rt.email} is not authorized.`)):t(null)});return()=>H()},[]),vt.useEffect(()=>{if(!s)return;const H=U0(Wd,"users",s.uid,"expenses");return Gx(H,rt=>{const lt=rt.docs.map(dt=>({id:dt.id,...dt.data(),date:dt.data().date?.toDate?dt.data().date.toDate():new Date(dt.data().date)}));lt.sort((dt,Ft)=>Ft.date-dt.date),r(lt)})},[s]),vt.useEffect(()=>{localStorage.setItem("monthly_budget",re)},[re]),vt.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(Bt))},[Bt]),vt.useEffect(()=>{localStorage.setItem("payment_modes",JSON.stringify(bt))},[bt]);const wr=async()=>{try{g(null);const H=new vs;await UR(Mc,H)}catch(H){console.error(H),g(H.message)}},Rr=async()=>{await Ov(Mc)},Xe=(H,rt="success")=>y({message:H,type:rt}),ga=H=>{const rt=new Date(Dt);It==="month"?rt.setMonth(rt.getMonth()+H):It==="year"&&rt.setFullYear(rt.getFullYear()+H),N(rt)},pa=()=>{if(It==="custom")return{start:new Date(S.start),end:new Date(new Date(S.end).setHours(23,59,59))};const H=Dt.getFullYear(),rt=Dt.getMonth();return It==="year"?{start:new Date(H,0,1),end:new Date(H,11,31,23,59,59)}:{start:new Date(H,rt,1),end:new Date(H,rt+1,0,23,59,59)}},Ir=(H=null)=>{H?(Zi(H.id),ni(H.type||"expense"),Wi(H.amount),ue(H.category),Rn(H.paymentMode||"Cash"),Is(H.description||""),si(H.date.toISOString().split("T")[0])):(Zi(null),ni("expense"),Wi(""),ue(""),Rn("Cash"),Is(""),si(new Date().toISOString().split("T")[0])),Q(!0)},ya=async H=>{if(H.preventDefault(),!ii||!s)return;const rt=Rs||(rn==="expense"?ht[0]:Ot[0]),lt=_e||"Cash",dt={type:rn,amount:parseFloat(ii),category:rt,paymentMode:lt,description:ma,date:new Date(Fe),updatedAt:oe.now()};try{const Ft=U0(Wd,"users",s.uid,"expenses");He?(await qx(wm(Ft,He),dt),Xe("Updated successfully")):(dt.createdAt=oe.now(),await Fx(Ft,dt),Xe("Added successfully")),Q(!1)}catch(Ft){console.error(Ft),Xe("Save failed","error")}},mn=(H,rt)=>{rt&&rt.stopPropagation(),it({isOpen:!0,id:H})},Pe=async()=>{if(!(!s||!W.id))try{const H=wm(Wd,"users",s.uid,"expenses",W.id);await Hx(H),Xe("Transaction deleted"),He===W.id&&(Q(!1),Zi(null))}catch(H){console.error("Delete Error:",H),Xe("Delete failed","error")}finally{it({isOpen:!1,id:null})}},gn=()=>{if(st.trim()){const H=st.trim();[...ht,...Ot,...Bt].includes(H)||(O([...Bt,H]),ue(H),Xe("Category added")),_t(""),et(!1)}},ge=()=>{if(ei.trim()){const H=ei.trim();bt.includes(H)||(kt([...bt,H]),Rn(H),Xe("Payment method added")),Ji(""),Wt(!1)}},_a=()=>{if(be.length===0)return Xe("No data to export","error");const H=["Date","Type","Category","Payment Mode","Amount","Description"],rt=be.map(Ft=>[Ft.date.toLocaleDateString("en-IN"),Ft.type||"expense",Ft.category,Ft.paymentMode||"Cash",Ft.amount,`"${Ft.description||""}"`]),lt="data:text/csv;charset=utf-8,"+H.join(",")+`
`+rt.map(Ft=>Ft.join(",")).join(`
`),dt=document.createElement("a");dt.href=encodeURI(lt),dt.download=`fin_data_${It}.csv`,document.body.appendChild(dt),dt.click(),document.body.removeChild(dt)},Cs=rn==="expense"?[...ht,...Bt]:Ot,ri=pa(),be=vt.useMemo(()=>{const{start:H,end:rt}=ri;return i.filter(dt=>{const Ft=dt.date>=H&&dt.date<=rt,Si=V.toLowerCase(),ts=!Si||dt.category.toLowerCase().includes(Si)||(dt.description||"").toLowerCase().includes(Si)||(dt.paymentMode||"").toLowerCase().includes(Si),ai=U==="All"||dt.category===U||U==="Income"&&dt.type==="income";return Ft&&ts&&ai}).sort((dt,Ft)=>Et==="amount"?Ft.amount-dt.amount:Ft.date-dt.date)},[i,Dt,It,S,V,U,Et]),jn=vt.useMemo(()=>{let H=0,rt=0;be.forEach(Ft=>{Ft.type==="income"?H+=Ft.amount:rt+=Ft.amount});const lt=Math.abs(ri.end-ri.start),dt=Math.ceil(lt/(1e3*60*60*24))+1;return{income:H,expense:rt,balance:H-rt,dailyAvg:dt>0?Math.round(rt/dt):0}},[be,ri]),pe=vt.useMemo(()=>{const H={};let rt=0;return be.forEach(lt=>{lt.type!=="income"&&(H[lt.category]=(H[lt.category]||0)+lt.amount,rt+=lt.amount)}),Object.entries(H).map(([lt,dt])=>({name:lt,value:dt,pct:rt>0?dt/rt*100:0})).sort((lt,dt)=>dt.value-lt.value)},[be]),pn=vt.useMemo(()=>{if(It==="month")return[];const H={};return be.forEach(rt=>{if(rt.type!=="income"){const lt=It==="year"?rt.date.toLocaleDateString("en-IN",{month:"short"}):rt.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});H[lt]=(H[lt]||0)+rt.amount}}),Object.entries(H).map(([rt,lt])=>({name:rt,value:lt}))},[be,It]),In=vt.useMemo(()=>{const H={};return be.forEach(rt=>{const lt=rt.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});H[lt]||(H[lt]=[]),H[lt].push(rt)}),H},[be]),Cn=vt.useMemo(()=>{const{start:H,end:rt}=ri,lt=new Set(i.filter(dt=>dt.date>=H&&dt.date<=rt).map(dt=>dt.category));return["All",...Array.from(lt)]},[i,ri]),va=(H,rt)=>{if(rt==="income")return C.jsx(qD,{className:"w-5 h-5 text-emerald-500"});const lt=H.toLowerCase();return lt.includes("food")||lt.includes("dine")?"":lt.includes("shop")?"":lt.includes("transport")||lt.includes("fuel")?"":lt.includes("rent")?"":lt.includes("health")?"":lt.includes("entertain")?"":lt.includes("grocery")?"":""},Ta=H=>{const rt=(H||"").toLowerCase();return rt.includes("card")||rt.includes("credit")||rt.includes("debit")?C.jsx(_D,{className:"w-3 h-3 text-indigo-400"}):rt.includes("bank")||rt.includes("transfer")?C.jsx(AD,{className:"w-3 h-3 text-blue-400"}):rt.includes("upi")||rt.includes("gpay")?C.jsx(q0,{className:"w-3 h-3 text-purple-400"}):C.jsx(sD,{className:"w-3 h-3 text-green-400"})};return Nm?l?C.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:C.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?C.jsxs("div",{className:`min-h-screen font-sans pb-28 transition-colors duration-300 ${E?"bg-[#09090b] text-gray-100":"bg-slate-50 text-slate-900"}`,children:[_&&C.jsx(QD,{message:_.message,type:_.type,onClose:()=>y(null)}),C.jsx(KD,{isOpen:W.isOpen,title:"Delete Transaction?",message:"This action cannot be undone.",onConfirm:Pe,onCancel:()=>it({isOpen:!1,id:null}),isDarkMode:E}),C.jsxs("div",{className:`sticky top-0 z-20 px-5 py-4 flex justify-between items-center backdrop-blur-xl border-b ${E?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200"}`,children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:C.jsx(V1,{className:"w-5 h-5"})}),C.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"FinManager"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>A(!E),className:`p-2.5 rounded-full ${E?"bg-white/10 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:E?C.jsx(zD,{className:"w-5 h-5"}):C.jsx(VD,{className:"w-5 h-5"})}),C.jsx("button",{onClick:Rr,className:"p-2.5 rounded-full bg-red-100 text-red-500 hover:bg-red-200 transition-colors",children:C.jsx(OD,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-6",children:[C.jsxs("div",{className:"relative overflow-hidden rounded-[28px] p-6 shadow-2xl shadow-indigo-500/20 bg-gradient-to-br from-[#1e1b4b] to-[#4338ca] text-white",children:[C.jsxs("div",{className:"relative z-10",children:[C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-1",children:"Balance"}),C.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[C.jsx("span",{className:"text-indigo-300 mr-1",children:""}),jn.balance.toLocaleString("en-IN")]})]}),C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Daily Avg"}),C.jsxs("p",{className:"text-xl font-bold",children:["",jn.dailyAvg]})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[C.jsx(Wx,{className:"w-4 h-4"}),C.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),C.jsxs("p",{className:"font-semibold text-lg",children:["",jn.income.toLocaleString("en-IN")]})]}),C.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[C.jsx(q0,{className:"w-4 h-4"}),C.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),C.jsxs("p",{className:"font-semibold text-lg",children:["",jn.expense.toLocaleString("en-IN")]})]})]})]}),C.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500 rounded-full blur-[60px] opacity-30"})]}),C.jsxs("div",{className:`p-1 rounded-2xl flex ${E?"bg-[#18181b]":"bg-white border border-slate-200"}`,children:[C.jsxs("button",{onClick:()=>gt("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${Z==="list"?E?"bg-white/10 text-white":"bg-slate-100 text-slate-900":"text-gray-500"}`,children:[C.jsx(CD,{className:"w-4 h-4"})," Transactions"]}),C.jsxs("button",{onClick:()=>gt("insights"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${Z==="insights"?E?"bg-white/10 text-white":"bg-slate-100 text-slate-900":"text-gray-500"}`,children:[C.jsx(RD,{className:"w-4 h-4"})," Insights"]})]}),Z==="list"?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"sticky top-[73px] z-10 space-y-3 pb-2 pt-2 transition-colors",children:[C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("select",{value:It,onChange:H=>se(H.target.value),className:`px-3 py-2 rounded-xl text-sm font-bold border outline-none ${E?"bg-[#18181b] border-white/10 text-white":"bg-white border-slate-200 text-gray-900"}`,children:[C.jsx("option",{value:"month",children:"Monthly"}),C.jsx("option",{value:"year",children:"Yearly"}),C.jsx("option",{value:"custom",children:"Custom"})]}),It==="custom"?C.jsxs("div",{className:"flex gap-1 flex-1",children:[C.jsx("input",{type:"date",value:S.start,onChange:H=>I({...S,start:H.target.value}),className:`flex-1 min-w-0 px-2 rounded-xl border outline-none text-xs font-bold ${E?"bg-[#18181b] border-white/10 text-white":"bg-white border-slate-200 text-gray-900"}`}),C.jsx("span",{className:"self-center text-gray-400",children:"-"}),C.jsx("input",{type:"date",value:S.end,onChange:H=>I({...S,end:H.target.value}),className:`flex-1 min-w-0 px-2 rounded-xl border outline-none text-xs font-bold ${E?"bg-[#18181b] border-white/10 text-white":"bg-white border-slate-200 text-gray-900"}`})]}):C.jsxs("div",{className:`flex-1 flex items-center justify-between p-1.5 rounded-2xl border backdrop-blur-md ${E?"bg-[#09090b]/90 border-white/5":"bg-white/95 border-slate-200 shadow-sm"}`,children:[C.jsx("button",{onClick:()=>ga(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:C.jsx(dD,{className:"w-4 h-4"})}),C.jsxs("span",{className:"text-sm font-bold flex items-center gap-2",children:[C.jsx(aD,{className:"w-3 h-3 text-gray-400"}),It==="month"?Dt.toLocaleDateString("en-IN",{month:"short",year:"numeric"}):Dt.getFullYear()]}),C.jsx("button",{onClick:()=>ga(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:C.jsx(gD,{className:"w-4 h-4"})})]}),C.jsx("button",{onClick:_a,className:`p-3 rounded-2xl border flex items-center justify-center ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:C.jsx(TD,{className:"w-5 h-5 text-indigo-500"})})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:()=>yt(Et==="date"?"amount":"date"),className:`flex-1 py-2 rounded-xl border flex items-center justify-center gap-2 text-xs font-bold transition-all ${E?"bg-[#18181b] border-white/5 text-gray-400":"bg-white border-slate-200 text-slate-500"} ${Et==="amount"?"text-indigo-500 border-indigo-500/50":""}`,children:[C.jsx(eD,{className:"w-3 h-3"})," ",Et==="date"?"Date":"Amount"]}),C.jsxs("div",{className:"relative flex-[2]",children:[C.jsx(LD,{className:"absolute left-3 top-2.5 w-3 h-3 text-gray-400"}),C.jsx("input",{type:"text",placeholder:"Search...",value:V,onChange:H=>D(H.target.value),className:`w-full pl-8 pr-3 py-2 rounded-xl border outline-none text-xs ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`})]})]})]}),C.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Cn.map(H=>C.jsx("button",{onClick:()=>w(H),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${U===H?"bg-indigo-600 border-indigo-600 text-white":E?"bg-[#18181b] border-white/10 text-gray-400":"bg-white border-slate-200 text-slate-600"}`,children:H},H))})]}),C.jsxs("div",{className:"space-y-6",children:[Object.entries(In).map(([H,rt])=>C.jsxs("div",{children:[C.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 px-1",children:H}),C.jsx("div",{className:"space-y-3",children:rt.map(lt=>C.jsxs("div",{onClick:()=>Ir(lt),className:`group flex items-center gap-4 p-4 rounded-2xl border transition-all cursor-pointer active:scale-[0.98] ${E?"bg-[#18181b] border-white/5 hover:bg-white/5":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`,children:[C.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-lg ${lt.type==="income"?"bg-emerald-500/10":E?"bg-white/5":"bg-slate-100"}`,children:va(lt.category,lt.type)}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("h5",{className:"font-bold text-sm truncate",children:lt.category}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[C.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-white/5 px-1.5 py-0.5 rounded text-[10px]",children:[Ta(lt.paymentMode),lt.paymentMode||"Cash"]}),C.jsx("span",{className:"truncate max-w-[100px]",children:lt.description||"No description"})]})]}),C.jsxs("div",{className:`font-bold ${lt.type==="income"?"text-emerald-500":E?"text-gray-100":"text-slate-900"}`,children:[lt.type==="income"?"+":"-","",lt.amount.toLocaleString("en-IN")]}),C.jsx("button",{onClick:dt=>mn(lt.id,dt),className:`p-2 rounded-lg transition-all ${E?"text-gray-600 hover:text-red-400 hover:bg-white/5":"text-gray-300 hover:text-red-500 hover:bg-red-50"}`,children:C.jsx(M1,{className:"w-4 h-4"})})]},lt.id))})]},H)),Object.keys(In).length===0&&C.jsxs("div",{className:"text-center py-12 opacity-40",children:[C.jsx(bD,{className:"w-12 h-12 mx-auto mb-2"}),C.jsx("p",{children:"No transactions"})]})]})]}):C.jsxs("div",{className:"space-y-6",children:[It!=="month"&&pn.length>0&&C.jsxs("div",{className:`p-5 rounded-3xl border ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[C.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2 mb-4",children:[C.jsx(lD,{className:"w-4 h-4 text-indigo-500"}),"Spending Trend"]}),C.jsx("div",{className:"flex items-end gap-2 h-32",children:pn.map((H,rt)=>{const lt=Math.max(...pn.map(Ft=>Ft.value)),dt=lt>0?H.value/lt*100:0;return C.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-1 group",children:[C.jsx("div",{className:"w-full bg-indigo-500/20 rounded-t-sm relative h-full flex items-end",children:C.jsx("div",{className:"w-full bg-indigo-500 rounded-t-sm transition-all duration-500 group-hover:bg-indigo-400",style:{height:`${dt}%`}})}),C.jsx("span",{className:"text-[10px] text-gray-500 truncate w-full text-center",children:H.name})]},H.name)})})]}),C.jsxs("div",{className:`p-5 rounded-3xl border ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[C.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2 mb-6",children:[C.jsx(cD,{className:"w-4 h-4 text-indigo-500"}),"Spending By Category"]}),C.jsx("div",{className:"space-y-4",children:pe.length>0?pe.map((H,rt)=>C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-lg",children:va(H.name,"expense")}),C.jsx("span",{children:H.name})]}),C.jsxs("span",{children:["",H.value.toLocaleString("en-IN")," ",C.jsxs("span",{className:"text-gray-500 ml-1",children:["(",H.pct.toFixed(0),"%)"]})]})]}),C.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:C.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${H.pct}%`,opacity:1-rt*.1}})})]},H.name)):C.jsx("div",{className:"text-center text-gray-500 py-8 text-sm",children:"No expense data for this range"})})]})]})]}),C.jsx("button",{onClick:()=>Ir(),className:"fixed bottom-6 right-6 h-14 w-14 bg-indigo-600 rounded-full text-white shadow-xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-30",children:C.jsx(Zd,{className:"w-7 h-7"})}),M&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>Q(!1)}),C.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-6 rounded-t-[32px] z-50 transition-transform duration-300 animate-slide-up ${E?"bg-[#1c1c1f]":"bg-white"}`,children:[C.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6"}),C.jsxs("form",{onSubmit:ya,className:"space-y-6",children:[!He&&C.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[C.jsx("button",{type:"button",onClick:()=>ni("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${rn==="expense"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-500"}`,children:"Expense"}),C.jsx("button",{type:"button",onClick:()=>ni("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${rn==="income"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"Income"})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Amount"}),C.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[C.jsx("span",{className:`text-3xl font-bold ${rn==="income"?"text-emerald-500":"text-rose-500"}`,children:""}),C.jsx("input",{autoFocus:!0,type:"number",value:ii,onChange:H=>Wi(H.target.value),placeholder:"0",className:`text-5xl font-bold bg-transparent outline-none w-48 text-center ${E?"text-white":"text-gray-900"}`})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Category"}),Y?C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:st,onChange:H=>_t(H.target.value),placeholder:"Name...",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),C.jsx("button",{type:"button",onClick:gn,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:C.jsx(Im,{className:"w-4 h-4"})}),C.jsx("button",{type:"button",onClick:()=>et(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:C.jsx(H0,{className:"w-4 h-4"})})]}):C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("select",{value:Rs,onChange:H=>ue(H.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[C.jsx("option",{value:"",disabled:!0,children:"Select..."}),Cs.map(H=>C.jsx("option",{value:H,children:H},H))]}),rn==="expense"&&C.jsx("button",{type:"button",onClick:()=>et(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl",children:C.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),C.jsx("input",{type:"date",value:Fe,onChange:H=>si(H.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Account / Pay Via"}),Ee?C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:ei,onChange:H=>Ji(H.target.value),placeholder:"e.g. HDFC Credit Card",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),C.jsx("button",{type:"button",onClick:ge,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:C.jsx(Im,{className:"w-4 h-4"})}),C.jsx("button",{type:"button",onClick:()=>Wt(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:C.jsx(H0,{className:"w-4 h-4"})})]}):C.jsxs("div",{className:"flex gap-2",children:[C.jsx("select",{value:_e,onChange:H=>Rn(H.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:bt.map(H=>C.jsx("option",{value:H,children:H},H))}),C.jsx("button",{type:"button",onClick:()=>Wt(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl border border-transparent dark:border-white/5",children:C.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Description"}),C.jsx("input",{type:"text",placeholder:"Note (optional)",value:ma,onChange:H=>Is(H.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),C.jsxs("div",{className:"pt-2 space-y-3",children:[C.jsxs("button",{type:"submit",className:`w-full font-bold py-4 rounded-2xl shadow-lg text-white active:scale-[0.98] transition-all text-lg ${rn==="income"?"bg-emerald-600 shadow-emerald-500/20":"bg-indigo-600 shadow-indigo-500/20"}`,children:[He?"Update":"Save"," ",rn==="income"?"Income":"Expense"]}),He&&C.jsx("button",{type:"button",onClick:()=>mn(He),className:"w-full py-3.5 text-red-500 font-bold text-sm bg-red-500/10 rounded-2xl hover:bg-red-500/20 transition-colors",children:"Delete Transaction"})]})]})]})]})]}):C.jsx(YD,{onLogin:wr,error:d}):C.jsx(XD,{})}ES.createRoot(document.getElementById("root")).render(C.jsx(vt.StrictMode,{children:C.jsx($D,{})}));
