(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},Cl={};var Y_;function fS(){if(Y_)return Cl;Y_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var X_;function dS(){return X_||(X_=1,xd.exports=fS()),xd.exports}var D=dS(),Od={exports:{}},wt={};var $_;function mS(){if($_)return wt;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,Z={};function mt(O,Q,nt){this.props=O,this.context=Q,this.refs=Z,this.updater=nt||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function yt(O,Q,nt){this.props=O,this.context=Q,this.refs=Z,this.updater=nt||W}var Ht=yt.prototype=new vt;Ht.constructor=yt,st(Ht,mt.prototype),Ht.isPureReactComponent=!0;var ae=Array.isArray;function Dt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Q,nt){var rt=nt.ref;return{$$typeof:s,type:O,key:Q,ref:rt!==void 0?rt:null,props:nt}}function V(O,Q){return I(O.type,Q,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Q[nt]})}var w=/\/+/g;function ee(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,nt,rt,pt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case s:case t:Ot=!0;break;case E:return Ot=O._init,H(Ot(O._payload),Q,nt,rt,pt)}}if(Ot)return pt=pt(O),Ot=rt===""?"."+ee(O,0):rt,ae(pt)?(nt="",Ot!=null&&(nt=Ot.replace(w,"$&/")+"/"),H(pt,Q,nt,"",function(on){return on})):pt!=null&&(x(pt)&&(pt=V(pt,nt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Ot)),Q.push(pt)),1;Ot=0;var $t=rt===""?".":rt+":";if(ae(O))for(var Jt=0;Jt<O.length;Jt++)rt=O[Jt],bt=$t+ee(rt,Jt),Ot+=H(rt,Q,nt,bt,pt);else if(Jt=G(O),typeof Jt=="function")for(O=Jt.call(O),Jt=0;!(rt=O.next()).done;)rt=rt.value,bt=$t+ee(rt,Jt++),Ot+=H(rt,Q,nt,bt,pt);else if(bt==="object"){if(typeof O.then=="function")return H(ve(O),Q,nt,rt,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function et(O,Q,nt){if(O==null)return O;var rt=[],pt=0;return H(O,rt,"","",function(bt){return Q.call(nt,bt,pt++)}),rt}function ht(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:et,forEach:function(O,Q,nt){et(O,function(){Q.apply(this,arguments)},nt)},count:function(O){var Q=0;return et(O,function(){Q++}),Q},toArray:function(O){return et(O,function(Q){return Q})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=A,wt.Children=qt,wt.Component=mt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=yt,wt.StrictMode=r,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,Q,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=st({},O.props),pt=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(pt=""+Q.key),Q)!S.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(rt[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)rt.children=nt;else if(1<bt){for(var Ot=Array(bt),$t=0;$t<bt;$t++)Ot[$t]=arguments[$t+2];rt.children=Ot}return I(O.type,pt,rt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,Q,nt){var rt,pt={},bt=null;if(Q!=null)for(rt in Q.key!==void 0&&(bt=""+Q.key),Q)S.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=Q[rt]);var Ot=arguments.length-2;if(Ot===1)pt.children=nt;else if(1<Ot){for(var $t=Array(Ot),Jt=0;Jt<Ot;Jt++)$t[Jt]=arguments[Jt+2];pt.children=$t}if(O&&O.defaultProps)for(rt in Ot=O.defaultProps,Ot)pt[rt]===void 0&&(pt[rt]=Ot[rt]);return I(O,bt,pt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:g,render:O}},wt.isValidElement=x,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ht}},wt.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},wt.startTransition=function(O){var Q=C.T,nt={};C.T=nt;try{var rt=O(),pt=C.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Dt,xt)}catch(bt){xt(bt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),C.T=Q}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,Q,nt){return C.H.useActionState(O,Q,nt)},wt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},wt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,Q,nt){return C.H.useImperativeHandle(O,Q,nt)},wt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},wt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},wt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},wt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},wt.useReducer=function(O,Q,nt){return C.H.useReducer(O,Q,nt)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,Q,nt){return C.H.useSyncExternalStore(O,Q,nt)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var J_;function Dm(){return J_||(J_=1,Od.exports=mS()),Od.exports}var Et=Dm(),Md={exports:{}},Nl={},Vd={exports:{}},kd={};var Z_;function gS(){return Z_||(Z_=1,(function(s){function t(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var xt=ht-1>>>1,qt=H[xt];if(0<l(qt,et))H[xt]=et,H[ht]=qt,ht=xt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var xt=0,qt=H.length,O=qt>>>1;xt<O;){var Q=2*(xt+1)-1,nt=H[Q],rt=Q+1,pt=H[rt];if(0>l(nt,ht))rt<qt&&0>l(pt,nt)?(H[xt]=pt,H[rt]=ht,xt=rt):(H[xt]=nt,H[Q]=ht,xt=Q);else if(rt<qt&&0>l(pt,ht))H[xt]=pt,H[rt]=ht,xt=rt;else break t}}return et}function l(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,A=null,M=3,G=!1,W=!1,st=!1,Z=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Ht(H){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=H)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function ae(H){if(st=!1,Ht(H),!W)if(i(_)!==null)W=!0,Dt||(Dt=!0,U());else{var et=i(y);et!==null&&ve(ae,et.startTime-H)}}var Dt=!1,C=-1,S=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<S)}function x(){if(Z=!1,Dt){var H=s.unstable_now();I=H;var et=!0;try{t:{W=!1,st&&(st=!1,vt(C),C=-1),G=!0;var ht=M;try{e:{for(Ht(H),A=i(_);A!==null&&!(A.expirationTime>H&&V());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,M=A.priorityLevel;var qt=xt(A.expirationTime<=H);if(H=s.unstable_now(),typeof qt=="function"){A.callback=qt,Ht(H),et=!0;break e}A===i(_)&&r(_),Ht(H)}else r(_);A=i(_)}if(A!==null)et=!0;else{var O=i(y);O!==null&&ve(ae,O.startTime-H),et=!1}}break t}finally{A=null,M=ht,G=!1}et=void 0}}finally{et?U():Dt=!1}}}var U;if(typeof yt=="function")U=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=x,U=function(){ee.postMessage(null)}}else U=function(){mt(x,0)};function ve(H,et){C=mt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ht=M;M=et;try{return H()}finally{M=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=M;M=H;try{return et()}finally{M=ht}},s.unstable_scheduleCallback=function(H,et,ht){var xt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,H={id:E++,callback:et,priorityLevel:H,startTime:ht,expirationTime:qt,sortIndex:-1},ht>xt?(H.sortIndex=ht,t(y,H),i(_)===null&&H===i(y)&&(st?(vt(C),C=-1):st=!0,ve(ae,ht-xt))):(H.sortIndex=qt,t(_,H),W||G||(W=!0,Dt||(Dt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=M;return function(){var ht=M;M=et;try{return H.apply(this,arguments)}finally{M=ht}}}})(kd)),kd}var W_;function pS(){return W_||(W_=1,Vd.exports=gS()),Vd.exports}var Ud={exports:{}},en={};var tv;function yS(){if(tv)return en;tv=1;var s=Dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},en.flushSync=function(_){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=E,r.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:G}):E==="script"&&r.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},en.requestFormReset=function(_){r.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var ev;function _S(){if(ev)return Ud.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=yS(),Ud.exports}var nv;function vS(){if(nv)return Nl;nv=1;var s=pS(),t=Dm(),i=_S();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case Z:return"StrictMode";case ae:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ve=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],qt=-1;function O(e){return{current:e}}function Q(e){0>qt||(e.current=xt[qt],xt[qt]=null,qt--)}function nt(e,n){qt++,xt[qt]=e.current,e.current=n}var rt=O(null),pt=O(null),bt=O(null),Ot=O(null);function $t(e,n){switch(nt(bt,n),nt(pt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),nt(rt,e)}function Jt(){Q(rt),Q(pt),Q(bt)}function on(e){e.memoizedState!==null&&nt(Ot,e);var n=rt.current,a=__(n,e.type);n!==a&&(nt(pt,e),nt(rt,a))}function fi(e){pt.current===e&&(Q(rt),Q(pt)),Ot.current===e&&(Q(Ot),Al._currentValue=ht)}var di,mi;function Tn(e){if(di===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);di=n&&n[1]||"",mi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+e+mi}var gi=!1;function pi(e,n){if(!e||gi)return"";gi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{gi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Tn(a):""}function yi(e,n){switch(e.tag){case 26:case 27:case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return e.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return pi(e.type,!1);case 11:return pi(e.type.render,!1);case 1:return pi(e.type,!0);case 31:return Tn("Activity");default:return""}}function Ts(e){try{var n="",a=null;do n+=yi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var me=Object.prototype.hasOwnProperty,Ee=s.unstable_scheduleCallback,Mn=s.unstable_cancelCallback,Io=s.unstable_shouldYield,ha=s.unstable_requestPaint,ge=s.unstable_now,_i=s.unstable_getCurrentPriorityLevel,Es=s.unstable_ImmediatePriority,vr=s.unstable_UserBlockingPriority,Xn=s.unstable_NormalPriority,Co=s.unstable_LowPriority,fa=s.unstable_IdlePriority,da=s.log,ma=s.unstable_setDisableYieldValue,En=null,ue=null;function Qe(e){if(typeof da=="function"&&ma(e),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(En,e)}catch{}}var pe=Math.clz32?Math.clz32:Er,Tr=Math.log,bs=Math.LN2;function Er(e){return e>>>=0,e===0?32:31-(Tr(e)/bs|0)|0}var Vn=256,X=262144,it=4194304;function lt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function At(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=lt(o):(p&=T,p!==0?h=lt(p):a||(a=T&~e,a!==0&&(h=lt(a))))):(T=o&~f,T!==0?h=lt(T):p!==0?h=lt(p):a||(a=o&~e,a!==0&&(h=lt(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ft(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ki(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=it;return it<<=1,(it&62914560)===0&&(it=4194304),e}function vi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-pe(a),Y=1<<F;T[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Sr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function No(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Do(e,n){var a=n&-n;return a=(a&42)!==0?1:Ar(a),(a&(e.suspendedLanes|n))!==0?0:a}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function $n(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Jn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Jn,qe="__reactProps$"+Jn,Ti="__reactContainer$"+Jn,ga="__reactEvents$"+Jn,Uh="__reactListeners$"+Jn,ru="__reactHandles$"+Jn,au="__reactResources$"+Jn,Ei="__reactMarker$"+Jn;function pa(e){delete e[Ce],delete e[qe],delete e[ga],delete e[Uh],delete e[ru]}function bi(e){var n=e[Ce];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ti]||a[Ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Ce])return a;e=w_(e)}return n}e=a,a=e.parentNode}return null}function kn(e){if(e=e[Ce]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Si(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[Ei]=!0}var xo=new Set,Oo={};function Ai(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(Oo[e]=n,e=0;e<n.length;e++)xo.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function ou(e){return me.call(ko,e)?!0:me.call(Vo,e)?!1:Mo.test(e)?ko[e]=!0:(Vo[e]=!0,!1)}function ya(e,n,a){if(ou(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Sn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function De(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Uo(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function hn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Lo(e,p,He(n)):a!=null?Lo(e,p,He(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function lu(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}a=a!=null?""+He(a):"",n=n!=null?""+He(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zt(e)}function Lo(e,n,a){n==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,a){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+He(a):""}function ws(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ve(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=He(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Zt(e)}function fn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||cu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function zo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Po(e,f,n[f])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var jo=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ii=null;function Ir(e){var n=kn(e);if(n&&(e=n.stateNode)){var a=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(r(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&wr(o)}break t;case"textarea":uu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&As(e,!!a.multiple,n,!1)}}}var Ea=!1;function Cs(e,n,a){if(Ea)return e(n,a);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(Is!==null||Ii!==null)&&(sc(),Is&&(n=Is,e=Ii,Ii=Is=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function Wn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[qe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Cr=!1}var Ci=null,Bo=null,Nr=null;function qo(){if(Nr)return Nr;var e,n=Bo,a=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Nr=h.slice(e,1<o?1-o:void 0)}function Dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function ti(){return!1}function Ke(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ti,this.isPropagationStopped=ti,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Ke($i),Ns=A({},$i,{view:0,detail:0}),Ho=Ke(Ns),Ds,ba,Di,Sa=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Ds=e.screenX-Di.screenX,ba=e.screenY-Di.screenY):ba=Ds=0,Di=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Fo=Ke(Sa),xr=A({},Sa,{dataTransfer:0}),fu=Ke(xr),du=A({},Ns,{relatedTarget:0}),Or=Ke(du),Go=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Ke(Go),Aa=A({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Ke(Aa),pu=A({},$i,{data:0}),xi=Ke(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function xs(){return Tu}var ln=A({},Ns,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Ke(ln),bu=A({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ke(bu),u=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Ke(u),v=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(v),L=A({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(L),tt=A({},$i,{newState:0,oldState:0}),It=Ke(tt),Ae=[9,13,27,32],Kt=Ln&&"CompositionEvent"in window,ye=null;Ln&&"documentMode"in document&&(ye=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!ye,Oi=Ln&&(!Kt||ye&&8<ye&&11>=ye),ei=" ",ni=!1;function Mr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function U1(e,n){switch(e){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function L1(e,n){if(Ra)return e==="compositionend"||!Kt&&Mr(e,n)?(e=qo(),Nr=Bo=Ci=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P1[e.type]:n==="textarea"}function Ng(e,n,a,o){Is?Ii?Ii.push(o):Ii=[o]:Is=o,n=hc(n,"onChange"),0<n.length&&(a=new Ni("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Qo=null,Ko=null;function z1(e){h_(e,0)}function Su(e){var n=bn(e);if(wr(n))return e}function Dg(e,n){if(e==="change")return n}var xg=!1;if(Ln){var Lh;if(Ln){var Ph="oninput"in document;if(!Ph){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Ph=typeof Og.oninput=="function"}Lh=Ph}else Lh=!1;xg=Lh&&(!document.documentMode||9<document.documentMode)}function Mg(){Qo&&(Qo.detachEvent("onpropertychange",Vg),Ko=Qo=null)}function Vg(e){if(e.propertyName==="value"&&Su(Ko)){var n=[];Ng(n,Ko,e,Un(e)),Cs(z1,n)}}function j1(e,n,a){e==="focusin"?(Mg(),Qo=n,Ko=a,Qo.attachEvent("onpropertychange",Vg)):e==="focusout"&&Mg()}function B1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Ko)}function q1(e,n){if(e==="click")return Su(n)}function H1(e,n){if(e==="input"||e==="change")return Su(n)}function F1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:F1;function Yo(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!me.call(n,h)||!An(e[h],n[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ri(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ri(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G1=Ln&&"documentMode"in document&&11>=document.documentMode,Ia=null,jh=null,Xo=null,Bh=!1;function zg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||Ia==null||Ia!==Ri(o)||(o=Ia,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Yo(Xo,o)||(Xo=o,o=hc(jh,"onSelect"),0<o.length&&(n=new Ni("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ia)))}function Vr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ca={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},qh={},jg={};Ln&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function kr(e){if(qh[e])return qh[e];if(!Ca[e])return e;var n=Ca[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jg)return qh[e]=n[a];return e}var Bg=kr("animationend"),qg=kr("animationiteration"),Hg=kr("animationstart"),Q1=kr("transitionrun"),K1=kr("transitionstart"),Y1=kr("transitioncancel"),Fg=kr("transitionend"),Gg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ii(e,n){Gg.set(e,n),Ai(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Na=0,Fh=0;function wu(){for(var e=Na,n=Fh=Na=0;n<e;){var a=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Qg(a,h,f)}}function Ru(e,n,a,o){zn[Na++]=e,zn[Na++]=n,zn[Na++]=a,zn[Na++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return Ru(e,n,a,o),Iu(e)}function Ur(e,n){return Ru(e,null,null,n),Iu(e)}function Qg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(e){if(50<yl)throw yl=0,ed=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function X1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,a,o){return new X1(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var a=e.alternate;return a===null?(a=wn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=tS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=wn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return Lr(a.children,h,f,n);case Z:p=8,h|=24;break;case mt:return e=wn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case ae:return e=wn(13,a,n,h),e.elementType=ae,e.lanes=f,e;case Dt:return e=wn(19,a,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case vt:p=9;break t;case Ht:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=wn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,a,o){return e=wn(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=wn(6,e,null,n),e.lanes=a,e}function Yg(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ts(n)},Xg.set(e,n),n)}return{value:e,source:n,stack:Ts(n)}}var xa=[],Oa=0,Nu=null,$o=0,Bn=[],qn=0,Os=null,Mi=1,Vi="";function Wi(e,n){xa[Oa++]=$o,xa[Oa++]=Nu,Nu=e,$o=n}function $g(e,n,a){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=Os,Os=e;var o=Mi;e=Vi;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-pe(n)+h|a<<h|o,Vi=f+e}else Mi=1<<f|a<<h|o,Vi=e}function Xh(e){e.return!==null&&(Wi(e,1),$g(e,1,0))}function $h(e){for(;e===Nu;)Nu=xa[--Oa],xa[Oa]=null,$o=xa[--Oa],xa[Oa]=null;for(;e===Os;)Os=Bn[--qn],Bn[qn]=null,Vi=Bn[--qn],Bn[qn]=null,Mi=Bn[--qn],Bn[qn]=null}function Jg(e,n){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=Os,Mi=n.id,Vi=n.overflow,Os=e}var Ye=null,he=null,jt=!1,Ms=null,Hn=!1,Jh=Error(r(519));function Vs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(jn(n,e)),Jh}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ce]=e,n[qe]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)Vt(vl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||g_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Vs(e,!0)}function Wg(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ye=Ye.return}}function Ma(e){if(e!==Ye)return!1;if(!jt)return Wg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&he&&Vs(e),Wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=A_(e)}else n===27?(n=he,Ys(e.type)?(e=Ed,Ed=null,he=e):he=n):he=Ye?Gn(e.stateNode.nextSibling):null;return!0}function Pr(){he=Ye=null,jt=!1}function Zh(){var e=Ms;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ms=null),e}function Jo(e){Ms===null?Ms=[e]:Ms.push(e)}var Wh=O(null),zr=null,ts=null;function ks(e,n,a){nt(Wh,n._currentValue),n._currentValue=a}function es(e){e._currentValue=Wh.current,Q(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),tf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;An(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ot.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,ts=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return tp(zr,e)}function xu(e,n){return zr===null&&jr(e),tp(e,n)}function tp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(e===null)throw Error(r(308));ts=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ts=ts.next=n;return a}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},J1=s.unstable_scheduleCallback,Z1=s.unstable_NormalPriority,xe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new $1,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&J1(Z1,function(){e.controller.abort()})}var Wo=null,sf=0,ka=0,Ua=null;function W1(e,n){if(Wo===null){var a=Wo=[];sf=0,ka=od(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(ep,ep),n}function ep(){if(--sf===0&&Wo!==null){Ua!==null&&(Ua.status="fulfilled");var e=Wo;Wo=null,ka=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=H.S;H.S=function(e,n){zy=ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W1(e,n),np!==null&&np(e,n)};var Br=O(null);function rf(){var e=Br.current;return e!==null?e:oe.pooledCache}function Ou(e,n){n===null?nt(Br,Br.current):nt(Br,n.pool)}function ip(){var e=rf();return e===null?null:{parent:xe._currentValue,pool:e}}var La=Error(r(460)),af=Error(r(474)),Mu=Error(r(542)),Vu={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Zn,Zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e}throw Hr=n,La}}function qr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,La):a}}var Hr=null;function ap(){if(Hr===null)throw Error(r(459));var e=Hr;return Hr=null,e}function op(e){if(e===La||e===Mu)throw Error(r(483))}var Pa=null,tl=0;function ku(e){var n=tl;return tl+=1,Pa===null&&(Pa=[]),rp(Pa,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Zi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,N,P,K){return N===null||N.tag!==6?(N=Kh(P,k.mode,K),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,K){var ft=P.type;return ft===st?F(k,N,P.props.children,K,P.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&qr(ft)===N.type)?(N=h(N,P.props),el(N,P),N.return=k,N):(N=Cu(P.type,P.key,P.props,null,k.mode,K),el(N,P),N.return=k,N)}function z(k,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Yh(P,k.mode,K),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function F(k,N,P,K,ft){return N===null||N.tag!==7?(N=Lr(P,k.mode,K,ft),N.return=k,N):(N=h(N,P),N.return=k,N)}function Y(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return P=Cu(N.type,N.key,N.props,null,k.mode,P),el(P,N),P.return=k,P;case W:return N=Yh(N,k.mode,P),N.return=k,N;case S:return N=qr(N),Y(k,N,P)}if(ve(N)||U(N))return N=Lr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return Y(k,ku(N),P);if(N.$$typeof===yt)return Y(k,xu(k,N),P);Uu(k,N)}return null}function j(k,N,P,K){var ft=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:T(k,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ft?R(k,N,P,K):null;case W:return P.key===ft?z(k,N,P,K):null;case S:return P=qr(P),j(k,N,P,K)}if(ve(P)||U(P))return ft!==null?null:F(k,N,P,K,null);if(typeof P.then=="function")return j(k,N,ku(P),K);if(P.$$typeof===yt)return j(k,N,xu(k,P),K);Uu(k,P)}return null}function q(k,N,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(N,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,R(N,k,K,ft);case W:return k=k.get(K.key===null?P:K.key)||null,z(N,k,K,ft);case S:return K=qr(K),q(k,N,P,K,ft)}if(ve(K)||U(K))return k=k.get(P)||null,F(N,k,K,ft,null);if(typeof K.then=="function")return q(k,N,P,ku(K),ft);if(K.$$typeof===yt)return q(k,N,P,xu(N,K),ft);Uu(N,K)}return null}function ot(k,N,P,K){for(var ft=null,Gt=null,ut=N,Nt=N=0,Ut=null;ut!==null&&Nt<P.length;Nt++){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var Qt=j(k,ut,P[Nt],K);if(Qt===null){ut===null&&(ut=Ut);break}e&&ut&&Qt.alternate===null&&n(k,ut),N=f(Qt,N,Nt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt,ut=Ut}if(Nt===P.length)return a(k,ut),jt&&Wi(k,Nt),ft;if(ut===null){for(;Nt<P.length;Nt++)ut=Y(k,P[Nt],K),ut!==null&&(N=f(ut,N,Nt),Gt===null?ft=ut:Gt.sibling=ut,Gt=ut);return jt&&Wi(k,Nt),ft}for(ut=o(ut);Nt<P.length;Nt++)Ut=q(ut,k,Nt,P[Nt],K),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Nt:Ut.key),N=f(Ut,N,Nt),Gt===null?ft=Ut:Gt.sibling=Ut,Gt=Ut);return e&&ut.forEach(function(Ws){return n(k,Ws)}),jt&&Wi(k,Nt),ft}function gt(k,N,P,K){if(P==null)throw Error(r(151));for(var ft=null,Gt=null,ut=N,Nt=N=0,Ut=null,Qt=P.next();ut!==null&&!Qt.done;Nt++,Qt=P.next()){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var Ws=j(k,ut,Qt.value,K);if(Ws===null){ut===null&&(ut=Ut);break}e&&ut&&Ws.alternate===null&&n(k,ut),N=f(Ws,N,Nt),Gt===null?ft=Ws:Gt.sibling=Ws,Gt=Ws,ut=Ut}if(Qt.done)return a(k,ut),jt&&Wi(k,Nt),ft;if(ut===null){for(;!Qt.done;Nt++,Qt=P.next())Qt=Y(k,Qt.value,K),Qt!==null&&(N=f(Qt,N,Nt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt);return jt&&Wi(k,Nt),ft}for(ut=o(ut);!Qt.done;Nt++,Qt=P.next())Qt=q(ut,k,Nt,Qt.value,K),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?Nt:Qt.key),N=f(Qt,N,Nt),Gt===null?ft=Qt:Gt.sibling=Qt,Gt=Qt);return e&&ut.forEach(function(hS){return n(k,hS)}),jt&&Wi(k,Nt),ft}function re(k,N,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ft=P.key;N!==null;){if(N.key===ft){if(ft=P.type,ft===st){if(N.tag===7){a(k,N.sibling),K=h(N,P.props.children),K.return=k,k=K;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&qr(ft)===N.type){a(k,N.sibling),K=h(N,P.props),el(K,P),K.return=k,k=K;break t}a(k,N);break}else n(k,N);N=N.sibling}P.type===st?(K=Lr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Cu(P.type,P.key,P.props,null,k.mode,K),el(K,P),K.return=k,k=K)}return p(k);case W:t:{for(ft=P.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(k,N.sibling),K=h(N,P.children||[]),K.return=k,k=K;break t}else{a(k,N);break}else n(k,N);N=N.sibling}K=Yh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=qr(P),re(k,N,P,K)}if(ve(P))return ot(k,N,P,K);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),gt(k,N,P,K)}if(typeof P.then=="function")return re(k,N,ku(P),K);if(P.$$typeof===yt)return re(k,N,xu(k,P),K);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(k,N.sibling),K=h(N,P),K.return=k,k=K):(a(k,N),K=Kh(P,k.mode,K),K.return=k,k=K),p(k)):a(k,N)}return function(k,N,P,K){try{tl=0;var ft=re(k,N,P,K);return Pa=null,ft}catch(ut){if(ut===La||ut===Mu)throw ut;var Gt=wn(29,ut,null,k.mode);return Gt.lanes=K,Gt.return=k,Gt}}}var Fr=lp(!0),up=lp(!1),Us=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Qg(e,null,a),n}return Ru(e,o,n,a),Iu(e)}function nl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function il(){if(cf){var e=Ua;if(e!==null)throw e}}function sl(e,n,a,o){cf=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,F=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(kt&j)===j:(o&j)===j){j!==0&&j===ka&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,gt=T;j=n;var re=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Y=ot.call(re,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(re,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Us=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,R=Y):F=F.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Hs|=p,e.lanes=p,e.memoizedState=Y}}function cp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function hp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cp(a[e],n)}var za=O(null),Lu=O(0);function fp(e,n){e=cs,nt(Lu,e),nt(za,n),cs=e|n.baseLanes}function hf(){nt(Lu,cs),nt(za,za.current)}function ff(){cs=Lu.current,Q(za),Q(Lu)}var Rn=O(null),Fn=null;function zs(e){var n=e.alternate;nt(we,we.current&1),nt(Rn,e),Fn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Fn=e)}function df(e){nt(we,we.current),nt(Rn,e),Fn===null&&(Fn=e)}function dp(e){e.tag===22?(nt(we,we.current),nt(Rn,e),Fn===null&&(Fn=e)):js()}function js(){nt(we,we.current),nt(Rn,Rn.current)}function In(e){Q(Rn),Fn===e&&(Fn=null),Q(we)}var we=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ct=null,ie=null,Oe=null,zu=!1,ja=!1,Gr=!1,ju=0,rl=0,Ba=null,eb=0;function be(){throw Error(r(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!An(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return ns=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?$p:Df,Gr=!1,f=a(o,h),Gr=!1,ja&&(f=gp(n,a,o,h)),mp(e),f}function mp(e){H.H=ll;var n=ie!==null&&ie.next!==null;if(ns=0,Oe=ie=Ct=null,zu=!1,rl=0,Ba=null,n)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&Du(e)&&(Me=!0))}function gp(e,n,a,o){Ct=e;var h=0;do{if(ja&&(Ba=null),rl=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,Oe=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Jp,f=n(a,o)}while(ja);return f}function nb(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),n}function pf(){var e=ju!==0;return ju=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}ns=0,Oe=ie=Ct=null,ja=!1,rl=ju=0,Ba=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ct.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Re(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Oe===null?Ct.memoizedState:Oe.next;if(n!==null)Oe=n,ie=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Oe===null?Ct.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=rl;return rl+=1,Ba===null&&(Ba=[]),e=rp(Ba,e,n),n=Ct,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$p:Df),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===yt)return Xe(e)}throw Error(r(438,String(e)))}function vf(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function is(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=Re();return Tf(n,ie,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(kt&Y)===Y:(ns&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ka&&(F=!0);else if((ns&j)===j){z=z.next,j===ka&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Y,p=f):R=R.next=Y,Ct.lanes|=j,Hs|=j;Y=z.action,Gr&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,Ct.lanes|=Y,Hs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!An(f,e.memoizedState)&&(Me=!0,F&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=Re(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(e,n,a){var o=Ct,h=Re(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!An((ie||h).memoizedState,a);if(p&&(h.memoizedState=a,Me=!0),h=h.queue,Af(vp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,h,a,n),null),oe===null)throw Error(r(349));f||(ns&127)!==0||yp(o,n,a)}return a}function yp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Bu(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _p(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Ep(e)}function vp(e,n,a){return a(function(){Tp(n)&&Ep(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!An(e,a)}catch{return!0}}function Ep(e){var n=Ur(e,2);n!==null&&yn(n,e,2)}function bf(e){var n=un();if(typeof e=="function"){var a=e;if(e=a(),Gr){Qe(!0);try{a()}finally{Qe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},n}function bp(e,n,a,o){return e.baseState=a,Tf(e,ie,typeof o=="function"?o:is)}function ib(e,n,a,o,h){if(Qu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var T=a(h,o),R=H.S;R!==null&&R(p,T),Ap(e,n,T)}catch(z){Sf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),Ap(e,n,f)}catch(z){Sf(e,n,z)}}function Ap(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(e,n,o)},function(o){return Sf(e,n,o)}):wp(e,n,a)}function wp(e,n,a){n.status="fulfilled",n.value=a,Rp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sp(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rp(n),n=n.next;while(n!==o)}e.action=null}function Rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function Cp(e,n){if(jt){var a=oe.formState;if(a!==null){t:{var o=Ct;if(jt){if(he){e:{for(var h=he,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Gn(h.nextSibling),o=h.data==="F!";break t}}Vs(o)}o=!1}o&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Kp.bind(null,Ct,o),o.dispatch=a,o=bf(!1),f=Nf.bind(null,Ct,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=ib.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Np(e){var n=Re();return Dp(n,ie,e)}function Dp(e,n,a){if(n=Tf(e,n,Ip)[0],e=Hu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(p){throw p===La?Mu:p}else o=n;n=Re();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,qa(9,{destroy:void 0},sb.bind(null,h,a),null)),[o,f,e]}function sb(e,n){e.action=n}function xp(e){var n=Re(),a=ie;if(a!==null)return Dp(n,a,e);Re(),n=n.memoizedState,a=Re();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function qa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Bu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return Re().memoizedState}function Fu(e,n,a,o){var h=un();Ct.flags|=e,h.memoizedState=qa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Gu(e,n,a,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&mf(o,ie.memoizedState.deps)?h.memoizedState=qa(n,f,a,o):(Ct.flags|=e,h.memoizedState=qa(1|n,f,a,o))}function Mp(e,n){Fu(8390656,8,e,n)}function Af(e,n){Gu(2048,8,e,n)}function rb(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Bu(),Ct.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vp(e){var n=Re().memoizedState;return rb({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(e,n){return Gu(4,2,e,n)}function Up(e,n){return Gu(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,a){a=a!=null?a.concat([e]):null,Gu(4,4,Lp.bind(null,n,e),a)}function wf(){}function zp(e,n){var a=Re();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jp(e,n){var a=Re();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Gr){Qe(!0);try{e()}finally{Qe(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(ns&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),Ct.lanes|=e,Hs|=e,a)}function Bp(e,n,a,o){return An(a,n)?a:za.current!==null?(e=Rf(e,a,o),An(e,n)||(Me=!0),e):(ns&42)===0||(ns&1073741824)!==0&&(kt&261930)===0?(Me=!0,e.memoizedState=a):(e=By(),Ct.lanes|=e,Hs|=e,n)}function qp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,T={};H.T=T,Nf(e,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=tb(R,o);ol(e,n,F,Dn(e))}else ol(e,n,o,Dn(e))}catch(Y){ol(e,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{et.p=f,p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}function ab(){}function If(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Hp(e).queue;qp(e,h,n,ht,a===null?ab:function(){return Fp(e),a(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Hp(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},Dn())}function Cf(){return Xe(Al)}function Gp(){return Re().memoizedState}function Qp(){return Re().memoizedState}function ob(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Dn();e=Ls(a);var o=Ps(n,e,a);o!==null&&(yn(o,n,a),nl(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function lb(e,n,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Yp(n,a):(a=Gh(e,n,a,o),a!==null&&(yn(a,e,o),Xp(a,n,o)))}function Kp(e,n,a){var o=Dn();ol(e,n,a,o)}function ol(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,An(T,p))return Ru(e,n,h,0),oe===null&&wu(),!1}catch{}if(a=Gh(e,n,h,o),a!==null)return yn(a,e,o),Xp(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(r(479))}else n=Gh(e,a,o,2),n!==null&&yn(n,e,2)}function Qu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Yp(e,n){ja=zu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}var ll={readContext:Xe,use:qu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};ll.useEffectEvent=be;var $p={readContext:Xe,use:qu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:Mp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Fu(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var a=un();n=n===void 0?null:n;var o=e();if(Gr){Qe(!0);try{e()}finally{Qe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=un();if(a!==void 0){var h=a(n);if(Gr){Qe(!0);try{a(n)}finally{Qe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=lb.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,a=Kp.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=un();return Rf(a,e,n)},useTransition:function(){var e=bf(!1);return e=qp.bind(null,Ct,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=un();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),oe===null)throw Error(r(349));(kt&127)!==0||yp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mp(vp.bind(null,o,f,e),[e]),o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,f,a,n),null),a},useId:function(){var e=un(),n=oe.identifierPrefix;if(jt){var a=Vi,o=Mi;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return un().memoizedState=ob.bind(null,Ct)},useEffectEvent:function(e){var n=un(),a={impl:e};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Xe,use:qu,useCallback:zp,useContext:Xe,useEffect:Af,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Hu,useRef:Op,useState:function(){return Hu(is)},useDebugValue:wf,useDeferredValue:function(e,n){var a=Re();return Bp(a,ie.memoizedState,e,n)},useTransition:function(){var e=Hu(is)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=Re();return bp(a,ie,e,n)},useMemoCache:vf,useCacheRefresh:Qp};Df.useEffectEvent=Vp;var Jp={readContext:Xe,use:qu,useCallback:zp,useContext:Xe,useEffect:Af,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Ef,useRef:Op,useState:function(){return Ef(is)},useDebugValue:wf,useDeferredValue:function(e,n){var a=Re();return ie===null?Rf(a,e,n):Bp(a,ie.memoizedState,e,n)},useTransition:function(){var e=Ef(is)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=Re();return ie!==null?bp(a,ie,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Qp};Jp.useEffectEvent=Vp;function xf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Of={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Dn(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(yn(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Dn(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(yn(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Dn(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,a),n!==null&&(yn(n,e,a),nl(n,e,a))}};function Zp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Yo(a,o)||!Yo(h,f):!0}function Wp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){Au(e)}function ey(e){console.error(e)}function ny(e){Au(e)}function Ku(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,n)},a}function sy(e){return e=Ls(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){iy(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function ub(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?rc():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(r(435,a.tag))}return sd(e,o,h),rc(),!1}if(jt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(r(422),{cause:o}),Jo(jn(e,a)))):(o!==Jh&&(n=Error(r(423),{cause:o}),Jo(jn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,a),h=Mf(e.stateNode,o,h),uf(e,h),Se!==4&&(Se=2)),!1;var f=Error(r(520),{cause:o});if(f=jn(f,a),pl===null?pl=[f]:pl.push(f),Se!==4&&(Se=2),n===null)return!0;o=jn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),Me=!1;function $e(e,n,a,o){n.child=e===null?up(n,null,a,o):Fr(n,e.child,a,o)}function ay(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return jr(n),o=gf(e,n,a,p,f,h),T=pf(),e!==null&&!Me?(yf(e,n,h),ss(e,n,h)):(jt&&T&&Xh(n),n.flags|=1,$e(e,n,o,h),n.child)}function oy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(e,n,f,o,h)):(e=Cu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(p,o)&&e.ref===n.ref)return ss(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Yo(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,ss(e,n,h)}return kf(e,n,a,o,h)}function uy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?fp(n,f):hf(),dp(n);else return o=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ou(n,f.cachePool),fp(n,f),js(),n.memoizedState=null):(e!==null&&Ou(n,null),hf(),js());return $e(e,n,h,a),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ou(n,null),hf(),dp(n),e!==null&&Va(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return Fr(n,e.child,null,a),e=Yu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function cb(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,ul(null,e);if(df(n),(e=he)?(e=S_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Ye=n,he=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Me||Va(e,n,a,!1),h=(a&e.childLanes)!==0,Me||h){if(o=oe,o!==null&&(p=Do(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ur(e,p),yn(o,e,p),Vf;rc(),n=hy(e,n,a)}else e=f.treeContext,he=Gn(p.nextSibling),Ye=n,jt=!0,Ms=null,Hn=!1,e!==null&&Jg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,o,h){return jr(n),a=gf(e,n,a,o,void 0,h),o=pf(),e!==null&&!Me?(yf(e,n,h),ss(e,n,h)):(jt&&o&&Xh(n),n.flags|=1,$e(e,n,a,h),n.child)}function fy(e,n,a,o,h,f){return jr(n),n.updateQueue=null,a=gp(n,o,a,h),mp(e),o=pf(),e!==null&&!Me?(yf(e,n,f),ss(e,n,f)):(jt&&o&&Xh(n),n.flags|=1,$e(e,n,a,f),n.child)}function dy(e,n,a,o,h){if(jr(n),n.stateNode===null){var f=Da,p=a.contextType;typeof p=="object"&&p!==null&&(f=Xe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Xe(p):Da,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(xf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),sl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Qr(a,T);f.props=R;var z=f.context,F=a.contextType;p=Da,typeof F=="object"&&F!==null&&(p=Xe(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Wp(n,f,o,p),Us=!1;var j=n.memoizedState;f.state=j,sl(n,o,f,h),il(),z=n.memoizedState,T||j!==z||Us?(typeof Y=="function"&&(xf(n,a,Y,o),z=n.memoizedState),(R=Us||Zp(n,a,R,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,F=Qr(a,p),f.props=F,Y=n.pendingProps,j=f.context,z=a.contextType,R=Da,typeof z=="object"&&z!==null&&(R=Xe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==R)&&Wp(n,f,o,R),Us=!1,j=n.memoizedState,f.state=j,sl(n,o,f,h),il();var q=n.memoizedState;p!==Y||j!==q||Us||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(xf(n,a,T,o),q=n.memoizedState),(F=Us||Zp(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,a,h)):$e(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ss(e,n,h),e}function my(e,n,a,o){return Pr(),n.flags|=256,$e(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:ip()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nn),e}function gy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?zs(n):js(),(e=he)?(e=S_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Ye=n,he=null)):e=null,e===null)throw Vs(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(js(),h=n.mode,T=$u({mode:"hidden",children:T},h),o=Lr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,ul(null,o)):(zs(n),zf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=jf(e,n,a)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),T=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),T=Lr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Fr(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,n=ul(null,o));else if(zs(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Jo({value:o,source:null,stack:null}),n=jf(e,n,a)}else if(Me||Va(e,n,a,!1),p=(a&e.childLanes)!==0,Me||p){if(p=oe,p!==null&&(o=Do(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ur(e,o),yn(p,e,o),Vf;vd(T)||rc(),n=jf(e,n,a)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,he=Gn(T.nextSibling),Ye=n,jt=!0,Ms=null,Hn=!1,e!==null&&Jg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(js(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Zi(z,T):(T=Lr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,ul(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(R=xe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ip(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,p,a),n.memoizedState=Uf,ul(e.child,o)):(zs(n),a=e.child,e=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function jf(e,n,a){return Fr(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function Bf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function yy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=we.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,nt(we,p),$e(e,n,o,a),o=jt?$o:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,n);else if(e.tag===19)py(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ss(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Zi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Zi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function hb(e,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),ks(n,xe,e.memoizedState.cache),Pr();break;case 27:case 5:on(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(e,n,a):(zs(n),e=ss(e,n,a),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(we,we.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:ks(n,xe,e.memoizedState.cache)}return ss(e,n,a)}function _y(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!qf(e,a)&&(n.flags&128)===0)return Me=!1,hb(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,jt&&(n.flags&1048576)!==0&&$g(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Qr(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=ay(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=ee(e)||e,Error(r(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Qr(o,n.pendingProps),dy(e,n,o,h,a);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),sl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,ks(n,xe,o),o!==f.cache&&ef(n,[xe],a,!0),il(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,a);break t}else if(o!==h){h=jn(Error(r(424)),n),Jo(h),n=my(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Gn(e.firstChild),Ye=n,jt=!0,Ms=null,Hn=!0,a=up(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pr(),o===h){n=ss(e,n,a);break t}$e(e,n,o,a)}n=n.child}return n;case 26:return Xu(e,n),e===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=fc(bt.current).createElement(a),o[Ce]=n,o[qe]=e,Je(o,a,e),Ne(o),n.stateNode=o):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return on(n),e===null&&jt&&(o=n.stateNode=R_(n.type,n.pendingProps,bt.current),Ye=n,Hn=!0,h=he,Ys(n.type)?(Ed=h,he=Gn(o.firstChild)):he=h),$e(e,n,n.pendingProps.children,a),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=he)&&(o=Bb(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Ye=n,he=Gn(o.firstChild),Hn=!1,h=!0):h=!1),h||Vs(n)),on(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,nb,null,null,a),Al._currentValue=h),Xu(e,n),$e(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=he)&&(a=qb(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,Ye=n,he=null,e=!0):e=!1),e||Vs(n)),null;case 13:return gy(e,n,a);case 4:return $t(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,a):$e(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return $e(e,n,n.pendingProps,a),n.child;case 8:return $e(e,n,n.pendingProps.children,a),n.child;case 12:return $e(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),$e(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return cb(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return jr(n),o=Xe(xe),e===null?(h=rf(),h===null&&(h=oe,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),ks(n,xe,h)):((e.lanes&a)!==0&&(lf(e,n),sl(n,null,null,a),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,xe,o)):(o=f.cache,ks(n,xe,o),o!==h.cache&&ef(n,[xe],a,!0))),$e(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function rs(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Hr=Vu,af}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Hr=Vu,af}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Qa|=n)}function cl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function fb(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(xe),Jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(n)?rs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(rs(n),f!==null?(fe(n),vy(n,f)):(fe(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(rs(n),fe(n),vy(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&rs(n),fe(n),Hf(n,h,e,o,a)),null;case 27:if(fi(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}e=rt.current,Ma(n)?Zg(n):(e=R_(h,o,a),n.stateNode=e,rs(n))}return fe(n),null;case 5:if(fi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=rt.current,Ma(n))Zg(n);else{var p=fc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ce]=n,f[qe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&rs(n)}}return fe(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Ma(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||Vs(n,!0)}else e=fc(e).createTextNode(o),e[Ce]=n,n.stateNode=e}return fe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ma(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ce]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ce]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Ju(n,n.updateQueue),fe(n),null);case 4:return Jt(),e===null&&hd(n.stateNode.containerInfo),fe(n),null;case 10:return es(n.type),fe(n),null;case 19:if(Q(we),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Kg(a,e),a=a.sibling;return nt(we,we.current&1|2),jt&&Wi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ge()>nc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return fe(n),null}else 2*ge()-o.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ge(),e.sibling=null,a=we.current,nt(we,h?a&1|2:a&1),jt&&Wi(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return In(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&Ju(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Q(Br),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(xe),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function db(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return es(xe),Jt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(we),null;case 4:return Jt(),null;case 10:return es(n.type),null;case 22:case 23:return In(n),ff(),e!==null&&Q(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return es(xe),null;case 25:return null;default:return null}}function Ty(e,n){switch($h(n),n.tag){case 3:es(xe),Jt();break;case 26:case 27:case 5:fi(n);break;case 4:Jt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Q(we);break;case 10:es(n.type);break;case 22:case 23:In(n),ff(),e!==null&&Q(Br);break;case 24:es(xe)}}function hl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){te(n,n.return,T)}}function Bs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(F){te(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){te(n,n.return,F)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hp(n,a)}catch(o){te(e,e.return,o)}}}function by(e,n,a){a.props=Qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,n,o)}}function fl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,n,h)}}function ki(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,n,h)}else a.current=null}function Sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;kb(o,e.type,a,n),o[qe]=n}catch(h){te(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function Zu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zu(e,n,a),e=e.sibling;e!==null;)Zu(e,n,a),e=e.sibling}function wy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,a),n[Ce]=e,n[qe]=a}catch(f){te(e,e.return,f)}}var as=!1,Ve=!1,Kf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function mb(e,n){if(e=e.containerInfo,md=vc,e=Pg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(T=p),j===f&&++F===o&&(R=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},vc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Qr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){te(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function Iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ls(e,a),o&4&&hl(5,a);break;case 1:if(ls(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){te(a,a.return,p)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){te(a,a.return,p)}}o&64&&Ey(a),o&512&&fl(a,a.return);break;case 3:if(ls(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(e,n)}catch(p){te(a,a.return,p)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:ls(e,a),n===null&&o&4&&Sy(a),o&512&&fl(a,a.return);break;case 12:ls(e,a);break;case 31:ls(e,a),o&4&&Dy(e,a);break;case 13:ls(e,a),o&4&&xy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Sb.bind(null,a),Hb(e,a))));break;case 22:if(o=a.memoizedState!==null||as,!o){n=n!==null&&n.memoizedState!==null||Ve,h=as;var f=Ve;as=o,(Ve=n)&&!f?us(e,a,(a.subtreeFlags&8772)!==0):ls(e,a),as=h,Ve=f}break;case 30:break;default:ls(e,a)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&pa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,dn=!1;function os(e,n,a){for(a=a.child;a!==null;)Ny(e,n,a),a=a.sibling}function Ny(e,n,a){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 26:Ve||ki(a,n),os(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||ki(a,n);var o=_e,h=dn;Ys(a.type)&&(_e=a.stateNode,dn=!1),os(e,n,a),El(a.stateNode),_e=o,dn=h;break;case 5:Ve||ki(a,n);case 6:if(o=_e,h=dn,_e=null,os(e,n,a),_e=o,dn=h,_e!==null)if(dn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:_e!==null&&(dn?(e=_e,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):E_(_e,a.stateNode));break;case 4:o=_e,h=dn,_e=a.stateNode.containerInfo,dn=!0,os(e,n,a),_e=o,dn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Ve||Bs(4,a,n),os(e,n,a);break;case 1:Ve||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),os(e,n,a);break;case 21:os(e,n,a);break;case 22:Ve=(o=Ve)||a.memoizedState!==null,os(e,n,a),Ve=o;break;default:os(e,n,a)}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){te(n,n.return,a)}}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){te(n,n.return,a)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(r(435,e.tag))}}function Wu(e,n){var a=gb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Ab.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Ys(T.type)){_e=T.stateNode,dn=!1;break t}break;case 5:_e=T.stateNode,dn=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(_e===null)throw Error(r(160));Ny(f,p,h),_e=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var si=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Bs(3,e,e.return),hl(3,e),Bs(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Ve||a===null||ki(a,a.return)),o&64&&as&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=si;if(mn(n,e),gn(e),o&512&&(Ve||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,a),f[Ce]=e,Ne(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ce]=e,Ne(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Ve||a===null||ki(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Ve||a===null||ki(a,a.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(ot){te(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){te(e,e.return,ot)}}break;case 3:if(gc=null,h=si,si=dc(n.containerInfo),mn(n,e),si=h,gn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(ot){te(e,e.return,ot)}Kf&&(Kf=!1,My(e));break;case 4:o=si,si=dc(e.stateNode.containerInfo),mn(n,e),gn(e),si=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ec=ge()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=as,F=Ve;if(as=z||h,Ve=F||R,mn(n,e),Ve=F,as=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||as||Ve||Kr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){te(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){te(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?b_(q,!0):b_(R.stateNode,!1)}catch(ot){te(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Wu(e,a))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);Zu(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(fn(p,""),a.flags&=-33);var T=Gf(e);Zu(e,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Gf(e);Qf(e,z,R);break;default:throw Error(r(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ls(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function Kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Kr(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),Kr(n);break;case 27:El(n.stateNode);case 26:case 5:ki(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}e=e.sibling}}function us(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,a),hl(4,f);break;case 1:if(us(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)cp(R[h],T)}catch(z){te(o,o.return,z)}}a&&p&64&&Ey(f),fl(f,f.return);break;case 27:wy(f);case 26:case 5:us(h,f,a),a&&o===null&&p&4&&Sy(f),fl(f,f.return);break;case 12:us(h,f,a);break;case 31:us(h,f,a),a&&p&4&&Dy(h,f);break;case 13:us(h,f,a),a&&p&4&&xy(h,f);break;case 22:f.memoizedState===null&&us(h,f,a),fl(f,f.return);break;case 30:break;default:us(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zo(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e))}function ri(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,a,o),h&2048&&hl(9,n);break;case 1:ri(e,n,a,o);break;case 3:ri(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e)));break;case 12:if(h&2048){ri(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else ri(e,n,a,o);break;case 31:ri(e,n,a,o);break;case 13:ri(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,a,o):dl(e,n):f._visibility&2?ri(e,n,a,o):(f._visibility|=2,Ha(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:ri(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:ri(e,n,a,o)}}function Ha(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ha(f,p,T,R,h),hl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ha(f,p,T,R,h):dl(f,p):(F._visibility|=2,Ha(f,p,T,R,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Ha(f,p,T,R,h),h&&z&2048&&Xf(p.alternate,p);break;default:Ha(f,p,T,R,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:dl(a,o),h&2048&&Yf(o.alternate,o);break;case 24:dl(a,o),h&2048&&Xf(o.alternate,o);break;default:dl(a,o)}n=n.sibling}}var ml=8192;function Fa(e,n,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:Fa(e,n,a),e.flags&ml&&e.memoizedState!==null&&eS(a,si,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,n,a);break;case 3:case 4:var o=si;si=dc(e.stateNode.containerInfo),Fa(e,n,a),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Fa(e,n,a),ml=o):Fa(e,n,a));break;default:Fa(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):gl(e);break;default:gl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Py(e,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Fe=o;else t:for(a=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(Cy(o),o===a){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var pb={getCacheForType:function(e){var n=Xe(xe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Xe(xe).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,oe=null,Mt=null,kt=0,Wt=0,Cn=null,qs=!1,Ga=!1,$f=!1,cs=0,Se=0,Hs=0,Yr=0,Jf=0,Nn=0,Qa=0,pl=null,pn=null,Zf=!1,ec=0,zy=0,nc=1/0,ic=null,Fs=null,Pe=0,Gs=null,Ka=null,hs=0,Wf=0,td=null,jy=null,yl=0,ed=null;function Dn(){return(Yt&2)!==0&&kt!==0?kt&-kt:H.T!==null?od():su()}function By(){if(Nn===0)if((kt&536870912)===0||jt){var e=X;X<<=1,(X&3932160)===0&&(X=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function yn(e,n,a){(e===oe&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Qs(e,kt,Nn,!1)),br(e,a),((Yt&2)===0||e!==oe)&&(e===oe&&((Yt&2)===0&&(Yr|=a),Se===4&&Qs(e,kt,Nn,!1)),Ui(e))}function qy(e,n,a){if((Yt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ft(e,n),h=o?Tb(e,n):id(e,n,!0),f=o;do{if(h===0){Ga&&!o&&Qs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!_b(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=pl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ya(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,Nn,!qs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ec+300-ge(),10<h)){if(Qs(o,n,Nn,!qs),At(o,0,!0)!==0)break t;hs=n,o.timeoutHandle=v_(Hy.bind(null,o,a,pn,ic,Zf,n,Nn,Yr,Qa,qs,f,"Throttled",-0,0),h);break t}Hy(o,a,pn,ic,Zf,n,Nn,Yr,Qa,qs,f,null,-0,0)}}break}while(!0);Ui(e)}function Hy(e,n,a,o,h,f,p,T,R,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},ky(n,f,Y);var ot=(f&62914560)===f?ec-ge():(f&4194048)===f?zy-ge():0;if(ot=nS(Y,ot),ot!==null){hs=f,e.cancelPendingCommit=ot(Jy.bind(null,e,n,f,a,o,h,p,T,R,F,Y,null,j,q)),Qs(e,f,p,!z);return}}Jy(e,n,f,a,o,h,p,T,R)}function _b(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,a,o){n&=~Jf,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Sr(e,a,n)}function sc(){return(Yt&6)===0?(_l(0),!1):!0}function nd(){if(Mt!==null){if(Wt===0)var e=Mt.return;else e=Mt,ts=zr=null,_f(e),Pa=null,tl=0,e=Mt;for(;e!==null;)Ty(e.alternate,e),e=e.return;Mt=null}}function Ya(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),hs=0,nd(),oe=e,Mt=a=Zi(e.current,null),kt=n,Wt=0,Cn=null,qs=!1,Ga=Ft(e,n),$f=!1,Qa=Nn=Jf=Yr=Hs=Se=0,pn=pl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-pe(o),f=1<<h;n|=e[h],o&=~f}return cs=n,wu(),a}function Fy(e,n){Ct=null,H.H=ll,n===La||n===Mu?(n=ap(),Wt=3):n===af?(n=ap(),Wt=4):Wt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Mt===null&&(Se=1,Ku(e,jn(n,e.current)))}function Gy(){var e=Rn.current;return e===null?!0:(kt&4194048)===kt?Fn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Fn:!1}function Qy(){var e=H.H;return H.H=ll,e===null?ll:e}function Ky(){var e=H.A;return H.A=pb,e}function rc(){Se=4,qs||(kt&4194048)!==kt&&Rn.current!==null||(Ga=!0),(Hs&134217727)===0&&(Yr&134217727)===0||oe===null||Qs(oe,kt,Nn,!1)}function id(e,n,a){var o=Yt;Yt|=2;var h=Qy(),f=Ky();(oe!==e||kt!==n)&&(ic=null,Ya(e,n)),n=!1;var p=Se;t:do try{if(Wt!==0&&Mt!==null){var T=Mt,R=Cn;switch(Wt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Wt;if(Wt=0,Cn=null,Xa(e,T,R,z),a&&Ga){p=0;break t}break;default:z=Wt,Wt=0,Cn=null,Xa(e,T,R,z)}}vb(),p=Se;break}catch(F){Fy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ts=zr=null,Yt=o,H.H=h,H.A=f,Mt===null&&(oe=null,kt=0,wu()),p}function vb(){for(;Mt!==null;)Yy(Mt)}function Tb(e,n){var a=Yt;Yt|=2;var o=Qy(),h=Ky();oe!==e||kt!==n?(ic=null,nc=ge()+500,Ya(e,n)):Ga=Ft(e,n);t:do try{if(Wt!==0&&Mt!==null){n=Mt;var f=Cn;e:switch(Wt){case 1:Wt=0,Cn=null,Xa(e,n,f,1);break;case 2:case 9:if(sp(f)){Wt=0,Cn=null,Xy(n);break}n=function(){Wt!==2&&Wt!==9||oe!==e||(Wt=7),Ui(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:sp(f)?(Wt=0,Cn=null,Xy(n)):(Wt=0,Cn=null,Xa(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?V_(p):T.stateNode.complete){Wt=0,Cn=null;var R=T.sibling;if(R!==null)Mt=R;else{var z=T.return;z!==null?(Mt=z,ac(z)):Mt=null}break e}}Wt=0,Cn=null,Xa(e,n,f,5);break;case 6:Wt=0,Cn=null,Xa(e,n,f,6);break;case 8:nd(),Se=6;break t;default:throw Error(r(462))}}Eb();break}catch(F){Fy(e,F)}while(!0);return ts=zr=null,H.H=o,H.A=h,Yt=a,Mt!==null?0:(oe=null,kt=0,wu(),Se)}function Eb(){for(;Mt!==null&&!Io();)Yy(Mt)}function Yy(e){var n=_y(e.alternate,e,cs);e.memoizedProps=e.pendingProps,n===null?ac(e):Mt=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:_f(n);default:Ty(a,n),n=Mt=Kg(n,cs),n=_y(a,n,cs)}e.memoizedProps=e.pendingProps,n===null?ac(e):Mt=n}function Xa(e,n,a,o){ts=zr=null,_f(n),Pa=null,tl=0;var h=n.return;try{if(ub(e,h,n,a,kt)){Se=1,Ku(e,jn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Se=1,Ku(e,jn(a,e.current)),Mt=null;return}n.flags&32768?(jt||o===1?e=!0:Ga||(kt&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){$y(n,qs);return}e=n.return;var a=fb(n.alternate,n,cs);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Se===0&&(Se=5)}function $y(e,n){do{var a=db(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Se=6,Mt=null}function Jy(e,n,a,o,h,f,p,T,R){e.cancelPendingCommit=null;do oc();while(Pe!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,a,f,p,T,R),e===oe&&(Mt=oe=null,kt=0),Ka=n,Gs=e,hs=a,Wf=f,td=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wb(Xn,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,p=Yt,Yt|=4;try{mb(e,n,a)}finally{Yt=p,et.p=h,H.T=o}}Pe=1,Zy(),Wy(),t_()}}function Zy(){if(Pe===1){Pe=0;var e=Gs,n=Ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{Oy(n,e);var f=gd,p=Pg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=T.textContent.length,gt=Math.min(R.start,ot),re=R.end===void 0?gt:Math.min(R.end,ot);!q.extend&&gt>re&&(p=re,re=gt,gt=p);var k=Ug(T,gt),N=Ug(T,re);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),gt>re?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!md,gd=md=null}finally{Yt=h,et.p=o,H.T=a}}e.current=n,Pe=2}}function Wy(){if(Pe===2){Pe=0;var e=Gs,n=Ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{Iy(e,n.alternate,n)}finally{Yt=h,et.p=o,H.T=a}}Pe=3}}function t_(){if(Pe===4||Pe===3){Pe=0,ha();var e=Gs,n=Ka,a=hs,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ka=Gs=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Yi(a),n=n.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(En,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{H.T=n,et.p=h}}(hs&3)!==0&&oc(),Ui(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?yl++:(yl=0,ed=e):yl=0,_l(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zo(n)))}function oc(){return Zy(),Wy(),t_(),n_()}function n_(){if(Pe!==5)return!1;var e=Gs,n=Wf;Wf=0;var a=Yi(hs),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=td,td=null;var f=Gs,p=hs;if(Pe=0,Ka=Gs=null,hs=0,(Yt&6)!==0)throw Error(r(331));var T=Yt;if(Yt|=4,Ly(f.current),Vy(f,f.current,p,a),Yt=T,_l(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(En,f)}catch{}return!0}finally{et.p=h,H.T=o,e_(e,n)}}function i_(e,n,a){n=jn(a,n),n=Mf(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(br(e,2),Ui(e))}function te(e,n,a){if(e.tag===3)i_(e,e,a);else for(;n!==null;){if(n.tag===3){i_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=jn(a,e),a=sy(2),o=Ps(n,a,2),o!==null&&(ry(a,o,n,e),br(o,2),Ui(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new yb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=bb.bind(null,e,n,a),n.then(e,e))}function bb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(kt&a)===a&&(Se===4||Se===3&&(kt&62914560)===kt&&300>ge()-ec?(Yt&2)===0&&Ya(e,0):Jf|=a,Qa===kt&&(Qa=0)),Ui(e)}function s_(e,n){n===0&&(n=iu()),e=Ur(e,n),e!==null&&(br(e,n),Ui(e))}function Sb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),s_(e,a)}function Ab(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s_(e,a)}function wb(e,n){return Ee(e,n)}var lc=null,$a=null,rd=!1,uc=!1,ad=!1,Ks=0;function Ui(e){e!==$a&&e.next===null&&($a===null?lc=$a=e:$a=$a.next=e),uc=!0,rd||(rd=!0,Ib())}function _l(e,n){if(!ad&&uc){ad=!0;do for(var a=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=kt,f=At(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ft(o,f)||(a=!0,l_(o,f));o=o.next}while(a);ad=!1}}function Rb(){r_()}function r_(){uc=rd=!1;var e=0;Ks!==0&&Lb()&&(e=Ks);for(var n=ge(),a=null,o=lc;o!==null;){var h=o.next,f=a_(o,n);f===0?(o.next=null,a===null?lc=h:a.next=h,h===null&&($a=a)):(a=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Pe!==0&&Pe!==5||_l(e),Ks!==0&&(Ks=0)}function a_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-pe(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Ki(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,a=kt,a=At(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ft(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Mn(o),Yi(a)){case 2:case 8:a=vr;break;case 32:a=Xn;break;case 268435456:a=fa;break;default:a=Xn}return o=o_.bind(null,e),a=Ee(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Mn(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oc()&&e.callbackNode!==a)return null;var o=kt;return o=At(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),a_(e,ge()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,n){if(oc())return null;qy(e,n,!0)}function Ib(){zb(function(){(Yt&6)!==0?Ee(Es,Rb):r_()})}function od(){if(Ks===0){var e=ka;e===0&&(e=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Ks=e}return Ks}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function c_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u_((h[qe]||null).action),p=o.submitter;p&&(n=(n=p[qe]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ni("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var R=p?c_(h,p):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?c_(h,p):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],Nb=ud.toLowerCase(),Db=ud[0].toUpperCase()+ud.slice(1);ii(Nb,"on"+Db)}ii(Bg,"onAnimationEnd"),ii(qg,"onAnimationIteration"),ii(Hg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Q1,"onTransitionRun"),ii(K1,"onTransitionStart"),ii(Y1,"onTransitionCancel"),ii(Fg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function h_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[ga];a===void 0&&(a=n[ga]=new Set);var o=e+"__bubble";a.has(o)||(f_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),f_(a,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[cc]){e[cc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,cd("selectionchange",!1,n))}}function f_(e,n,a,o){switch(B_(n)){case 2:var h=rS;break;case 8:h=aS;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=bi(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Cs(function(){var z=f,F=Un(a),Y=[];t:{var j=Gg.get(e);if(j!==void 0){var q=Ni,ot=e;switch(e){case"keypress":if(Dr(a)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":ot="focus",q=Or;break;case"focusout":ot="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Bg:case qg:case Hg:q=mu;break;case Fg:q=b;break;case"scroll":case"scrollend":q=Ho;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ji;break;case"toggle":case"beforetoggle":q=It}var gt=(n&4)!==0,re=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Wn(N,k),K!=null&&gt.push(Tl(N,K,P))),re)break;N=N.return}0<gt.length&&(j=new q(j,ot,null,a,F),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==jo&&(ot=a.relatedTarget||a.fromElement)&&(bi(ot)||ot[Ti]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?bi(ot):null,ot!==null&&(re=c(ot),gt=ot.tag,ot!==re||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(gt=Fo,K="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Ji,K="onPointerLeave",k="onPointerEnter",N="pointer"),re=q==null?j:bn(q),P=ot==null?j:bn(ot),j=new gt(K,N+"leave",q,a,F),j.target=re,j.relatedTarget=P,K=null,bi(F)===z&&(gt=new gt(k,N+"enter",ot,a,F),gt.target=P,gt.relatedTarget=re,K=gt),re=K,q&&ot)e:{for(gt=Ob,k=q,N=ot,P=0,K=k;K;K=gt(K))P++;K=0;for(var ft=N;ft;ft=gt(ft))K++;for(;0<P-K;)k=gt(k),P--;for(;0<K-P;)N=gt(N),K--;for(;P--;){if(k===N||N!==null&&k===N.alternate){gt=k;break e}k=gt(k),N=gt(N)}gt=null}else gt=null;q!==null&&d_(Y,j,q,gt,!1),ot!==null&&re!==null&&d_(Y,re,ot,gt,!0)}}t:{if(j=z?bn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=Dg;else if(Cg(j))if(xg)Gt=H1;else{Gt=B1;var ut=j1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&va(z.elementType)&&(Gt=Dg):Gt=q1;if(Gt&&(Gt=Gt(e,z))){Ng(Y,Gt,a,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Lo(j,"number",j.value)}switch(ut=z?bn(z):window,e){case"focusin":(Cg(ut)||ut.contentEditable==="true")&&(Ia=ut,jh=z,Xo=null);break;case"focusout":Xo=jh=Ia=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,zg(Y,a,F);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":zg(Y,a,F)}var Nt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ra?Mr(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Oi&&a.locale!=="ko"&&(Ra||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ra&&(Nt=qo()):(Ci=F,Bo="value"in Ci?Ci.value:Ci.textContent,Ra=!0)),ut=hc(z,Ut),0<ut.length&&(Ut=new xi(Ut,e,null,a,F),Y.push({event:Ut,listeners:ut}),Nt?Ut.data=Nt:(Nt=wa(a),Nt!==null&&(Ut.data=Nt)))),(Nt=Pn?U1(e,a):L1(e,a))&&(Ut=hc(z,"onBeforeInput"),0<Ut.length&&(ut=new xi("onBeforeInput","beforeinput",null,a,F),Y.push({event:ut,listeners:Ut}),ut.data=Nt)),Cb(Y,e,z,a,F)}h_(Y,n)})}function Tl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function hc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,a),h!=null&&o.unshift(Tl(e,h,f)),h=Wn(e,n),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Wn(a,f),z!=null&&p.unshift(Tl(a,z,R))):h||(z=Wn(a,f),z!=null&&p.push(Tl(a,z,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var Mb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Vb,"")}function g_(e,n){return n=m_(n),m_(e)===n}function se(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,a,o);break;case"style":zo(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,ya(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":zo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[qe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function Je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,f,p,a,null)}}h&&se(e,n,"srcSet",a.srcSet,a,null),o&&se(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:se(e,n,o,F,a,null)}}lu(e,f,T,R,z,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:se(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?As(e,!!o,n,!1):a!=null&&As(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:se(e,n,p,T,a,null)}ws(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,R,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<vl.length;o++)Vt(vl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,z,o,a,null)}return;default:if(va(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&dd(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&se(e,n,T,o,a,null))}function kb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||se(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&se(e,n,j,q,o,Y)}}_a(e,p,T,R,z,F,f,h);return;case"select":q=p=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&se(e,n,h,f,o,R)}n=T,a=p,o=q,j!=null?As(e,!!a,j,!1):!!o!=!!a&&(n!=null?As(e,!!a,n,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:se(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&se(e,n,p,h,o,f)}uu(e,j,q);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:se(e,n,ot,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&se(e,n,gt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:se(e,n,z,j,o,q)}return;default:if(va(n)){for(var re in a)j=a[re],a.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&dd(e,n,re,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||dd(e,n,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,j);for(Y in o)j=o[Y],q=a[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||se(e,n,Y,j,o,q)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&p_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>T)break;var F=R.transferSize,Y=R.initiatorType;F&&p_(Y)&&(R=R.responseEnd,p+=F*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function Lb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(jb)}:v_;function jb(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),to(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")El(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,El(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&El(e.ownerDocument.body);a=h}while(a);to(n)}function b_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Bb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function qb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function S_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Gn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R_(e,n,a){switch(n=fc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function El(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);pa(e)}var Qn=new Map,I_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fs=et.d;et.d={f:Fb,r:Gb,D:Qb,C:Kb,L:Yb,m:Xb,X:Jb,S:$b,M:Zb};function Fb(){var e=fs.f(),n=sc();return e||n}function Gb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):fs.r(e)}var Ja=typeof document>"u"?null:document;function C_(e,n,a){var o=Ja;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Qb(e){fs.D(e),C_("dns-prefetch",e,null)}function Kb(e,n){fs.C(e,n),C_("preconnect",e,n)}function Yb(e,n,a){fs.L(e,n,a);var o=Ja;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Wa(e)}Qn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Xb(e,n){fs.m(e,n);var a=Ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(e)}if(!Qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Qn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),Je(o,"link",e),Ne(o),a.head.appendChild(o)}}}function $b(e,n,a){fs.S(e,n,a);var o=Ja;if(o&&e){var h=Si(o).hoistableStyles,f=Za(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(bl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qn.get(f))&&bd(e,a);var R=p=o.createElement("link");Ne(R),Je(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Jb(e,n){fs.X(e,n);var a=Ja;if(a&&e){var o=Si(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=A({src:e,async:!0},n),(n=Qn.get(h))&&Sd(e,n),f=a.createElement("script"),Ne(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zb(e,n){fs.M(e,n);var a=Ja;if(a&&e){var o=Si(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&Sd(e,n),f=a.createElement("script"),Ne(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(e,n,a,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=Si(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(bl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),f||Wb(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+hn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",a),Ne(n),e.head.appendChild(n))}function Wa(e){return'[src="'+hn(e)+'"]'}function Sl(e){return"script[async]"+e}function x_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Je(o,"style",h),mc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=D_(a),(h=Qn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Je(f,"link",o),n.state.loading|=4,mc(f,a.precedence,e),n.instance=f;case"script":return f=Wa(a.src),(h=e.querySelector(Sl(f)))?(n.instance=h,Ne(h),h):(o=a,(h=Qn.get(f))&&(o=A({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,a.precedence,e));return n.instance}function mc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function O_(e,n,a){if(gc===null){var o=new Map,h=gc=new Map;h.set(a,o)}else h=gc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function M_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ne(f);return}f=n.ownerDocument||n,o=D_(o),(h=Qn.get(h))&&bd(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=pc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function nS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*Ub());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(iS,e),yc=null,pc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var a=yc.get(e);if(a)var o=a.get(null);else{a=new Map,yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Al={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sS(e,n,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function k_(e,n,a,o,h,f,p,T,R,z,F,Y){return e=new sS(e,n,a,p,R,z,F,Y,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function U_(e){return e?(e=Da,e):Da}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(e,o,n),a!==null&&(yn(a,e,n),nl(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&yn(n,e,67108864),wd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Ar(n);var a=Ur(e,n);a!==null&&yn(a,e,n),wd(e,n)}}var vc=!0;function rS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Rd(e,n,a,o)}finally{et.p=f,H.T=h}}function aS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Rd(e,n,a,o)}finally{et.p=f,H.T=h}}function Rd(e,n,a,o){if(vc){var h=Id(o);if(h===null)fd(e,n,o,Tc,a),q_(e,o);else if(lS(h,e,n,a,o))o.stopPropagation();else if(q_(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=lt(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-pe(p);T.entanglements[1]|=R,p&=~R}Ui(f),(Yt&6)===0&&(nc=ge()+500,_l(0))}}break;case 31:case 13:T=Ur(f,2),T!==null&&yn(T,f,2),sc(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,Tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=Un(e),Cd(e)}var Tc=null;function Cd(e){if(Tc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_i()){case Es:return 2;case vr:return 8;case Xn:case Co:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Nd=!1,Xs=null,$s=null,Js=null,wl=new Map,Rl=new Map,Zs=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Il(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,a,o,h){switch(n){case"focusin":return Xs=Il(Xs,e,n,a,o,h),!0;case"dragenter":return $s=Il($s,e,n,a,o,h),!0;case"mouseover":return Js=Il(Js,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Il(wl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Il(Rl.get(f)||null,e,n,a,o,h)),!0}return!1}function H_(e){var n=bi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,$n(e.priority,function(){j_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,$n(e.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return n=kn(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){Ec(e)&&a.delete(n)}function uS(){Nd=!1,Xs!==null&&Ec(Xs)&&(Xs=null),$s!==null&&Ec($s)&&($s=null),Js!==null&&Ec(Js)&&(Js=null),wl.forEach(F_),Rl.forEach(F_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uS)))}var Sc=null;function G_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=kn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(e){function n(R){return bc(R,e)}Xs!==null&&bc(Xs,e),$s!==null&&bc($s,e),Js!==null&&bc(Js,e),wl.forEach(n),Rl.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&Zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[qe]||null;if(typeof f=="function")p||G_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qe]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),G_(a)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Ac.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Dn();L_(a,o,e,n,null,null)},Ac.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),sc(),n[Ti]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,e),a===0&&H_(e)}};var K_=t.version;if(K_!=="19.2.3")throw Error(r(527,K_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{En=wc.inject(cS),ue=wc}catch{}}return Nl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ty,f=ey,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(e,1,!1,null,null,a,o,null,h,f,p,Q_),e[Ti]=n.current,hd(e),new Dd(n)},Nl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ty,p=ey,T=ny,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=k_(e,1,!0,n,a??null,o,h,R,f,p,T,Q_),n.context=U_(null),a=n.current,o=Dn(),o=Ar(o),h=Ls(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,br(n,a),Ui(n),e[Ti]=n.current,hd(e),new Ac(n)},Nl.version="19.2.3",Nl}var iv;function TS(){if(iv)return Md.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=vS(),Md.exports}var ES=TS();const bS=()=>{};var sv={};const F0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(M=64)),r.push(i[E],i[A],i[M],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(F0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):SS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new AS;const M=c<<2|g>>4;if(r.push(M),y!==64){const G=g<<4&240|y>>2;if(r.push(G),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(s){const t=F0(s);return G0.encodeByteArray(t,!0)},Hc=function(s){return wS(s).replace(/\./g,"")},Q0=function(s){try{return G0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IS=()=>RS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof sv>"u")return;const s=sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Q0(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return bS()||IS()||CS()||NS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K0=s=>hh()?.emulatorHosts?.[s],DS=s=>{const t=K0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Y0=()=>hh()?.config,X0=s=>hh()?.[`_${s}`];class xS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(s){return(await fetch(s,{credentials:"include"})).ok}function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Vl={};function MS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function VS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let rv=!1;function J0(s,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Vl[s]===t||Vl[s]||rv)return;Vl[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=MS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{rv=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=VS(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),Z=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),E(Z,st);const Ht=y();_(vt,mt),yt.append(vt,W,Z,Ht),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function US(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function BS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qS="FirebaseError";class hi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qS,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new hi(l,g,r)}}function HS(s,t){return s.replace(FS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const FS=/\{\$([^}]+)}/g;function GS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function cr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(av(c)&&av(d)){if(!cr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function Yl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function QS(s,t){const i=new KS(s,t);return i.subscribe.bind(i)}class KS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}const XS=1e3,$S=2,JS=14400*1e3,ZS=.5;function ov(s,t=XS,i=$S){const r=t*Math.pow(i,s),l=Math.round(ZS*r*(Math.random()-.5)*2);return Math.min(JS,r+l)}function Le(s){return s&&s._delegate?s._delegate:s}class ci{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new xS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(s){return s===Xr?void 0:s}function eA(s){return s.instantiationMode==="EAGER"}class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const iA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},sA=Lt.INFO,rA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},aA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=rA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fh{constructor(t){this.name=t,this._logLevel=sA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const oA=(s,t)=>t.some(i=>s instanceof i);let lv,uv;function lA(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,tm=new WeakMap,nT=new WeakMap,Pd=new WeakMap,xm=new WeakMap;function cA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eT.set(i,s)}).catch(()=>{}),xm.set(t,s),t}function hA(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function fA(s){em=s(em)}function dA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(zd(this),t,...i);return nT.set(r,t.sort?t.sort():[t]),rr(r)}:uA().includes(s)?function(...t){return s.apply(zd(this),t),rr(eT.get(this))}:function(...t){return rr(s.apply(zd(this),t))}}function mA(s){return typeof s=="function"?dA(s):(s instanceof IDBTransaction&&hA(s),oA(s,lA())?new Proxy(s,em):s)}function rr(s){if(s instanceof IDBRequest)return cA(s);if(Pd.has(s))return Pd.get(s);const t=mA(s);return t!==s&&(Pd.set(s,t),xm.set(t,s)),t}const zd=s=>xm.get(s);function iT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=rr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(rr(d.result),_.oldVersion,_.newVersion,rr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],jd=new Map;function cv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return jd.set(t,c),c}fA(s=>({...s,get:(t,i,r)=>cv(t,i)||s.get(t,i,r),has:(t,i)=>!!cv(t,i)||s.has(t,i)}));class yA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_A(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _A(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",hv="0.14.6";const ps=new fh("@firebase/app"),vA="@firebase/app-compat",TA="@firebase/analytics-compat",EA="@firebase/analytics",bA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",wA="@firebase/auth-compat",RA="@firebase/database",IA="@firebase/data-connect",CA="@firebase/database-compat",NA="@firebase/functions",DA="@firebase/functions-compat",xA="@firebase/installations",OA="@firebase/installations-compat",MA="@firebase/messaging",VA="@firebase/messaging-compat",kA="@firebase/performance",UA="@firebase/performance-compat",LA="@firebase/remote-config",PA="@firebase/remote-config-compat",zA="@firebase/storage",jA="@firebase/storage-compat",BA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",FA="firebase",GA="12.6.0";const im="[DEFAULT]",QA={[nm]:"fire-core",[vA]:"fire-core-compat",[EA]:"fire-analytics",[TA]:"fire-analytics-compat",[SA]:"fire-app-check",[bA]:"fire-app-check-compat",[AA]:"fire-auth",[wA]:"fire-auth-compat",[RA]:"fire-rtdb",[IA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[NA]:"fire-fn",[DA]:"fire-fn-compat",[xA]:"fire-iid",[OA]:"fire-iid-compat",[MA]:"fire-fcm",[VA]:"fire-fcm-compat",[kA]:"fire-perf",[UA]:"fire-perf-compat",[LA]:"fire-rc",[PA]:"fire-rc-compat",[zA]:"fire-gcs",[jA]:"fire-gcs-compat",[BA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};const Fc=new Map,KA=new Map,sm=new Map;function fv(s,t){try{s.container.addComponent(t)}catch(i){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Hi(s){const t=s.name;if(sm.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Fc.values())fv(i,s);for(const i of KA.values())fv(i,s);return!0}function la(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new oa("app","Firebase",YA);class XA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Eo=GA;function sT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:im,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw ar.create("no-options");const c=Fc.get(l);if(c){if(cr(i,c.options)&&cr(r,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new nA(l);for(const _ of sm.values())d.addComponent(_);const g=new XA(i,r,d);return Fc.set(l,g),g}function Om(s=im){const t=Fc.get(s);if(!t&&s===im&&Y0())return sT();if(!t)throw ar.create("no-app",{appName:s});return t}function Yn(s,t,i){let r=QA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}Hi(new ci(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const $A="firebase-heartbeat-database",JA=1,jl="firebase-heartbeat-store";let Bd=null;function rT(){return Bd||(Bd=iT($A,JA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function ZA(s){try{const i=(await rT()).transaction(jl),r=await i.objectStore(jl).get(aT(s));return await i.done,r}catch(t){if(t instanceof hi)ps.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});ps.warn(i.message)}}}async function dv(s,t){try{const r=(await rT()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,aT(s)),await r.done}catch(i){if(i instanceof hi)ps.warn(i.message);else{const r=ar.create("idb-set",{originalErrorMessage:i?.message});ps.warn(r.message)}}}function aT(s){return`${s.name}!${s.options.appId}`}const WA=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ps.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function nw(s,t=WA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function gv(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function rw(s){Hi(new ci("platform-logger",t=>new yA(t),"PRIVATE")),Hi(new ci("heartbeat",t=>new ew(t),"PRIVATE")),Yn(nm,hv,s),Yn(nm,hv,"esm2020"),Yn("fire-js","")}rw("");var aw="firebase",ow="12.7.0";Yn(aw,ow,"app");const oT="@firebase/installations",Mm="0.6.19";const lT=1e4,uT=`w:${Mm}`,cT="FIS_v2",lw="https://firebaseinstallations.googleapis.com/v1",uw=3600*1e3,cw="installations",hw="Installations";const fw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new oa(cw,hw,fw);function hT(s){return s instanceof hi&&s.code.includes("request-failed")}function fT({projectId:s}){return`${lw}/projects/${s}/installations`}function dT(s){return{token:s.token,requestStatus:2,expiresIn:mw(s.expiresIn),creationTime:Date.now()}}async function mT(s,t){const r=(await t.json()).error;return na.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function dw(s,{refreshToken:t}){const i=gT(s);return i.append("Authorization",gw(t)),i}async function pT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function mw(s){return Number(s.replace("s","000"))}function gw(s){return`${cT} ${s}`}async function pw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=fT(s),l=gT(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:cT,appId:s.appId,sdkVersion:uT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:dT(y.authToken)}}else throw await mT("Create Installation",_)}function yT(s){return new Promise(t=>{setTimeout(t,s)})}function yw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const _w=/^[cdef][\w-]{21}$/,rm="";function vw(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Tw(s);return _w.test(i)?i:rm}catch{return rm}}function Tw(s){return yw(s).substr(0,22)}function dh(s){return`${s.appName}!${s.appId}`}const _T=new Map;function vT(s,t){const i=dh(s);TT(i,t),Ew(i,t)}function TT(s,t){const i=_T.get(s);if(i)for(const r of i)r(t)}function Ew(s,t){const i=bw();i&&i.postMessage({key:s,fid:t}),Sw()}let $r=null;function bw(){return!$r&&"BroadcastChannel"in self&&($r=new BroadcastChannel("[Firebase] FID Change"),$r.onmessage=s=>{TT(s.data.key,s.data.fid)}),$r}function Sw(){_T.size===0&&$r&&($r.close(),$r=null)}const Aw="firebase-installations-database",ww=1,ia="firebase-installations-store";let qd=null;function Vm(){return qd||(qd=iT(Aw,ww,{upgrade:(s,t)=>{t===0&&s.createObjectStore(ia)}})),qd}async function Gc(s,t){const i=dh(s),l=(await Vm()).transaction(ia,"readwrite"),c=l.objectStore(ia),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&vT(s,t.fid),t}async function ET(s){const t=dh(s),r=(await Vm()).transaction(ia,"readwrite");await r.objectStore(ia).delete(t),await r.done}async function mh(s,t){const i=dh(s),l=(await Vm()).transaction(ia,"readwrite"),c=l.objectStore(ia),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&vT(s,g.fid),g}async function km(s){let t;const i=await mh(s.appConfig,r=>{const l=Rw(r),c=Iw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===rm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Rw(s){const t=s||{fid:vw(),registrationStatus:0};return bT(t)}function Iw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(na.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Cw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Nw(s)}:{installationEntry:t}}async function Cw(s,t){try{const i=await pw(s,t);return Gc(s.appConfig,i)}catch(i){throw hT(i)&&i.customData.serverCode===409?await ET(s.appConfig):await Gc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Nw(s){let t=await pv(s.appConfig);for(;t.registrationStatus===1;)await yT(100),t=await pv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await km(s);return r||i}return t}function pv(s){return mh(s,t=>{if(!t)throw na.create("installation-not-found");return bT(t)})}function bT(s){return Dw(s)?{fid:s.fid,registrationStatus:0}:s}function Dw(s){return s.registrationStatus===1&&s.registrationTime+lT<Date.now()}async function xw({appConfig:s,heartbeatServiceProvider:t},i){const r=Ow(s,i),l=dw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:uT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return dT(y)}else throw await mT("Generate Auth Token",_)}function Ow(s,{fid:t}){return`${fT(s)}/${t}/authTokens:generate`}async function Um(s,t=!1){let i;const r=await mh(s.appConfig,c=>{if(!ST(c))throw na.create("not-registered");const d=c.authToken;if(!t&&kw(d))return c;if(d.requestStatus===1)return i=Mw(s,t),c;{if(!navigator.onLine)throw na.create("app-offline");const g=Lw(c);return i=Vw(s,g),g}});return i?await i:r.authToken}async function Mw(s,t){let i=await yv(s.appConfig);for(;i.authToken.requestStatus===1;)await yT(100),i=await yv(s.appConfig);const r=i.authToken;return r.requestStatus===0?Um(s,t):r}function yv(s){return mh(s,t=>{if(!ST(t))throw na.create("not-registered");const i=t.authToken;return Pw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Vw(s,t){try{const i=await xw(s,t),r={...t,authToken:i};return await Gc(s.appConfig,r),i}catch(i){if(hT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await ET(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Gc(s.appConfig,r)}throw i}}function ST(s){return s!==void 0&&s.registrationStatus===2}function kw(s){return s.requestStatus===2&&!Uw(s)}function Uw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+uw}function Lw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function Pw(s){return s.requestStatus===1&&s.requestTime+lT<Date.now()}async function zw(s){const t=s,{installationEntry:i,registrationPromise:r}=await km(t);return r?r.catch(console.error):Um(t).catch(console.error),i.fid}async function jw(s,t=!1){const i=s;return await Bw(i),(await Um(i,t)).token}async function Bw(s){const{registrationPromise:t}=await km(s);t&&await t}function qw(s){if(!s||!s.options)throw Hd("App Configuration");if(!s.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Hd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Hd(s){return na.create("missing-app-config-values",{valueName:s})}const AT="installations",Hw="installations-internal",Fw=s=>{const t=s.getProvider("app").getImmediate(),i=qw(t),r=la(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gw=s=>{const t=s.getProvider("app").getImmediate(),i=la(t,AT).getImmediate();return{getId:()=>zw(i),getToken:l=>jw(i,l)}};function Qw(){Hi(new ci(AT,Fw,"PUBLIC")),Hi(new ci(Hw,Gw,"PRIVATE"))}Qw();Yn(oT,Mm);Yn(oT,Mm,"esm2020");const Qc="analytics",Kw="firebase_id",Yw="origin",Xw=60*1e3,$w="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";const cn=new fh("@firebase/analytics");const Jw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new oa("analytics","Analytics",Jw);function Zw(s){if(!s.startsWith(Lm)){const t=On.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(t.message),""}return s}function wT(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function Ww(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function t2(s,t){const i=Ww("firebase-js-sdk-policy",{createScriptURL:Zw}),r=document.createElement("script"),l=`${Lm}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function e2(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function n2(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await wT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){cn.error(g)}s("config",l,c)}async function i2(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await wT(i);for(const _ of d){const y=g.find(A=>A.measurementId===_),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){cn.error(c)}}function s2(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await i2(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await n2(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){cn.error(g)}}return l}function r2(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=s2(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function a2(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Lm)&&i.src.includes(s))return i;return null}const o2=30,l2=1e3;class u2{constructor(t={},i=l2){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RT=new u2;function c2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function h2(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:c2(i)},l=$w.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function f2(s,t=RT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw On.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw On.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new g2;return setTimeout(async()=>{g.abort()},Xw),IT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function IT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=RT){const{appId:c,measurementId:d}=s;try{await d2(r,t)}catch(g){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await h2(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!m2(_)){if(l.deleteThrottleMetadata(c),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?ov(i,l.intervalMillis,o2):ov(i,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,E),cn.debug(`Calling attemptFetch again in ${y} millis`),IT(s,E,r,l)}}function d2(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(On.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function m2(s){if(!(s instanceof hi)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class g2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function p2(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function y2(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function _2(){if(W0())try{await tT()}catch(s){return cn.warn(On.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v2(s,t,i,r,l,c,d){const g=f2(s);g.then(M=>{i[M.measurementId]=M.appId,s.options.measurementId&&M.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>cn.error(M)),t.push(g);const _=_2().then(M=>{if(M)return r.getId()}),[y,E]=await Promise.all([g,_]);a2(c)||t2(c,y.measurementId),l("js",new Date);const A=d?.config??{};return A[Yw]="firebase",A.update=!0,E!=null&&(A[Kw]=E),l("config",y.measurementId,A),y.measurementId}class T2{constructor(t){this.app=t}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},_v=[];const vv={};let Fd="dataLayer",E2="gtag",Tv,Pm,Ev=!1;function b2(){const s=[];if(Z0()&&s.push("This is a browser extension environment."),BS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=On.create("invalid-analytics-context",{errorInfo:t});cn.warn(i.message)}}function S2(s,t,i){b2();const r=s.options.appId;if(!r)throw On.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(ro[r]!=null)throw On.create("already-exists",{id:r});if(!Ev){e2(Fd);const{wrappedGtag:c,gtagCore:d}=r2(ro,_v,vv,Fd,E2);Pm=c,Tv=d,Ev=!0}return ro[r]=v2(s,_v,vv,t,Tv,Fd,i),new T2(s)}function A2(s=Om()){s=Le(s);const t=la(s,Qc);return t.isInitialized()?t.getImmediate():w2(s)}function w2(s,t={}){const i=la(s,Qc);if(i.isInitialized()){const l=i.getImmediate();if(cr(t,i.getOptions()))return l;throw On.create("already-initialized")}return i.initialize({options:t})}function R2(s,t,i){s=Le(s),y2(Pm,ro[s.app.options.appId],t,i).catch(r=>cn.error(r))}function I2(s,t,i,r){s=Le(s),p2(Pm,ro[s.app.options.appId],t,i,r).catch(l=>cn.error(l))}const bv="@firebase/analytics",Sv="0.10.19";function C2(){Hi(new ci(Qc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return S2(r,l,i)},"PUBLIC")),Hi(new ci("analytics-internal",s,"PRIVATE")),Yn(bv,Sv),Yn(bv,Sv,"esm2020");function s(t){try{const i=t.getProvider(Qc).getImmediate();return{logEvent:(r,l,c)=>I2(i,r,l,c),setUserProperties:(r,l)=>R2(i,r,l)}}catch(i){throw On.create("interop-component-reg-failed",{reason:i})}}}C2();function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=CT,NT=new oa("auth","Firebase",CT());const Kc=new fh("@firebase/auth");function D2(s,...t){Kc.logLevel<=Lt.WARN&&Kc.warn(`Auth (${Eo}): ${s}`,...t)}function Mc(s,...t){Kc.logLevel<=Lt.ERROR&&Kc.error(`Auth (${Eo}): ${s}`,...t)}function Fi(s,...t){throw jm(s,...t)}function li(s,...t){return jm(s,...t)}function zm(s,t,i){const r={...N2(),[t]:i};return new oa("auth","Firebase",r).create(t,{appName:s.name})}function Wr(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Fi(s,"argument-error"),zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return NT.create(s,...t)}function Tt(s,t,...i){if(!s)throw jm(t,...i)}function ms(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function ys(s,t){s||ms(t)}function am(){return typeof self<"u"&&self.location?.href||""}function O2(){return Av()==="http:"||Av()==="https:"}function Av(){return typeof self<"u"&&self.location?.protocol||null}function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||Z0()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ys(i>t,"Short delay should be less than long delay!"),this.isMobile=kS()||PS()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,t){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class DT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Xl(3e4,6e4);function qm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function bo(s,t,i,r,l={}){return xT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Yl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return LS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await OT(s,s.config.apiHost,i,g),y)})}async function xT(s,t,i){s._canInitEmulator=!1;const r={...k2,...t};try{const l=new z2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(s,"user-disabled",d);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,E,y);Fi(s,E)}}catch(l){if(l instanceof hi)throw l;Fi(s,"network-request-failed",{message:String(l)})}}async function P2(s,t,i,r,l={}){const c=await bo(s,t,i,r,l);return"mfaPendingCredential"in c&&Fi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function OT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return U2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),L2.get())})}}function Rc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=li(s,t,r);return l.customData._tokenResponse=i,l}async function j2(s,t){return bo(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return bo(s,"POST","/v1/accounts:lookup",t)}function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function B2(s,t=!1){const i=Le(s),r=await i.getIdToken(t),l=Hm(r);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:kl(Gd(l.auth_time)),issuedAtTime:kl(Gd(l.iat)),expirationTime:kl(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Hm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Q0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(s){const t=Hm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof hi&&q2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function q2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class H2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),r=await Bl(s,Yc(t,{idToken:i}));Tt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?MT(l.providerUserInfo):[],d=G2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function F2(s){const t=Le(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function G2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function MT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Q2(s,t){const i=await xT(s,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await OT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(_.credentials="include"),DT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(s,t){return bo(s,"POST","/v2/accounts:revokeToken",qm(s,t))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Q2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ao;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ms("not implemented")}}function tr(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return B2(this,t)}reload(){return F2(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Wr(this.auth));const t=await this.getIdToken();return await Bl(this,j2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:G,providerData:W,stsTokenManager:st}=i;Tt(A&&st,t,"internal-error");const Z=ao.fromJSON(this.name,st);Tt(typeof A=="string",t,"internal-error"),tr(r,t.name),tr(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(g,t.name),tr(_,t.name),tr(y,t.name),tr(E,t.name);const mt=new oi({uid:A,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(mt.providerData=W.map(vt=>({...vt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new ao;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?MT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ao;g.updateFromIdToken(r);const _=new oi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Rv=new Map;function gs(s){ys(s instanceof Function,"Expected a class definition");let t=Rv.get(s);return t?(ys(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Rv.set(s,t),t)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}VT.type="NONE";const Iv=VT;function Vc(s,t,i){return`firebase:${s}:${t}:${i}`}class oo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oo(gs(Iv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(Iv);const d=Vc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const M=await Yc(t,{idToken:E}).catch(()=>{});if(!M)break;A=await oi._fromGetAccountInfoResponse(t,M,E)}else A=oi._fromJSON(t,E);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new oo(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new oo(c,t,r))}}function Cv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jT(t))return"Blackberry";if(BT(t))return"Webos";if(UT(t))return"Safari";if((t.includes("chrome/")||LT(t))&&!t.includes("edge/"))return"Chrome";if(zT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function kT(s=an()){return/firefox\//i.test(s)}function UT(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LT(s=an()){return/crios\//i.test(s)}function PT(s=an()){return/iemobile/i.test(s)}function zT(s=an()){return/android/i.test(s)}function jT(s=an()){return/blackberry/i.test(s)}function BT(s=an()){return/webos/i.test(s)}function Fm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y2(s=an()){return Fm(s)&&!!window.navigator?.standalone}function X2(){return zS()&&document.documentMode===10}function qT(s=an()){return Fm(s)||zT(s)||BT(s)||jT(s)||/windows phone/i.test(s)||PT(s)}function HT(s,t=[]){let i;switch(s){case"Browser":i=Cv(an());break;case"Worker":i=`${Cv(an())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${r}`}class $2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function J2(s,t={}){return bo(s,"GET","/v2/passwordPolicy",qm(s,t))}const Z2=6;class W2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class tR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Wr(this));const i=t?Le(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await J2(this),i=new W2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oa("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&D2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gh(s){return Le(s)}class Nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(s){Gm=s}function nR(s){return Gm.loadJS(s)}function iR(){return Gm.gapiScript}function sR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function rR(s,t){const i=la(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(cr(c,t??{}))return l;Fi(l,"already-initialized")}return i.initialize({options:t})}function aR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function oR(s,t,i){const r=gh(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=FT(t),{host:d,port:g}=lR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(cr(y,r.config.emulator)&&cr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,To(d)?($0(`${c}//${d}${_}`),J0("Auth",!0)):uR()}function FT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lR(s){const t=FT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Dv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Dv(d)}}}function Dv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function uR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class GT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,i){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function lo(s,t){return P2(s,"POST","/v1/accounts:signInWithIdp",qm(s,t))}const cR="http://localhost";class sa extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new sa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return lo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,lo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,lo(t,i)}buildRequest(){const t={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends $l{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class ds extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ds.credential(i,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class nr extends $l{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends $l{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ir.credential(i,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await oi._fromIdTokenResponse(t,r,l),d=xv(r);return new ho({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=xv(r);return new ho({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function xv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $c extends hi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function QT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,r):c})}async function hR(s,t,i=!1){const r=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ho._forOperation(s,"link",r)}async function fR(s,t,i=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(Wr(r));const l="reauthenticate";try{const c=await Bl(s,QT(r,l,t,s),i);Tt(c.idToken,r,"internal-error");const d=Hm(c.idToken);Tt(d,r,"internal-error");const{sub:g}=d;return Tt(s.uid===g,r,"user-mismatch"),ho._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),c}}async function dR(s,t,i=!1){if(ai(s.app))return Promise.reject(Wr(s));const r="signIn",l=await QT(s,r,t),c=await ho._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function mR(s,t,i,r){return Le(s).onIdTokenChanged(t,i,r)}function gR(s,t,i){return Le(s).beforeAuthStateChanged(t,i)}function pR(s,t,i,r){return Le(s).onAuthStateChanged(t,i,r)}function Ov(s){return Le(s).signOut()}const Jc="__sak";class KT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,_R=10;class YT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);X2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_R):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}YT.type="LOCAL";const vR=YT;class XT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}XT.type="SESSION";const $T=XT;function TR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ph(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await TR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Km(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class ER{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Km("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function bR(s){Pi().location.href=s}function JT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function SR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){return navigator?.serviceWorker?.controller||null}function wR(){return JT()?self:null}const ZT="firebaseLocalStorageDb",RR=1,Zc="firebaseLocalStorage",WT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function IR(){const s=indexedDB.deleteDatabase(ZT);return new Jl(s).toPromise()}function lm(){const s=indexedDB.open(ZT,RR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zc,{keyPath:WT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zc)?t(r):(r.close(),await IR(),t(await lm()))})})}async function Mv(s,t,i){const r=yh(s,!0).put({[WT]:t,value:i});return new Jl(r).toPromise()}async function CR(s,t){const i=yh(s,!1).get(t),r=await new Jl(i).toPromise();return r===void 0?null:r.value}function Vv(s,t){const i=yh(s,!0).delete(t);return new Jl(i).toPromise()}const NR=800,DR=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>DR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(wR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Mv(t,Jc,"1"),await Vv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>CR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const xR=tE;new Xl(3e4,6e4);function eE(s,t){return t?gs(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends GT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return lo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function OR(s){return dR(s.auth,new Ym(s),s.bypassAuthState)}function MR(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),fR(i,new Ym(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),hR(i,new Ym(s),s.bypassAuthState)}class nE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Fi(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kR=new Xl(2e3,1e4);async function UR(s,t,i){if(ai(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const r=gh(s);x2(s,t,Qm);const l=eE(r,i);return new Jr(r,"signInViaPopup",t,l).executeNotNull()}class Jr extends nE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kR.get())};t()}}Jr.currentPopupAction=null;const LR="pendingRedirect",kc=new Map;class PR extends nE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const r=await zR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(s,t){const i=qR(t),r=BR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function jR(s,t){kc.set(s._key(),t)}function BR(s){return gs(s._redirectPersistence)}function qR(s){return Vc(LR,s.config.apiKey,s.name)}async function HR(s,t,i=!1){if(ai(s.app))return Promise.reject(Wr(s));const r=gh(s),l=eE(r,t),d=await new PR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const FR=600*1e3;class GR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(li(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function iE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function QR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(s);default:return!1}}async function KR(s,t={}){return bo(s,"GET","/v1/projects",t)}const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function $R(s){if(s.config.emulator)return;const{authorizedDomains:t}=await KR(s);for(const i of t)try{if(JR(i))return}catch{}Fi(s,"unauthorized-domain")}function JR(s){const t=am(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!XR.test(i))return!1;if(YR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const ZR=new Xl(3e4,6e4);function Uv(){const s=Pi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function WR(s){return new Promise((t,i)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),i(li(s,"network-request-failed"))},timeout:ZR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=sR("iframefcb");return Pi()[l]=()=>{gapi.load?r():i(li(s,"network-request-failed"))},nR(`${iR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function tI(s){return Uc=Uc||WR(s),Uc}const eI=new Xl(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Bm(t,iI):`https://${s.config.authDomain}/${nI}`,r={apiKey:t.apiKey,appName:s.name,v:Eo},l=rI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Yl(r).slice(1)}`}async function oI(s){const t=await tI(s),i=Pi().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:aI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},eI.get());function _(){Pi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(s,t,i,r=uI,l=cI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...lI,width:r.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=LT(y)?hI:i),kT(y)&&(t=t||fI,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[G,W])=>`${M}${G}=${W},`,"");if(Y2(y)&&g!=="_self")return mI(t||"",g),new Lv(null);const A=window.open(t||"",g,E);Tt(A,s,"popup-blocked");try{A.focus()}catch{}return new Lv(A)}function mI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const gI="__/auth/handler",pI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Pv(s,t,i,r,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Eo,eventId:l};if(t instanceof Qm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",GS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof $l){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${yI}=${encodeURIComponent(_)}`:"";return`${_I(s)}?${Yl(g).slice(1)}${y}`}function _I({config:s}){return s.emulator?Bm(s,pI):`https://${s.authDomain}/${gI}`}const Qd="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=HR,this._overrideRedirectResult=jR}async _openPopup(t,i,r,l){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(t,i,r,am(),l);return dI(t,c,Km())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Pv(t,i,r,am(),l);return bR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await oI(t),r=new GR(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return qT()||UT()||Fm()}}const TI=vI;var zv="@firebase/auth",jv="1.12.0";class EI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(s){Hi(new ci("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(s)},y=new tR(r,l,c,_);return aR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Hi(new ci("auth-internal",t=>{const i=gh(t.getProvider("auth").getImmediate());return(r=>new EI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(zv,jv,bI(s)),Yn(zv,jv,"esm2020")}const AI=300,wI=X0("authIdTokenMaxAge")||AI;let Bv=null;const RI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>wI)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function II(s=Om()){const t=la(s,"auth");if(t.isInitialized())return t.getImmediate();const i=rR(s,{popupRedirectResolver:TI,persistence:[xR,vR,$T]}),r=X0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=RI(c.toString());gR(i,d,()=>d(i.currentUser)),mR(i,g=>d(g))}}const l=K0("auth");return l&&oR(i,`http://${l}`),i}function CI(){return document.getElementsByTagName("head")?.[0]??document}eR({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=li("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",CI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,sE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,U){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return S.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],x=C.g[2];let U=C.g[3],w;w=S+(U^I&(x^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(x^S&(I^x))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(I^U&(S^I))+V[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(S^x&(U^S))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(U^I&(x^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(x^S&(I^x))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(I^U&(S^I))+V[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(S^x&(U^S))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(U^I&(x^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(x^S&(I^x))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(I^U&(S^I))+V[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(S^x&(U^S))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(U^I&(x^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(x^S&(I^x))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=x+(I^U&(S^I))+V[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(S^x&(U^S))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(x^U&(I^x))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(U^S))+V[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(x^U))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(I^x))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(U^S))+V[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(x^U))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(I^x))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(U^S))+V[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(x^U))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^U&(I^x))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(U^S))+V[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(x^U))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(I^x^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^x)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^I)+V[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^S)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^x)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^I)+V[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^S)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^x)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^I)+V[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^S)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^x)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=x+(U^S^I)+V[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^S)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(x^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~x))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~I))+V[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~S))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~x))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~I))+V[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~S))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~x))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~I))+V[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~S))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~x))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=x+(S^(U|~I))+V[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let x=this.h,U=0;for(;U<S;){if(x==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[x++]=C.charCodeAt(U++),x==this.blockSize){l(this,V),x=0;break}}else for(;U<S;)if(V[x++]=C[U++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const U=C[x]|0;V&&U==S||(I[x]=U,V=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return Z(y(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function E(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return Z(E(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let U=0;U<C.length;U+=8){var x=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+x),S);x<8?(x=y(Math.pow(S,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var A=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(st(this))return-Z(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(st(this))return"-"+Z(this).toString(C);const S=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Ht(I,S).g;I=mt(I,x.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,W(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=mt(this,C),st(C)?-1:W(C)?0:1};function Z(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return st(this)?Z(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=S;x++){let U=V+(this.i(x)&65535)+(C.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,U&=65535,w&=65535,I[x]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,S){return C.add(Z(S))}s.j=function(C){if(W(this)||W(C))return A;if(st(this))return st(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(st(C))return Z(this.j(Z(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const U=this.i(V)>>>16,w=this.i(V)&65535,ee=C.i(x)>>>16,ve=C.i(x)&65535;I[2*V+2*x]+=w*ve,vt(I,2*V+2*x),I[2*V+2*x+1]+=U*ve,vt(I,2*V+2*x+1),I[2*V+2*x+1]+=w*ee,vt(I,2*V+2*x+1),I[2*V+2*x+2]+=U*ee,vt(I,2*V+2*x+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function vt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function yt(C,S){this.g=C,this.h=S}function Ht(C,S){if(W(S))throw Error("division by zero");if(W(C))return new yt(A,A);if(st(C))return S=Ht(Z(C),S),new yt(Z(S.g),Z(S.h));if(st(S))return S=Ht(C,Z(S)),new yt(Z(S.g),S.h);if(C.g.length>30){if(st(C)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=ae(I),V=ae(V);var x=Dt(I,1),U=Dt(V,1);for(V=Dt(V,2),I=Dt(I,2);!W(V);){var w=U.add(V);w.l(C)<=0&&(x=x.add(I),U=w),V=Dt(V,1),I=Dt(I,1)}return S=mt(C,x.j(S)),new yt(x,S)}for(x=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(S);st(w)||w.l(C)>0;)I-=V,U=y(I),w=U.j(S);W(U)&&(U=M),x=x.add(U),C=mt(C,w)}return new yt(x,C)}s.B=function(C){return Ht(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ae(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Dt(C,S){const I=S>>5;S%=32;const V=C.g.length-I,x=[];for(let U=0;U<V;U++)x[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(x,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,or=d}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rE,Dl,aE,Lc,um,oE,lE,uE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[L].apply(b,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const b=yt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var yt=new st(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Dt=!1,C=new vt,S=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,x),ee.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,b,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),$t={};function Jt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Jt(u,m[B],v,b,L);return null}return v=Ts(v),u&&u[ve]?u.J(m,v,g(b)?!!b.capture:!1,L):on(u,m,v,!1,b,L)}function on(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let It=pi(u);if(It||(u[Ot]=It=new rt(u)),v=It.add(m,v,b,tt,B),v.proxy)return v;if(b=fi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fi(){function u(v){return m.call(u.src,u.listener,v)}const m=gi;return u}function di(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)di(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=Ts(v),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,b,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=pi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,b,L)),(v=u>-1?m[u]:null)&&mi(v))}function mi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])pt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Tn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=pi(m))?(pt(v,u),v.h==0&&(v.src=null,m[Ot]=null)):ht(u)}}}function Tn(u){return u in $t?$t[u]:$t[u]="on"+u}function gi(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&mi(u),u=v.call(b,m)}return u}function pi(u){return u=u[Ot],u instanceof rt?u:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(m){return u.handleEvent(m)}),u[yi])}function me(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(me,V),me.prototype[ve]=!0,me.prototype.removeEventListener=function(u,m,v,b){di(this,u,m,v,b)};function Ee(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Mn(B,b,!0,m)&&L;if(B=m.g=u,L=Mn(B,b,!0,m)&&L,L=Mn(B,b,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Mn(B,b,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},me.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Mn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const It=tt.listener,Ae=tt.ha||tt.src;tt.fa&&pt(u.i,tt),L=It.call(Ae,b)!==!1&&L}}return L&&!b.defaultPrevented}function Io(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ha(u){u.g=Io(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ge extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(u){V.call(this),this.h=u,this.g={}}A(_i,V);var Es=[];function vr(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&mi(m)},u),u.g={}}_i.prototype.N=function(){_i.Z.N.call(this),vr(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=d.JSON.stringify,Co=d.JSON.parse,fa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function da(){}function ma(){}var En={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ue(){x.call(this,"d")}A(ue,x);function Qe(){x.call(this,"c")}A(Qe,x);var pe={},Tr=null;function bs(){return Tr=Tr||new me}pe.Ia="serverreachability";function Er(u){x.call(this,pe.Ia,u)}A(Er,x);function Vn(u){const m=bs();Ee(m,new Er(m))}pe.STAT_EVENT="statevent";function X(u,m){x.call(this,pe.STAT_EVENT,u),this.stat=m}A(X,x);function it(u){const m=bs();Ee(m,new X(m,u))}pe.Ja="timingevent";function lt(u,m){x.call(this,pe.Ja,u),this.size=m}A(lt,x);function At(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ft(){this.g=!0}Ft.prototype.ua=function(){this.g=!1};function Ki(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var tt="",It=B.split("&");for(let Kt=0;Kt<It.length;Kt++){var Ae=It[Kt].split("=");if(Ae.length>1){const ye=Ae[0];Ae=Ae[1];const Pn=ye.split("_");tt=Pn.length>=2&&Pn[1]=="type"?tt+(ye+"="+Ae+"&"):tt+(ye+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function iu(u,m,v,b,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(b?" "+b:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Ft.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return Xn(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Ar(){}A(Ar,da),Ar.prototype.g=function(){return new XMLHttpRequest},Do=new Ar;function Yi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ce={},qe={};function Ti(u,m,v){u.M=1,u.A=wr(De(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ei(u),u.B=De(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),va(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Jn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ge(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Es[0]=L.toString()),L=Es);for(let B=0;B<L.length;B++){const tt=Jt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Vn(),Ki(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const It=ti(this.g),Ae=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||Ae==7||(Ae==8||Kt<=0?Vn(3):Vn(2)),bi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,it(12),bn(this),kn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<v.length;)if(ye=au(this,v),ye==qe){It==4&&(this.m=4,it(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Ce){this.m=4,it(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,ye,null),Si(this,ye);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,it(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(tt),tt.P=!0,it(11))}}else vi(this.i,this.l,v,null),Si(this,v);It==4&&bn(this),this.o&&!this.K&&(It==4?gu(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),bn(this),kn(this)}}}catch{}};function Uh(u){if(!ru(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const b=m.length,L=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Ce:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}$n.prototype.cancel=function(){this.K=!0,bn(this)};function Ei(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=At(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(Vn(),it(17)),bn(this),this.m=2,kn(this)):pa(this,this.T-u)};function kn(u){u.j.I==0||u.K||gu(u.j,u)}function bn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),Ds(v);else break t;Or(v),it(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=At(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Aa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const ye=Kt[0];if(!(ye<=v.K))if(v.K=ye,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Pn=Kt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Oi=Kt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ei=Kt[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ni=u.g;if(ni){const Mr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=b.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(b.G){const wa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(b.wa=wa,Zt(b.J,b.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=u;if(b.na=_u(b,b.L?b.ba:null,b.W),tt.L){Vo(b.h,tt);var It=tt,Ae=b.O;Ae&&(It.H=Ae),It.D&&(bi(It),Ei(It)),b.g=tt}else du(b);v.i.length>0&&Di(v)}else Kt[0]!="stop"&&Kt[0]!="close"||xi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?xi(v,7):Ho(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}Vn(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Uo(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ss(this,m[4]),this.h=Ri(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,_a,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Lo:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,uu)),u.join("")},Sn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const It=L[tt++];It=="."?b&&tt==L.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==L.length&&B.push("")):(B.push(It),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Uo(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new Sn(u)}function He(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof ws?(u.i=m,Ta(u.i,u.l)):(v||(m=Rr(m,As)),u.i=new ws(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function wr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,lu=/[#\?:]/g,Lo=/[#\?]/g,As=/[#\?@]/g,uu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,m){fn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){fn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return fn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function zo(u,m){fn(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=Rs(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zo(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Yi(v);v=zo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Yi(v[B])),u.push(tt)}}return this.i=u.join("&")};function hu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(cu(this,b),va(this,L,v))},u)),u.j=m}function Zn(u,m){const v=new Ft;if(d.Image){const b=new Image;b.onload=E(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function jo(u,m){const v=new Ft,b=new AbortController,L=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Is(){this.g=new fa}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ii,da),Ii.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,me),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):Wn(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return xt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Ln(v),typeof u=="string"?v!=null&&Yi(v):Zt(u,m,v))}function ne(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,me);var Ci=/^https?$/i,Bo=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),Xi(u)}function qo(u){u.A||(u.A=!0,Ee(u,"complete"),Ee(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ee(this,"complete"),Ee(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ee(u,"readystatechange"),ti(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(u.D).match(ou)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!Ci.test(tt?tt.toLowerCase():"")}v=b}if(v)Ee(u,"complete"),Ee(u,"success");else{u.o=6;try{var L=ti(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",qo(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ee(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Co(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=su(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new Ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){it(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=_u(this,null,this.W),Di(this)};function Ho(u){if(ba(u),u.I==3){var m=u.V++,v=De(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),xr(u,v),m=new $n(u,u.j,m),m.M=2,m.A=wr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}yu(u)}function Ds(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function ba(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||S(),Dt||(ae(),Dt=!0),C.add(m,u),u.D=0}}function Sa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=At(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new $n(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=De(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),xr(this,v),B&&(this.R?m="headers="+Yi(Ln(B))+"&"+m:this.u&&Cr(v,this.u,B)),Mo(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const b=De(u.J);Zt(b,"SID",u.M),Zt(b,"RID",v),Zt(b,"AID",u.K),xr(u,b),u.u&&u.o&&Cr(b,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),Ti(v,b,m)}function xr(u,m){u.H&&xt(u.H,function(v,b){Zt(m,b,v)}),u.l&&xt({},function(v,b){Zt(m,b,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const Ae=["count="+v];It==-1?v>0?(It=L[0].g,Ae.push("ofs="+It)):It=0:Ae.push("ofs="+It);let Kt=!0;for(let ye=0;ye<v;ye++){var B=L[ye].g;const Pn=L[ye].map;if(B-=It,B<0)It=Math.max(0,L[ye].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,ei]of tt){let ni=ei;g(ei)&&(ni=Xn(ei)),Ae.push(B+Oi+"="+encodeURIComponent(ni))}}catch(Oi){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Pn)}}if(Kt){tt=Ae.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||S(),Dt||(ae(),Dt=!0),C.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=At(y(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=At(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Ds(this),mu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(De(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Or(this),it(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){Aa(u),Go(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,Vo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=bs(),Ee(b,new lt(b,v)),Di(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Sa(u,m)||b==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),wr(b),L?Zn(b.toString(),v):jo(b.toString(),v)}else it(2);u.I=0,u.l&&u.l.pa(m),yu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var b=v instanceof Sn?De(v):new Sn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ss(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Sn(null);b&&He(B,b),m&&(B.g=m),L&&Ss(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Zt(b,v,m),Zt(b,"VER",u.ka),xr(u,b),b}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ii({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){me.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A(ln,me),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ho(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Xn(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Di(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,ln.Z.N.call(this)};function Eu(u){ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Eu,ue);function bu(){Qe.call(this),this.status=1}A(bu,Qe);function Ji(u){this.g=u}A(Ji,Tu),Ji.prototype.ra=function(){Ee(this.g,"a")},Ji.prototype.qa=function(u){Ee(this.g,new Eu(u))},Ji.prototype.pa=function(u){Ee(this.g,new bu)},Ji.prototype.oa=function(){Ee(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,uE=function(){return new xs},lE=function(){return bs()},oE=pe,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Lc=Sr,No.COMPLETE="complete",aE=No,ma.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",me.prototype.listen=me.prototype.J,Dl=ma,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,rE=ne}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let So="12.7.0";const ra=new fh("@firebase/firestore");function eo(){return ra.logLevel}function at(s,...t){if(ra.logLevel<=Lt.DEBUG){const i=t.map(Xm);ra.debug(`Firestore (${So}): ${s}`,...i)}}function _s(s,...t){if(ra.logLevel<=Lt.ERROR){const i=t.map(Xm);ra.error(`Firestore (${So}): ${s}`,...i)}}function fo(s,...t){if(ra.logLevel<=Lt.WARN){const i=t.map(Xm);ra.warn(`Firestore (${So}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,cE(s,r,i)}function cE(s,t,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw _s(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||cE(t,l,r)}function Rt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends hi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class DI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xI{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ta,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ta)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new hE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class OI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Pt(s,t){return s<t?-1:s>t?1:0}function cm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Kd(l)===Kd(c)?Pt(l,c):Kd(l)?1:-1}return Pt(s.length,t.length)}const UI=55296,LI=57343;function Kd(s){const t=s.charCodeAt(0);return t>=UI&&t<=LI}function mo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Qv="__name__";class Li{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Li.isNumericId(t),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class de extends Li{construct(t,i,r){return new de(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Li{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return PI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new We([Qv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(de.fromString(t))}static fromName(t){return new dt(de.fromString(t).popFirst(5))}static empty(){return new dt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new de(t.slice()))}}function fE(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function zI(s,t,i,r){if(t===!0&&r===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Kv(s){if(!dt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Yv(s){if(dt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function lr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!dE(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const Xv=-62135596800,$v=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*$v);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Xv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ue("string",le._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function jI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new hr(l,dt.empty(),t)}function BI(s){return new hr(s.readTime,s.key,ql)}class hr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new hr(St.min(),dt.empty(),ql)}static max(){return new hr(St.max(),dt.empty(),ql)}}function qI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==HI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function GI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Zm=-1;function vh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function QI(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const mE="";function KI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Jv(t)),t=YI(s.get(i),t);return Jv(t)}function YI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function Jv(s){return s+mE+""}function Zv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function yr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function gE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Te{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new Te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ze(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new xn([])}unionWith(t){let i=new Be(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=XI.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",TE="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===yE}function Th(s){const t=s.mapValue.fields[vE];return Wm(t)?Th(t):t}function Hl(s){const t=fr(s.mapValue.fields[TE].timestampValue);return new le(t.seconds,t.nanos)}class $I{constructor(t,i,r,l,c,d,g,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const th="(default)";class Fl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",JI="__max__",Nc={mapValue:{}},bE="__vector__",eh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:WI(s)?9007199254740991:ZI(s)?10:11:_t(28295,{value:s})}function Gi(s,t){if(s===t)return!0;const i=mr(s);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),g=fr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),g=Ie(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zv(d)!==Zv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Gi(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Gl(s,t){return(s.values||[]).find((i=>Gi(i,t)))!==void 0}function go(s,t){if(s===t)return 0;const i=mr(s),r=mr(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ie(c.integerValue||c.doubleValue),_=Ie(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return t0(s.timestampValue,t.timestampValue);case 4:return t0(Hl(s),Hl(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=dr(c),_=dr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Pt(g[y],_[y]);if(E!==0)return E}return Pt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Pt(Ie(c.latitude),Ie(d.latitude));return g!==0?g:Pt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return e0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[eh]?.arrayValue,E=_[eh]?.arrayValue,A=Pt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:e0(y,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const M=cm(_[A],E[A]);if(M!==0)return M;const G=go(g[_[A]],y[E[A]]);if(G!==0)return G}return Pt(_.length,E.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function t0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=fr(s),r=fr(t),l=Pt(i.seconds,r.seconds);return l!==0?l:Pt(i.nanos,r.nanos)}function e0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=go(i[l],r[l]);if(c)return c}return Pt(i.length,r.length)}function po(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=fr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=hm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Pc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return yr(r.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function tg(s){return!!s&&"arrayValue"in s}function n0(s){return!!s&&"nullValue"in s}function i0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function ZI(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===bE}function Ul(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return yr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Ul(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return t}return{...s}}function WI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(i)}setAll(t){let i=We.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Ul(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){yr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new vn(Ul(this.value))}}function SE(s){const t=[];return yr(s.fields,((i,r)=>{const l=new We([i]);if(zc(r)){const c=SE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new xn(t)}class rn{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),vn.empty(),0)}static newFoundDocument(t,i,r,l){return new rn(t,1,i,St.min(),r,l,0)}static newNoDocument(t,i){return new rn(t,2,i,St.min(),St.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,St.min(),St.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function s0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=go(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function tC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class AE{}class ze extends AE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new nC(t,i,r):i==="array-contains"?new rC(t,r):i==="in"?new aC(t,r):i==="not-in"?new oC(t,r):i==="array-contains-any"?new lC(t,r):new ze(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new iC(t,r):new sC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qi(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(s){return s.op==="and"}function RE(s){return eC(s)&&wE(s)}function eC(s){for(const t of s.filters)if(t instanceof Qi)return!1;return!0}function dm(s){if(s instanceof ze)return s.field.canonicalString()+s.op.toString()+po(s.value);if(RE(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function IE(s,t){return s instanceof ze?(function(r,l){return l instanceof ze&&r.op===l.op&&r.field.isEqual(l.field)&&Gi(r.value,l.value)})(s,t):s instanceof Qi?(function(r,l){return l instanceof Qi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&IE(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function CE(s){return s instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(s):"Filter"}class nC extends ze{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class iC extends ze{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class sC extends ze{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class rC extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return tg(i)&&Gl(i.arrayValue,this.value)}}class aC extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class oC extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class lC extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!tg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class uC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function a0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new uC(s,t,i,r,l,c,d)}function eg(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>po(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>po(r))).join(",")),t.Te=i}return t.Te}function ng(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!IE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!r0(s.startAt,t.startAt)&&r0(s.endAt,t.endAt)}function mm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(s,t,i,r,l,c,d,g){return new Eh(s,t,i,r,l,c,d,g)}function ig(s){return new Eh(s)}function o0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hC(s){return s.collectionGroup!==null}function Ll(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,r))})),i.has(We.keyField().canonicalString())||t.Ie.push(new ih(We.keyField(),r))}return t.Ie}function zi(s){const t=Rt(s);return t.Ee||(t.Ee=fC(t,Ll(s))),t.Ee}function fC(s,t){if(s.limitType==="F")return a0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return a0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function gm(s,t,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function bh(s,t){return ng(zi(s),zi(t))&&s.limitType===t.limitType}function DE(s){return`${eg(zi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Ll(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Ll(r),l)||r.endAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Ll(r),l))})(s,t)}function dC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(t,i)=>{let r=!1;for(const l of Ll(s)){const c=mC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function mC(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?go(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class ua{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){yr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const gC=new Te(dt.comparator);function vs(){return gC}const OE=new Te(dt.comparator);function xl(...s){let t=OE;for(const i of s)t=t.insert(i.key,i);return t}function ME(s){let t=OE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Zr(){return Pl()}function VE(){return Pl()}function Pl(){return new ua((s=>s.toString()),((s,t)=>s.isEqual(t)))}const pC=new Te(dt.comparator),yC=new Be(dt.comparator);function zt(...s){let t=yC;for(const i of s)t=t.add(i);return t}const _C=new Be(Pt);function vC(){return _C}function sg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function kE(s){return{integerValue:""+s}}function TC(s,t){return QI(t)?kE(t):sg(s,t)}class Ah{constructor(){this._=void 0}}function EC(s,t,i){return s instanceof sh?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[TE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wm(c)&&(c=Th(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):s instanceof Ql?LE(s,t):s instanceof Kl?PE(s,t):(function(l,c){const d=UE(l,c),g=l0(d)+l0(l.Ae);return fm(d)&&fm(l.Ae)?kE(g):sg(l.serializer,g)})(s,t)}function bC(s,t,i){return s instanceof Ql?LE(s,t):s instanceof Kl?PE(s,t):i}function UE(s,t){return s instanceof rh?(function(r){return fm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class sh extends Ah{}class Ql extends Ah{constructor(t){super(),this.elements=t}}function LE(s,t){const i=zE(t);for(const r of s.elements)i.some((l=>Gi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Kl extends Ah{constructor(t){super(),this.elements=t}}function PE(s,t){let i=zE(t);for(const r of s.elements)i=i.filter((l=>!Gi(l,r)));return{arrayValue:{values:i}}}class rh extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function l0(s){return Ie(s.integerValue||s.doubleValue)}function zE(s){return tg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Ql&&l instanceof Ql||r instanceof Kl&&l instanceof Kl?mo(r.elements,l.elements,Gi):r instanceof rh&&l instanceof rh?Gi(r.Ae,l.Ae):r instanceof sh&&l instanceof sh})(s.transform,t.transform)}class AC{constructor(t,i){this.version=t,this.transformResults=i}}class ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rg(s.key,ui.none()):new Wl(s.key,s.data,ui.none());{const i=s.data,r=vn.empty();let l=new Be(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new _r(s.key,r,new xn(l.toArray()),ui.none())}}function wC(s,t,i){s instanceof Wl?(function(l,c,d){const g=l.value.clone(),_=c0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof _r?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=c0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function zl(s,t,i,r){return s instanceof Wl?(function(c,d,g,_){if(!jc(c.precondition,d))return g;const y=c.value.clone(),E=h0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof _r?(function(c,d,g,_){if(!jc(c.precondition,d))return g;const y=h0(c.fieldTransforms,_,d),E=d.data;return E.setAll(BE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function RC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=UE(r.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(r.field,c))}return i||null}function u0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&mo(r,l,((c,d)=>SC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends wh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends wh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function c0(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,bC(d,g,i[l]))}return r}function h0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,EC(c,d,t))}return r}class rg extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&wC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=zl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=zl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=VE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=jE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((i,r)=>u0(i,r)))&&mo(this.baseMutations,t.baseMutations,((i,r)=>u0(i,r)))}}class ag{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return pC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ag(t,i,r,l)}}class NC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DC{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Bt;function xC(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function qE(s){if(s===void 0)return _s("GRPC error has no .code"),J.UNKNOWN;switch(s){case ke.OK:return J.OK;case ke.CANCELLED:return J.CANCELLED;case ke.UNKNOWN:return J.UNKNOWN;case ke.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ke.INTERNAL:return J.INTERNAL;case ke.UNAVAILABLE:return J.UNAVAILABLE;case ke.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ke.NOT_FOUND:return J.NOT_FOUND;case ke.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ke.ABORTED:return J.ABORTED;case ke.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ke.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(Bt=ke||(ke={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const MC=new or([4294967295,4294967295],0);function f0(s){const t=OC().encode(s),i=new sE;return i.update(t),new Uint8Array(i.digest())}function d0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,r],0),new or([l,c],0)]}class og{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(or.fromNumber(r)));return l.compare(MC)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rh(St.min(),l,new Te(Pt),vs(),zt())}}class tu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new tu(r,i,zt(),zt(),zt())}}class Bc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=g0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(t){this.Ge=t,this.ze=new Map,this.je=vs(),this.Je=Dc(),this.He=Dc(),this.Ye=new Te(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(r===0){const d=new dt(c.path);this.et(i,d,rn.newNoDocument(d,St.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=dr(r).toUint8Array()}catch(_){if(_ instanceof pE)return fo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new og(d,l,c)}catch(_){return fo(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,r);return this.je=vs(),this.Je=Dc(),this.He=Dc(),this.Ye=new Te(Pt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new m0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Be(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Be(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new Te(dt.comparator)}function g0(){return new Te(dt.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class PC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||vh(t)?t:{value:t}}function ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function zC(s,t){return ah(s,t.toTimestamp())}function ji(s){return Xt(!!s,49232),St.fromTimestamp((function(i){const r=fr(i);return new le(r.seconds,r.nanos)})(s))}function lg(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function QE(s){const t=de.fromString(s);return Xt(JE(t),10190,{key:t.toString()}),t}function _m(s,t){return lg(s.databaseId,t.path)}function Yd(s,t){const i=QE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(YE(i))}function KE(s,t){return lg(s.databaseId,t)}function jC(s){const t=QE(s);return t.length===4?de.emptyPath():YE(t)}function vm(s){return new de(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function p0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function BC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:qE(y.code);return new ct(E,y.message||"")})(d);i=new FE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):St.min(),g=new vn({mapValue:{fields:r.document.fields}}),_=rn.newFoundDocument(l,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];i=new Bc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?ji(r.readTime):St.min(),d=rn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new DC(l,c),g=r.targetId;i=new HE(g,d)}}return i}function qC(s,t){let i;if(t instanceof Wl)i={update:p0(s,t.key,t.value)};else if(t instanceof rg)i={delete:_m(s,t.key)};else if(t instanceof _r)i={update:p0(s,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof IC))return _t(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function HC(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(St.min())&&(d=ji(c)),new AC(d,l.transformResults||[])})(i,t)))):[]}function FC(s,t){return{documents:[KE(s,t.path)]}}function GC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=KE(s,l);const c=(function(y){if(y.length!==0)return $E(Qi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:io(M.field),direction:YC(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function QC(s){let t=jC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=XE(A);return M instanceof Qi&&RE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new ih(so(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,vh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,G=A.values||[];return new nh(G,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,G=A.values||[];return new nh(G,M)})(i.endAt)),cC(t,l,d,c,g,"F",_,y)}function KC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ze.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((r=>XE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function YC(s){return kC[s]}function XC(s){return UC[s]}function $C(s){return LC[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return We.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof ze?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:XC(i.op),value:i.value}}})(s):s instanceof Qi?(function(i){const r=i.getFilters().map((l=>$E(l)));return r.length===1?r[0]:{compositeFilter:{op:$C(i.op),filters:r}}})(s):_t(54877,{filter:s})}function JC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class sr{constructor(t,i,r,l,c=St.min(),d=St.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZC{constructor(t){this.yt=t}}function WC(s){const t=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}class tN{constructor(){this.Cn=new eN}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(hr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class eN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Be(de.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Be(de.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(ZE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const _0="LruGarbageCollector",nN=1048576;function v0([s,t],[i,r]){const l=Pt(s,i);return l===0?Pt(t,r):l}class iN{constructor(t){this.Ir=t,this.buffer=new Be(v0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?at(_0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class rN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(_h.ce);const r=new iN(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(y0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),eo()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function aN(s,t){return new rN(s,t)}class oN{constructor(){this.changes=new ua((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&zl(r.mutation,l,xn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=Zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=xl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=vs();const d=Pl(),g=(function(){return Pl()})();return i.forEach(((_,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof _r)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),zl(E.mutation,y,E.mutation.getFieldMask(),le.now())):d.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new lN(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Pl();let l=new Te(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=r.get(_)||xn.empty();E=g.applyToLocalView(y,E),r.set(_,E);const A=(l.get(g.batchId)||zt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,A=VE();E.forEach((M=>{if(!c.has(M)){const G=jE(i.get(M),r.get(M));G!==null&&A.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(Zr());let g=ql,_=c;return d.next((y=>$.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((E=>({batchId:g,changes:ME(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=xl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(A,M){return new Eh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,rn.newInvalidDocument(E)))}));let g=xl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&zl(E.mutation,y,xn.empty(),le.now()),Sh(i,y)&&(g=g.insert(_,y))})),g}))}}class cN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class hN{constructor(){this.overlays=new Te(dt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Zr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=Zr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Te(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Zr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return $.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NC(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class fN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class ug{constructor(){this.Qr=new Be(Ge.$r),this.Ur=new Be(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new de([])),r=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new de([])),r=new Ge(i,t),l=new Ge(i,t+1);let c=zt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class dN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Ge.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Be(Pt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new dt(c),0);let g=new Be(Pt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ge(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mN{constructor(t){this.ri=t,this.docs=(function(){return new Te(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let r=vs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=vs();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qI(BI(E),r)<=0||(l.has(E.key)||Sh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new gN(this)}getSize(t){return $.resolve(this.size)}}class gN extends oN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class pN{constructor(t){this.persistence=t,this.si=new ua((i=>eg(i)),ng),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=t(this),this.Pi=new pN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(l){return new mN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZC(i),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new dN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new yN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class yN extends FI{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new ua((r=>KI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=aN(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(t,i.fromCache,r,l)}}class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jS()?8:GI(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _N;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(eo()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(eo()<=Lt.DEBUG&&at("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(eo()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):$.resolve())}ys(t,i){if(o0(i))return $.resolve(null);let r=zi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return o0(i)||l.isEqual(St.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(eo()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(t,d,i,jI(l,ql)).next((g=>g)))}))}Ds(t,i){let r=new Be(xE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return eo()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(t,i,hr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",TN=3e8;class EN{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Te(Pt),this.xs=new ua((c=>eg(c)),ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bN(s,t,i,r){return new EN(s,t,i,r)}async function t1(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=zt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function SN(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const A=y.batch,M=A.keys();let G=$.resolve();return M.forEach((W=>{G=G.next((()=>E.getEntry(_,W))).next((st=>{const Z=y.docVersions.get(W);Xt(Z!==null,48541),st.version.compareTo(Z)<0&&(A.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),E.addEntry(st)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function e1(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function AN(s,t){const i=Rt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,r)),l=l.insert(A,G),(function(st,Z,mt){return st.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=TN?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,G,E)&&g.push(i.Pi.updateTargetData(c,G))}));let _=vs(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(wN(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!r.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function wN(s,t,i){let r=zt(),l=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=vs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function RN(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function IN(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new sr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Tm(s,t,i){const r=Rt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;at(fg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function T0(s,t,i){const r=Rt(s);let l=St.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=Rt(_),M=A.xs.get(E);return M!==void 0?$.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,E)})(r,d,zi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:zt()))).next((g=>(CN(r,dC(t),g),{documents:g,Qs:c})))))}function CN(s,t,i){let r=s.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class E0{constructor(){this.activeTargetIds=vC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NN{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DN{Oo(t){}shutdown(){}}const b0="ConnectivityMonitor";class S0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(b0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function Em(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Xd="RestConnection",xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());at(Xd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),E=To(y);return this.Jo(t,g,_,r,E).then((A=>(at(Xd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw fo(Xd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=xN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class MN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class VN extends ON{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Em();return new Promise(((g,_)=>{const y=new rE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lc.NO_ERROR:const A=y.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Lc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),_(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const M=y.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const st=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(vt)>=0?vt:J.UNKNOWN})(W.status);_(new ct(st,W.message))}else _(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);at(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,r,15)}))}T_(t,i,r){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),g=lE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const E=c.join("");at(nn,`Creating RPC '${t}' stream ${l}: ${E}`,_);const A=d.createWebChannel(E,_);this.I_(A);let M=!1,G=!1;const W=new MN({Yo:Z=>{G?at(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(M||(at(nn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(nn,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),st=(Z,mt,vt)=>{Z.listen(mt,(yt=>{try{vt(yt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return st(A,Dl.EventType.OPEN,(()=>{G||(at(nn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),st(A,Dl.EventType.CLOSE,(()=>{G||(G=!0,at(nn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),st(A,Dl.EventType.ERROR,(Z=>{G||(G=!0,fo(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),st(A,Dl.EventType.MESSAGE,(Z=>{if(!G){const mt=Z.data[0];Xt(!!mt,16349);const vt=mt,yt=vt?.error||vt[0]?.error;if(yt){at(nn,`RPC '${t}' stream ${l} received error:`,yt);const Ht=yt.status;let ae=(function(S){const I=ke[S];if(I!==void 0)return qE(I)})(Ht),Dt=yt.message;ae===void 0&&(ae=J.INTERNAL,Dt="Unknown error status: "+Ht+" with message "+yt.message),G=!0,W.a_(new ct(ae,Dt)),A.close()}else at(nn,`RPC '${t}' stream ${l} received:`,mt),W.u_(mt)}})),st(g,oE.STAT_EVENT,(Z=>{Z.stat===um.PROXY?at(nn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===um.NOPROXY&&at(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Ih(s){return new PC(s,!0)}class n1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const A0="PersistentStream";class i1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kN extends i1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=BC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ji(d.readTime):St.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:FC(c,_)}:{query:GC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GE(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=KC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class UN extends i1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=HC(t.writeResults,t.commitTime),r=ji(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>qC(this.serializer,r)))};this.q_(i)}}class LN{}class PN extends LN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class jN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(at(aa,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Ra=new zN(r,l)}}async function Ch(s){if(ca(s))for(const t of s.da)await t(!0)}async function eu(s){for(const t of s.da)await t(!1)}function s1(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):Ro(i).O_()&&mg(i,t))}function dg(s,t){const i=Rt(s),r=Ro(i);i.Ia.delete(t),r.O_()&&r1(i,t),i.Ia.size===0&&(r.O_()?r.L_():ca(i)&&i.Ra.set("Unknown"))}function mg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(s).Y_(t)}function r1(s,t){s.Va.Ue(t),Ro(s).Z_(t)}function gg(s){s.Va=new VC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Ra.ua()}function pg(s){return ca(s)&&!Ro(s).x_()&&s.Ia.size>0}function ca(s){return Rt(s).Ea.size===0}function a1(s){s.Va=void 0}async function BN(s){s.Ra.set("Online")}async function qN(s){s.Ia.forEach(((t,i)=>{mg(s,t)}))}async function HN(s,t){a1(s),pg(s)?(s.Ra.ha(t),gg(s)):s.Ra.set("Unknown")}async function FN(s,t,i){if(s.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lh(s,r)}else if(t instanceof Bc?s.Va.Ze(t):t instanceof HE?s.Va.st(t):s.Va.tt(t),!i.isEqual(St.min()))try{const r=await e1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),r1(c,_);const A=new sr(E.target,_,y,E.sequenceNumber);mg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(aa,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>e1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function o1(s,t){return t().catch((i=>lh(s,i,t)))}async function Nh(s){const t=Rt(s),i=gr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;GN(t);)try{const l=await RN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,QN(t,l)}catch(l){await lh(t,l)}l1(t)&&u1(t)}function GN(s){return ca(s)&&s.Ta.length<10}function QN(s,t){s.Ta.push(t);const i=gr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function l1(s){return ca(s)&&!gr(s).x_()&&s.Ta.length>0}function u1(s){gr(s).start()}async function KN(s){gr(s).ra()}async function YN(s){const t=gr(s);for(const i of s.Ta)t.ea(i.mutations)}async function XN(s,t,i){const r=s.Ta.shift(),l=ag.from(r,t,i);await o1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function $N(s,t){t&&gr(s).X_&&await(async function(r,l){if((function(d){return xC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();gr(r).B_(),await o1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(r)}})(s,t),l1(s)&&u1(s)}async function w0(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),at(aa,"RemoteStore received new credentials");const r=ca(i);i.Ea.add(3),await eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function JN(s,t){const i=Rt(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(i,r,l){const c=Rt(i);return c.sa(),new kN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:BN.bind(null,s),t_:qN.bind(null,s),r_:HN.bind(null,s),H_:FN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),a1(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,r,l){const c=Rt(i);return c.sa(),new UN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,s),r_:$N.bind(null,s),ta:YN.bind(null,s),na:XN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new yg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,t){if(_s("AsyncQueue",`${t}: ${s}`),wo(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=xl(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class R0{constructor(){this.ga=new Te(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class _o{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new _o(t,i,uo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WN{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Rt(i),c=l.queries;l.queries=I0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function I0(){return new ua((s=>DE(s)),bh)}async function tD(s,t){const i=Rt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new ZN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=_g(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&vg(i)}async function eD(s,t){const i=Rt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nD(s,t){const i=Rt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&vg(i)}function iD(s,t,i){const r=Rt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function vg(s){s.Ca.forEach((t=>{t.next()}))}var bm,C0;(C0=bm||(bm={})).Ma="default",C0.Cache="cache";class sD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class c1{constructor(t){this.key=t}}class h1{constructor(t){this.key=t}}class rD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=xE(t),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new R0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),G=Sh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;M&&G?M.data.isEqual(G.data)?W!==st&&(r.track({type:3,doc:G}),Z=!0):this.su(M,G)||(r.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!M&&G?(r.track({type:0,doc:G}),Z=!0):M&&!G&&(r.track({type:1,doc:M}),Z=!0,(_||y)&&(g=!0)),Z&&(G?(d=d.add(G),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(G,W){const st=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return st(G)-st(W)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new _o(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new h1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new c1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class aD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class oD{constructor(t){this.key=t,this.hu=!1}}class lD{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>DE(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Te(dt.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(s,t,i=!0){const r=y1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f1(r,t,i,!0),l}async function cD(s,t){const i=y1(s);await f1(i,t,!0,!1)}async function f1(s,t,i,r){const l=await IN(s.localStore,zi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await hD(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&s1(s.remoteStore,l),g}async function hD(s,t,i,r,l){s.pu=(A,M,G)=>(async function(st,Z,mt,vt){let yt=Z.view.ru(mt);yt.Cs&&(yt=await T0(st.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,yt))));const Ht=vt&&vt.targetChanges.get(Z.targetId),ae=vt&&vt.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(yt,st.isPrimaryClient,Ht,ae);return D0(st,Z.targetId,Dt.au),Dt.snapshot})(s,A,M,G);const c=await T0(s.localStore,t,!0),d=new rD(t,c.Qs),g=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);D0(s,i,y.au);const E=new aD(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function fD(s,t,i){const r=Rt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Sm(r,l.targetId)})).catch(Ao)):(Sm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function dD(s,t){const i=Rt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function mD(s,t,i){const r=ED(s);try{const l=await(function(d,g){const _=Rt(d),y=le.now(),E=g.reduce(((G,W)=>G.add(W.key)),zt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=vs(),st=zt();return _.Ns.getEntries(G,E).next((Z=>{W=Z,W.forEach(((mt,vt)=>{vt.isValidDocument()||(st=st.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,W))).next((Z=>{A=Z;const mt=[];for(const vt of g){const yt=RC(vt,A.get(vt.key).overlayedDocument);yt!=null&&mt.push(new _r(vt.key,yt,SE(yt.value.mapValue),ui.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,mt,g)})).next((Z=>{M=Z;const mt=Z.applyToLocalDocumentSet(A,st);return _.documentOverlayCache.saveOverlays(G,Z.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:ME(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Te(Pt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await nu(r,l.changes),await Nh(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function d1(s,t){const i=Rt(s);try{const r=await AN(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await nu(i,r,t)}catch(r){await Ao(r)}}function N0(s,t,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Rt(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(g)&&(y=!0)})),y&&vg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gD(s,t,i){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Te(dt.comparator);d=d.insert(c,rn.newNoDocument(c,St.min()));const g=zt().add(c),_=new Rh(St.min(),new Map,new Te(Pt),d,g);await d1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Eg(r)}else await Tm(r.localStore,t,!1).then((()=>Sm(r,t,i))).catch(Ao)}async function pD(s,t){const i=Rt(s),r=t.batch.batchId;try{const l=await SN(i.localStore,t);g1(i,r,null),m1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await nu(i,l)}catch(l){await Ao(l)}}async function yD(s,t,i){const r=Rt(s);try{const l=await(function(d,g){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Xt(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);g1(r,t,i),m1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await nu(r,l)}catch(l){await Ao(l)}}function m1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function g1(s,t,i){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||p1(s,r)}))}function p1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function D0(s,t,i){for(const r of i)r instanceof c1?(s.Ru.addReference(r.key,t),_D(s,r)):r instanceof h1?(at(Tg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||p1(s,r.key)):_t(19791,{wu:r})}function _D(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Tg,"New document in limbo: "+i),s.Eu.add(r),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(de.fromString(t)),r=s.fu.next();s.Au.set(r,new oD(i)),s.du=s.du.insert(i,r),s1(s.remoteStore,new sr(zi(ig(i.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function nu(s,t,i){const r=Rt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=hg.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const E=Rt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(M=>$.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(A,M.targetId,G))).next((()=>$.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(A,M.targetId,G)))))))))}catch(A){if(!wo(A))throw A;at(fg,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const G=E.Ms.get(M),W=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(M,st)}}})(r.localStore,c))}async function vD(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){at(Tg,"User change. New user:",t.toKey());const r=await t1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nu(i,r.Ls)}}function TD(s,t){const i=Rt(s),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function y1(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gD.bind(null,t),t.Pu.H_=nD.bind(null,t.eventManager),t.Pu.yu=iD.bind(null,t.eventManager),t}function ED(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bN(this.persistence,new vN,t.initialUser,this.serializer)}Cu(t){return new WE(cg.mi,this.serializer)}Du(t){return new NN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class bD extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new WE((r=>oh.mi(r,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WN})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),r=(function(c){return new VN(c)})(t.databaseInfo);return(function(c,d,g,_){return new PN(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new jN(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>N0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new DN})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,E){const A=new lD(l,c,d,g,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);at(aa,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class SD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const pr="FirestoreClient";class AD{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),at(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await t1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function x0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await wD(s);at(pr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>w0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>w0(t.remoteStore,l))),s._onlineComponents=t}async function wD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(pr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new uh)}}else at(pr,"Using default OfflineComponentProvider"),await Jd(s,new bD(void 0));return s._offlineComponents}async function _1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(pr,"Using user provided OnlineComponentProvider"),await x0(s,s._uninitializedComponentsProvider._online)):(at(pr,"Using default OnlineComponentProvider"),await x0(s,new Am))),s._onlineComponents}function RD(s){return _1(s).then((t=>t.syncEngine))}async function O0(s){const t=await _1(s),i=t.eventManager;return i.onListen=uD.bind(null,t.syncEngine),i.onUnlisten=fD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dD.bind(null,t.syncEngine),i}function v1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const M0=new Map;const T1="firestore.googleapis.com",V0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nN)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NI;switch(r.type){case"firstParty":return new MI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M0.get(i);r&&(at("ComponentProvider","Removing Datastore"),M0.delete(i),r.terminate())})(this),Promise.resolve()}}function ID(s,t,i,r={}){s=lr(s,Dh);const l=To(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&($0(`https://${g}`),J0("Firestore",!0)),c.host!==T1&&c.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!cr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=sn.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(A)}s._authCredentials=new DI(new hE(y,E))}}class xh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Zl(i,je._jsonSchema))return new je(t,r||null,new dt(de.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ue("string",je._jsonSchemaVersion),referencePath:Ue("string")};class ur extends xh{constructor(t,i,r){super(t,i,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new dt(t))}withConverter(t){return new ur(this.firestore,t,this._path)}}function U0(s,t,...i){if(s=Le(s),fE("collection","path",t),s instanceof Dh){const r=de.fromString(t,...i);return Yv(r),new ur(s,null,r)}{if(!(s instanceof je||s instanceof ur))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...i));return Yv(r),new ur(s.firestore,null,r)}}function wm(s,t,...i){if(s=Le(s),arguments.length===1&&(t=$m.newId()),fE("doc","path",t),s instanceof Dh){const r=de.fromString(t,...i);return Kv(r),new je(s,null,new dt(r))}{if(!(s instanceof je||s instanceof ur))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...i));return Kv(r),new je(s.firestore,s instanceof ur?s.converter:null,new dt(r))}}const L0="AsyncQueue";class P0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&at(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;at(L0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function j0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vo extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new P0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P0(t),this._firestoreClient=void 0,await t}}}function CD(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:th,l=la(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DS("firestore");c&&ID(l,...c)}return l}function E1(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ND(s),s._firestoreClient}function ND(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new $I(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,v1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new AD(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(tn.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ue("string",Kn._jsonSchemaVersion),bytes:Ue("string")};class Oh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ue("string",Bi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ue("string",qi._jsonSchemaVersion),vectorValues:Ue("object")};const DD=/^__.*__$/;class xD{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}class b1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new _r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function S1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Sg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&DD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OD{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ih(t)}Cc(t,i,r,l=!1){return new Sg({Ac:t,methodName:i,Dc:r,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new OD(s._databaseId,!!t.ignoreUndefinedProperties,i)}function MD(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ag("Data must be an object, but it was:",d,r);const g=w1(r,d);let _,y;if(c.merge)_=new xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Rm(t,A,i);if(!d.contains(M))throw new ct(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);I1(E,M)||E.push(M)}_=new xn(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new xD(new vn(g),_,y)}class Mh extends bg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function VD(s,t,i,r){const l=s.Cc(1,t,i);Ag("Data must be an object, but it was:",l,r);const c=[],d=vn.empty();yr(r,((_,y)=>{const E=wg(t,_,i);y=Le(y);const A=l.yc(E);if(y instanceof Mh)c.push(E);else{const M=Vh(y,A);M!=null&&(c.push(E),d.set(E,M))}}));const g=new xn(c);return new b1(d,g,l.fieldTransforms)}function kD(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Rm(t,r,i)],_=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Rm(t,c[M])),_.push(c[M+1]);const y=[],E=vn.empty();for(let M=g.length-1;M>=0;--M)if(!I1(y,g[M])){const G=g[M];let W=_[M];W=Le(W);const st=d.yc(G);if(W instanceof Mh)y.push(G);else{const Z=Vh(W,st);Z!=null&&(y.push(G),E.set(G,Z))}}const A=new xn(y);return new b1(E,A,d.fieldTransforms)}function Vh(s,t){if(R1(s=Le(s)))return Ag("Unsupported field value:",t,s),w1(s,t);if(s instanceof bg)return(function(r,l){if(!S1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Vh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=le.fromDate(r);return{timestampValue:ah(l.serializer,c)}}if(r instanceof le){const c=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof je){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof qi)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:bE},[eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jm(r)}`)})(s,t)}function w1(s,t){const i={};return gE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yr(s,((r,l)=>{const c=Vh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function R1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Bi||s instanceof Kn||s instanceof je||s instanceof bg||s instanceof qi)}function Ag(s,t,i){if(!R1(i)||!dE(i)){const r=Jm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Rm(s,t,i){if((t=Le(t))instanceof Oh)return t._internalPath;if(typeof t=="string")return wg(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const UD=new RegExp("[~\\*/\\[\\]]");function wg(s,t,i){if(t.search(UD)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Oh(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ct(J.INVALID_ARGUMENT,g+s+_)}function I1(s,t){return s.some((i=>i.isEqual(t)))}class C1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(N1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LD extends C1{data(){return super.data()}}function N1(s,t){return typeof t=="string"?wg(s,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}function PD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zD{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return yr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const i=fr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=de.fromString(t);Xt(JE(r),9688,{name:t});const l=new Fl(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jD(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends C1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(N1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ue("string",ea._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class qc extends ea{data(t={}){return super.data(t)}}class co{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new qc(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:BD(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Ue("string",co._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class D1 extends zD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function qD(s,t,i,...r){s=lr(s,je);const l=lr(s.firestore,vo),c=A1(l);let d;return d=typeof(t=Le(t))=="string"||t instanceof Oh?kD(c,"updateDoc",s._key,t,i,r):VD(c,"updateDoc",s._key,t),Rg(l,[d.toMutation(s._key,ui.exists(!0))])}function HD(s){return Rg(lr(s.firestore,vo),[new rg(s._key,ui.none())])}function FD(s,t){const i=lr(s.firestore,vo),r=wm(s),l=jD(s.converter,t);return Rg(i,[MD(A1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function GD(s,...t){s=Le(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||j0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof je)d=lr(s.firestore,vo),g=ig(s._key.path),c={next:_=>{t[r]&&t[r](QD(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=lr(s,xh);d=lr(_.firestore,vo),g=_._query;const y=new D1(d);c={next:E=>{t[r]&&t[r](new co(d,y,_,E))},error:t[r+1],complete:t[r+2]},PD(s._query)}return(function(y,E,A,M){const G=new SD(M),W=new sD(E,G,A);return y.asyncQueue.enqueueAndForget((async()=>tD(await O0(y),W))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>eD(await O0(y),W)))}})(E1(d),g,l,c)}function Rg(s,t){return(function(r,l){const c=new ta;return r.asyncQueue.enqueueAndForget((async()=>mD(await RD(r),l,c))),c.promise})(E1(s),t)}function QD(s,t,i){const r=i.docs.get(t._key),l=new D1(s);return new ea(s,l,t._key,r,new Ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){So=l})(Eo),Hi(new ci("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new vo(new xI(r.getProvider("auth-internal")),new VI(d,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Yn(Hv,Fv,t),Yn(Hv,Fv,"esm2020")})();const KD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),B0=s=>{const t=YD(s);return t.charAt(0).toUpperCase()+t.slice(1)},x1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),XD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JD=Et.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>Et.createElement("svg",{ref:_,...$D,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:x1("lucide",l),...!c&&!XD(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>Et.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ce=(s,t)=>{const i=Et.forwardRef(({className:r,...l},c)=>Et.createElement(JD,{ref:c,iconNode:t,className:x1(`lucide-${KD(B0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=B0(s),i};const ZD=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],WD=ce("arrow-down-right",ZD);const tx=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ex=ce("arrow-up-down",tx);const nx=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],q0=ce("arrow-up-right",nx);const ix=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sx=ce("banknote",ix);const rx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ax=ce("calendar",rx);const ox=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lx=ce("chart-pie",ox);const ux=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Im=ce("check",ux);const cx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hx=ce("chevron-left",cx);const fx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dx=ce("chevron-right",fx);const mx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O1=ce("circle-alert",mx);const gx=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],px=ce("credit-card",gx);const yx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_x=ce("download",yx);const vx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tx=ce("funnel",vx);const Ex=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],bx=ce("landmark",Ex);const Sx=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ax=ce("layout-grid",Sx);const wx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Rx=ce("list",wx);const Ix=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cx=ce("lock",Ix);const Nx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dx=ce("log-out",Nx);const xx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ox=ce("moon",xx);const Mx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zd=ce("plus",Mx);const Vx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kx=ce("search",Vx);const Ux=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Lx=ce("sun",Ux);const Px=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M1=ce("trash-2",Px);const zx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jx=ce("trending-up",zx);const Bx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V1=ce("wallet",Bx);const qx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H0=ce("x",qx),Cm={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},k1="vivekdn2504@gmail.com",Nm=Cm.apiKey!=="YOUR_API_KEY",Hx=Nm?Cm:typeof __firebase_config<"u"?JSON.parse(__firebase_config):Cm,Ig=sT(Hx);typeof window<"u"&&A2(Ig);const Oc=II(Ig),Wd=CD(Ig),Fx=({message:s,type:t,onClose:i})=>{Et.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-red-500":"bg-indigo-600";return D.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-medium text-sm flex items-center gap-2 z-[70] animate-fade-in-down ${r}`,children:[t==="error"?D.jsx(O1,{className:"w-4 h-4"}):D.jsx(Im,{className:"w-4 h-4"}),s]})},Gx=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?D.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:D.jsx("div",{className:`w-full max-w-xs p-6 rounded-3xl shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white":"bg-white text-gray-900"}`,children:D.jsxs("div",{className:"flex flex-col items-center text-center",children:[D.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:D.jsx(M1,{className:"w-6 h-6"})}),D.jsx("h3",{className:"text-lg font-bold mb-2",children:t}),D.jsx("p",{className:`text-sm mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:i}),D.jsxs("div",{className:"flex gap-3 w-full",children:[D.jsx("button",{onClick:l,className:`flex-1 py-3 rounded-xl font-bold text-sm transition-colors ${c?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),D.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-bold text-sm bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 transition-colors",children:"Delete"})]})]})})}):null,Qx=({onLogin:s,error:t})=>D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 font-sans",children:D.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:D.jsx(V1,{className:"w-8 h-8"})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),D.jsxs("p",{className:"text-gray-500 mb-8 text-sm",children:["Personal Expense Manager",D.jsx("br",{}),"Secure Login"]}),t&&D.jsxs("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-xs rounded-xl flex items-center gap-2 text-left",children:[D.jsx(O1,{className:"w-4 h-4 shrink-0"}),t]}),D.jsx("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:"Sign in with Google"}),D.jsx("p",{className:"mt-6 text-[10px] text-gray-400 uppercase tracking-widest",children:"Restricted Access"}),D.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:k1})]})}),Kx=()=>D.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:D.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[D.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:D.jsx(Cx,{className:"w-6 h-6"})}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),D.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[D.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),D.jsxs("p",{className:"text-gray-300",children:["Go to Firebase Console > Project Settings > General > Your Apps. Copy the ",D.jsx("code",{className:"bg-black px-1 py-0.5 rounded",children:"firebaseConfig"})," object."]})]}),D.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[D.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),D.jsx("p",{className:"text-gray-300",children:"Update lines 26-33 in the code editor."})]}),D.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[D.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),D.jsx("p",{className:"text-gray-300",children:"Update line 40 with your Gmail address."})]})]})]})});function Yx(){const[s,t]=Et.useState(null),[i,r]=Et.useState([]),[l,c]=Et.useState(!0),[d,g]=Et.useState(null),[_,y]=Et.useState(null),[E,A]=Et.useState(()=>localStorage.getItem("theme")==="dark"),[M,G]=Et.useState(!1),[W,st]=Et.useState({isOpen:!1,id:null}),[Z,mt]=Et.useState("list"),[vt,yt]=Et.useState("date"),[Ht,ae]=Et.useState(""),[Dt,C]=Et.useState("All"),[S,I]=Et.useState(new Date().toISOString().slice(0,7)),[V,x]=Et.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[U,w]=Et.useState(!1),ee=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],ve=["Salary","Bonus","Freelance","Other"],[H,et]=Et.useState(()=>{try{const X=localStorage.getItem("custom_categories");return X?JSON.parse(X):[]}catch{return[]}}),[ht,xt]=Et.useState(!1),[qt,O]=Et.useState(""),[Q,nt]=Et.useState(()=>{try{const X=localStorage.getItem("payment_modes");return X?JSON.parse(X):["Cash","UPI","Bank Account","Credit Card"]}catch{return["Cash","UPI","Bank Account","Credit Card"]}}),[rt,pt]=Et.useState(!1),[bt,Ot]=Et.useState(""),[$t,Jt]=Et.useState("expense"),[on,fi]=Et.useState(null),[di,mi]=Et.useState(""),[Tn,gi]=Et.useState(""),[pi,yi]=Et.useState(""),[Ts,me]=Et.useState(""),[Ee,Mn]=Et.useState(new Date().toISOString().split("T")[0]);Et.useEffect(()=>{document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")},[E]),Et.useEffect(()=>{if(!Nm){c(!1);return}const X=pR(Oc,it=>{c(!1),it?it.email===k1?(t(it),g(null)):(Ov(Oc),g(`Access Denied: ${it.email} is not authorized.`)):t(null)});return()=>X()},[]),Et.useEffect(()=>{if(!s)return;const X=U0(Wd,"users",s.uid,"expenses");return GD(X,it=>{const lt=it.docs.map(At=>({id:At.id,...At.data(),date:At.data().date?.toDate?At.data().date.toDate():new Date(At.data().date)}));lt.sort((At,Ft)=>Ft.date-At.date),r(lt)})},[s]),Et.useEffect(()=>{localStorage.setItem("monthly_budget",V)},[V]),Et.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(H))},[H]),Et.useEffect(()=>{localStorage.setItem("payment_modes",JSON.stringify(Q))},[Q]);const Io=async()=>{try{g(null);const X=new ds;await UR(Oc,X)}catch(X){console.error(X),g(X.message)}},ha=async()=>{await Ov(Oc)},ge=(X,it="success")=>y({message:X,type:it}),_i=X=>{const[it,lt]=S.split("-").map(Number),At=new Date(it,lt-1+X,15);I(At.toISOString().slice(0,7))},Es=(X=null)=>{X?(fi(X.id),Jt(X.type||"expense"),mi(X.amount),gi(X.category),yi(X.paymentMode||"Cash"),me(X.description||""),Mn(X.date.toISOString().split("T")[0])):(fi(null),Jt("expense"),mi(""),gi(""),yi("Cash"),me(""),Mn(new Date().toISOString().split("T")[0])),G(!0)},vr=async X=>{if(X.preventDefault(),!di||!s)return;const it=Tn||($t==="expense"?ee[0]:ve[0]),lt=pi||"Cash",At={type:$t,amount:parseFloat(di),category:it,paymentMode:lt,description:Ts,date:new Date(Ee),updatedAt:le.now()};try{const Ft=U0(Wd,"users",s.uid,"expenses");on?(await qD(wm(Ft,on),At),ge("Updated successfully")):(At.createdAt=le.now(),await FD(Ft,At),ge("Added successfully")),G(!1)}catch(Ft){console.error(Ft),ge("Save failed","error")}},Xn=(X,it)=>{it&&it.stopPropagation(),st({isOpen:!0,id:X})},Co=async()=>{if(!(!s||!W.id))try{const X=wm(Wd,"users",s.uid,"expenses",W.id);await HD(X),ge("Transaction deleted"),on===W.id&&(G(!1),fi(null))}catch(X){console.error("Delete Error:",X),ge("Delete failed","error")}finally{st({isOpen:!1,id:null})}},fa=()=>{if(qt.trim()){const X=qt.trim();[...ee,...ve,...H].includes(X)||(et([...H,X]),gi(X),ge("Category added")),O(""),xt(!1)}},da=()=>{if(bt.trim()){const X=bt.trim();Q.includes(X)||(nt([...Q,X]),yi(X),ge("Payment method added")),Ot(""),pt(!1)}},ma=()=>{if(ue.length===0)return ge("No data to export","error");const X=["Date","Type","Category","Payment Mode","Amount","Description"],it=ue.map(Ft=>[Ft.date.toLocaleDateString("en-IN"),Ft.type||"expense",Ft.category,Ft.paymentMode||"Cash",Ft.amount,`"${Ft.description||""}"`]),lt="data:text/csv;charset=utf-8,"+X.join(",")+`
`+it.map(Ft=>Ft.join(",")).join(`
`),At=document.createElement("a");At.href=encodeURI(lt),At.download=`fin_data_${S}.csv`,document.body.appendChild(At),At.click(),document.body.removeChild(At)},En=$t==="expense"?[...ee,...H]:ve,ue=Et.useMemo(()=>i.filter(it=>{const lt=it.date.toISOString().slice(0,7)===S,At=Ht.toLowerCase(),Ft=!At||it.category.toLowerCase().includes(At)||(it.description||"").toLowerCase().includes(At)||(it.paymentMode||"").toLowerCase().includes(At),Ki=Dt==="All"||it.category===Dt||Dt==="Income"&&it.type==="income";return lt&&Ft&&Ki}).sort((it,lt)=>vt==="amount"?lt.amount-it.amount:lt.date-it.date),[i,S,Ht,Dt,vt]),Qe=Et.useMemo(()=>{let X=0,it=0;ue.forEach(Ki=>{Ki.type==="income"?X+=Ki.amount:it+=Ki.amount});const lt=new Date(S.split("-")[0],S.split("-")[1],0).getDate(),At=new Date().getDate(),Ft=S===new Date().toISOString().slice(0,7)?At:lt;return{income:X,expense:it,balance:X-it,dailyAvg:Ft>0?Math.round(it/Ft):0}},[ue,S]),pe=Et.useMemo(()=>{const X={};let it=0;return ue.forEach(lt=>{lt.type!=="income"&&(X[lt.category]=(X[lt.category]||0)+lt.amount,it+=lt.amount)}),Object.entries(X).map(([lt,At])=>({name:lt,value:At,pct:it>0?At/it*100:0})).sort((lt,At)=>At.value-lt.value)},[ue]),Tr=Et.useMemo(()=>{const X={};return ue.forEach(it=>{const lt=it.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});X[lt]||(X[lt]=[]),X[lt].push(it)}),X},[ue]),bs=Et.useMemo(()=>{const X=new Set(i.filter(it=>it.date.toISOString().slice(0,7)===S).map(it=>it.category));return["All",...Array.from(X)]},[i,S]),Er=(X,it)=>{if(it==="income")return D.jsx(jx,{className:"w-5 h-5 text-emerald-500"});const lt=X.toLowerCase();return lt.includes("food")||lt.includes("dine")?"":lt.includes("shop")?"":lt.includes("transport")||lt.includes("fuel")?"":lt.includes("rent")?"":lt.includes("health")?"":lt.includes("entertain")?"":lt.includes("grocery")?"":""},Vn=X=>{const it=(X||"").toLowerCase();return it.includes("card")||it.includes("credit")||it.includes("debit")?D.jsx(px,{className:"w-3 h-3 text-indigo-400"}):it.includes("bank")||it.includes("transfer")?D.jsx(bx,{className:"w-3 h-3 text-blue-400"}):it.includes("upi")||it.includes("gpay")?D.jsx(q0,{className:"w-3 h-3 text-purple-400"}):D.jsx(sx,{className:"w-3 h-3 text-green-400"})};return Nm?l?D.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:D.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?D.jsxs("div",{className:`min-h-screen font-sans pb-28 transition-colors duration-300 ${E?"bg-[#09090b] text-gray-100":"bg-slate-50 text-slate-900"}`,children:[_&&D.jsx(Fx,{message:_.message,type:_.type,onClose:()=>y(null)}),D.jsx(Gx,{isOpen:W.isOpen,title:"Delete Transaction?",message:"This action cannot be undone.",onConfirm:Co,onCancel:()=>st({isOpen:!1,id:null}),isDarkMode:E}),D.jsxs("div",{className:`sticky top-0 z-20 px-5 py-4 flex justify-between items-center backdrop-blur-xl border-b ${E?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200"}`,children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:D.jsx(V1,{className:"w-5 h-5"})}),D.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"FinManager"})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>A(!E),className:`p-2.5 rounded-full ${E?"bg-white/10 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:E?D.jsx(Lx,{className:"w-5 h-5"}):D.jsx(Ox,{className:"w-5 h-5"})}),D.jsx("button",{onClick:ha,className:"p-2.5 rounded-full bg-red-100 text-red-500 hover:bg-red-200 transition-colors",children:D.jsx(Dx,{className:"w-5 h-5"})})]})]}),D.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-6",children:[D.jsxs("div",{className:"relative overflow-hidden rounded-[28px] p-6 shadow-2xl shadow-indigo-500/20 bg-gradient-to-br from-[#1e1b4b] to-[#4338ca] text-white",children:[D.jsxs("div",{className:"relative z-10",children:[D.jsxs("div",{className:"flex justify-between items-start",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-1",children:"Balance"}),D.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[D.jsx("span",{className:"text-indigo-300 mr-1",children:""}),Qe.balance.toLocaleString("en-IN")]})]}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Daily Avg"}),D.jsxs("p",{className:"text-xl font-bold",children:["",Qe.dailyAvg]})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[D.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[D.jsx(WD,{className:"w-4 h-4"}),D.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),D.jsxs("p",{className:"font-semibold text-lg",children:["",Qe.income.toLocaleString("en-IN")]})]}),D.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[D.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[D.jsx(q0,{className:"w-4 h-4"}),D.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),D.jsxs("p",{className:"font-semibold text-lg",children:["",Qe.expense.toLocaleString("en-IN")]})]})]})]}),D.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500 rounded-full blur-[60px] opacity-30"})]}),D.jsxs("div",{className:`p-1 rounded-2xl flex ${E?"bg-[#18181b]":"bg-white border border-slate-200"}`,children:[D.jsxs("button",{onClick:()=>mt("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${Z==="list"?E?"bg-white/10 text-white":"bg-slate-100 text-slate-900":"text-gray-500"}`,children:[D.jsx(Rx,{className:"w-4 h-4"})," Transactions"]}),D.jsxs("button",{onClick:()=>mt("insights"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${Z==="insights"?E?"bg-white/10 text-white":"bg-slate-100 text-slate-900":"text-gray-500"}`,children:[D.jsx(Ax,{className:"w-4 h-4"})," Insights"]})]}),Z==="list"?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sticky top-[73px] z-10 space-y-3 pb-2 pt-2 transition-colors",children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("div",{className:`flex-1 flex items-center justify-between p-1.5 rounded-2xl border backdrop-blur-md ${E?"bg-[#09090b]/90 border-white/5":"bg-white/95 border-slate-200 shadow-sm"}`,children:[D.jsx("button",{onClick:()=>_i(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:D.jsx(hx,{className:"w-4 h-4"})}),D.jsxs("span",{className:"text-sm font-bold flex items-center gap-2",children:[D.jsx(ax,{className:"w-3 h-3 text-gray-400"}),new Date(S).toLocaleDateString("en-IN",{month:"short",year:"numeric"})]}),D.jsx("button",{onClick:()=>_i(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:D.jsx(dx,{className:"w-4 h-4"})})]}),D.jsx("button",{onClick:()=>yt(vt==="date"?"amount":"date"),className:`p-3 rounded-2xl border flex items-center justify-center transition-all ${E?"bg-[#18181b] border-white/5 text-gray-400":"bg-white border-slate-200 text-slate-500"} ${vt==="amount"?"text-indigo-500 border-indigo-500/50":""}`,title:"Sort by Date/Amount",children:D.jsx(ex,{className:"w-5 h-5"})}),D.jsx("button",{onClick:ma,className:`p-3 rounded-2xl border flex items-center justify-center ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:D.jsx(_x,{className:"w-5 h-5 text-indigo-500"})})]}),D.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:bs.map(X=>D.jsx("button",{onClick:()=>C(X),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${Dt===X?"bg-indigo-600 border-indigo-600 text-white":E?"bg-[#18181b] border-white/10 text-gray-400":"bg-white border-slate-200 text-slate-600"}`,children:X},X))}),D.jsxs("div",{className:"relative",children:[D.jsx(kx,{className:"absolute left-4 top-3.5 w-4 h-4 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search expenses...",value:Ht,onChange:X=>ae(X.target.value),className:`w-full pl-10 pr-4 py-3 rounded-2xl border outline-none focus:ring-2 focus:ring-indigo-500/50 ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`})]})]}),D.jsxs("div",{className:"space-y-6",children:[Object.entries(Tr).map(([X,it])=>D.jsxs("div",{children:[D.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 px-1",children:X}),D.jsx("div",{className:"space-y-3",children:it.map(lt=>D.jsxs("div",{onClick:()=>Es(lt),className:`group flex items-center gap-4 p-4 rounded-2xl border transition-all cursor-pointer active:scale-[0.98] ${E?"bg-[#18181b] border-white/5 hover:bg-white/5":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`,children:[D.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-lg ${lt.type==="income"?"bg-emerald-500/10":E?"bg-white/5":"bg-slate-100"}`,children:Er(lt.category,lt.type)}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("h5",{className:"font-bold text-sm truncate",children:lt.category}),D.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[D.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-white/5 px-1.5 py-0.5 rounded text-[10px]",children:[Vn(lt.paymentMode),lt.paymentMode||"Cash"]}),D.jsx("span",{className:"truncate max-w-[100px]",children:lt.description||"No description"})]})]}),D.jsxs("div",{className:`font-bold ${lt.type==="income"?"text-emerald-500":E?"text-gray-100":"text-slate-900"}`,children:[lt.type==="income"?"+":"-","",lt.amount.toLocaleString("en-IN")]}),D.jsx("button",{onClick:At=>Xn(lt.id,At),className:`p-2 rounded-lg transition-all ${E?"text-gray-600 hover:text-red-400 hover:bg-white/5":"text-gray-300 hover:text-red-500 hover:bg-red-50"}`,children:D.jsx(M1,{className:"w-4 h-4"})})]},lt.id))})]},X)),Object.keys(Tr).length===0&&D.jsxs("div",{className:"text-center py-12 opacity-40",children:[D.jsx(Tx,{className:"w-12 h-12 mx-auto mb-2"}),D.jsx("p",{children:"No transactions"})]})]})]}):D.jsx("div",{className:"space-y-6",children:D.jsxs("div",{className:`p-5 rounded-3xl border ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[D.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2 mb-6",children:[D.jsx(lx,{className:"w-4 h-4 text-indigo-500"}),"Spending By Category"]}),D.jsx("div",{className:"space-y-4",children:pe.length>0?pe.map((X,it)=>D.jsxs("div",{className:"space-y-1.5",children:[D.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-lg",children:Er(X.name,"expense")}),D.jsx("span",{children:X.name})]}),D.jsxs("span",{children:["",X.value.toLocaleString("en-IN")," ",D.jsxs("span",{className:"text-gray-500 ml-1",children:["(",X.pct.toFixed(0),"%)"]})]})]}),D.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:D.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${X.pct}%`,opacity:1-it*.1}})})]},X.name)):D.jsx("div",{className:"text-center text-gray-500 py-8 text-sm",children:"No expense data for this month"})})]})})]}),D.jsx("button",{onClick:()=>Es(),className:"fixed bottom-6 right-6 h-14 w-14 bg-indigo-600 rounded-full text-white shadow-xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-30",children:D.jsx(Zd,{className:"w-7 h-7"})}),M&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>G(!1)}),D.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-6 rounded-t-[32px] z-50 transition-transform duration-300 animate-slide-up ${E?"bg-[#1c1c1f]":"bg-white"}`,children:[D.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6"}),D.jsxs("form",{onSubmit:vr,className:"space-y-6",children:[!on&&D.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[D.jsx("button",{type:"button",onClick:()=>Jt("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${$t==="expense"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-500"}`,children:"Expense"}),D.jsx("button",{type:"button",onClick:()=>Jt("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${$t==="income"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"Income"})]}),D.jsxs("div",{className:"text-center",children:[D.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Amount"}),D.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[D.jsx("span",{className:`text-3xl font-bold ${$t==="income"?"text-emerald-500":"text-rose-500"}`,children:""}),D.jsx("input",{autoFocus:!0,type:"number",value:di,onChange:X=>mi(X.target.value),placeholder:"0",className:`text-5xl font-bold bg-transparent outline-none w-48 text-center ${E?"text-white":"text-gray-900"}`})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Category"}),ht?D.jsxs("div",{className:"flex gap-2",children:[D.jsx("input",{type:"text",value:qt,onChange:X=>O(X.target.value),placeholder:"Name...",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),D.jsx("button",{type:"button",onClick:fa,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:D.jsx(Im,{className:"w-4 h-4"})}),D.jsx("button",{type:"button",onClick:()=>xt(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:D.jsx(H0,{className:"w-4 h-4"})})]}):D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("select",{value:Tn,onChange:X=>gi(X.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[D.jsx("option",{value:"",disabled:!0,children:"Select..."}),En.map(X=>D.jsx("option",{value:X,children:X},X))]}),$t==="expense"&&D.jsx("button",{type:"button",onClick:()=>xt(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl",children:D.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),D.jsx("input",{type:"date",value:Ee,onChange:X=>Mn(X.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Account / Pay Via"}),rt?D.jsxs("div",{className:"flex gap-2",children:[D.jsx("input",{type:"text",value:bt,onChange:X=>Ot(X.target.value),placeholder:"e.g. HDFC Credit Card",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),D.jsx("button",{type:"button",onClick:da,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:D.jsx(Im,{className:"w-4 h-4"})}),D.jsx("button",{type:"button",onClick:()=>pt(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:D.jsx(H0,{className:"w-4 h-4"})})]}):D.jsxs("div",{className:"flex gap-2",children:[D.jsx("select",{value:pi,onChange:X=>yi(X.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:Q.map(X=>D.jsx("option",{value:X,children:X},X))}),D.jsx("button",{type:"button",onClick:()=>pt(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl border border-transparent dark:border-white/5",children:D.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Description"}),D.jsx("input",{type:"text",placeholder:"Note (optional)",value:Ts,onChange:X=>me(X.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),D.jsxs("div",{className:"pt-2 space-y-3",children:[D.jsxs("button",{type:"submit",className:`w-full font-bold py-4 rounded-2xl shadow-lg text-white active:scale-[0.98] transition-all text-lg ${$t==="income"?"bg-emerald-600 shadow-emerald-500/20":"bg-indigo-600 shadow-indigo-500/20"}`,children:[on?"Update":"Save"," ",$t==="income"?"Income":"Expense"]}),on&&D.jsx("button",{type:"button",onClick:()=>Xn(on),className:"w-full py-3.5 text-red-500 font-bold text-sm bg-red-500/10 rounded-2xl hover:bg-red-500/20 transition-colors",children:"Delete Transaction"})]})]})]})]})]}):D.jsx(Qx,{onLogin:Io,error:d}):D.jsx(Kx,{})}ES.createRoot(document.getElementById("root")).render(D.jsx(Et.StrictMode,{children:D.jsx(Yx,{})}));
