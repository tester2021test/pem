(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},bl={};var K_;function hS(){if(K_)return bl;K_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var Y_;function fS(){return Y_||(Y_=1,Od.exports=hS()),Od.exports}var z=fS(),xd={exports:{}},At={};var X_;function dS(){if(X_)return At;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Z={};function gt(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=gt.prototype;function pt(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}var Ct=pt.prototype=new _t;Ct.constructor=pt,it(Ct,gt.prototype),Ct.isPureReactComponent=!0;var ie=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,K,et){var st=et.ref;return{$$typeof:s,type:O,key:K,ref:st!==void 0?st:null,props:et}}function M(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ae(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,et,st,ft){var Et=typeof O;(Et==="undefined"||Et==="boolean")&&(O=null);var Dt=!1;if(O===null)Dt=!0;else switch(Et){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(O.$$typeof){case s:case t:Dt=!0;break;case A:return Dt=O._init,H(Dt(O._payload),K,et,st,ft)}}if(Dt)return ft=ft(O),Dt=st===""?"."+ae(O,0):st,ie(ft)?(et="",Dt!=null&&(et=Dt.replace(w,"$&/")+"/"),H(ft,K,et,"",function(Fi){return Fi})):ft!=null&&(N(ft)&&(ft=M(ft,et+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(w,"$&/")+"/")+Dt)),K.push(ft)),1;Dt=0;var me=st===""?".":st+":";if(ie(O))for(var Zt=0;Zt<O.length;Zt++)st=O[Zt],Et=me+ae(st,Zt),Dt+=H(st,K,et,Et,ft);else if(Zt=G(O),typeof Zt=="function")for(O=Zt.call(O),Zt=0;!(st=O.next()).done;)st=st.value,Et=me+ae(st,Zt++),Dt+=H(st,K,et,Et,ft);else if(Et==="object"){if(typeof O.then=="function")return H(fe(O),K,et,st,ft);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function nt(O,K,et){if(O==null)return O;var st=[],ft=0;return H(O,st,"","",function(Et){return K.call(et,Et,ft++)}),st}function ot(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Nt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xt={map:nt,forEach:function(O,K,et){nt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=xt,At.Component=gt,At.Fragment=i,At.Profiler=l,At.PureComponent=pt,At.StrictMode=r,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=it({},O.props),ft=O.key;if(K!=null)for(Et in K.key!==void 0&&(ft=""+K.key),K)!b.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(st[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)st.children=et;else if(1<Et){for(var Dt=Array(Et),me=0;me<Et;me++)Dt[me]=arguments[me+2];st.children=Dt}return I(O.type,ft,st)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,et){var st,ft={},Et=null;if(K!=null)for(st in K.key!==void 0&&(Et=""+K.key),K)b.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ft[st]=K[st]);var Dt=arguments.length-2;if(Dt===1)ft.children=et;else if(1<Dt){for(var me=Array(Dt),Zt=0;Zt<Dt;Zt++)me[Zt]=arguments[Zt+2];ft.children=me}if(O&&O.defaultProps)for(st in Dt=O.defaultProps,Dt)ft[st]===void 0&&(ft[st]=Dt[st]);return I(O,Et,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:g,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ot}},At.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=C.T,et={};C.T=et;try{var st=O(),ft=C.S;ft!==null&&ft(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,Nt)}catch(Et){Nt(Et)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(O){return C.H.use(O)},At.useActionState=function(O,K,et){return C.H.useActionState(O,K,et)},At.useCallback=function(O,K){return C.H.useCallback(O,K)},At.useContext=function(O){return C.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return C.H.useEffect(O,K)},At.useEffectEvent=function(O){return C.H.useEffectEvent(O)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(O,K,et){return C.H.useImperativeHandle(O,K,et)},At.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return C.H.useMemo(O,K)},At.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},At.useReducer=function(O,K,et){return C.H.useReducer(O,K,et)},At.useRef=function(O){return C.H.useRef(O)},At.useState=function(O){return C.H.useState(O)},At.useSyncExternalStore=function(O,K,et){return C.H.useSyncExternalStore(O,K,et)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var $_;function Nm(){return $_||($_=1,xd.exports=dS()),xd.exports}var Ot=Nm(),Md={exports:{}},wl={},Vd={exports:{}},kd={};var J_;function mS(){return J_||(J_=1,(function(s){function t(H,nt){var ot=H.length;H.push(nt);t:for(;0<ot;){var Nt=ot-1>>>1,xt=H[Nt];if(0<l(xt,nt))H[Nt]=nt,H[ot]=xt,ot=Nt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ot=H.pop();if(ot!==nt){H[0]=ot;t:for(var Nt=0,xt=H.length,O=xt>>>1;Nt<O;){var K=2*(Nt+1)-1,et=H[K],st=K+1,ft=H[st];if(0>l(et,ot))st<xt&&0>l(ft,et)?(H[Nt]=ft,H[st]=ot,Nt=st):(H[Nt]=et,H[K]=ot,Nt=K);else if(st<xt&&0>l(ft,ot))H[Nt]=ft,H[st]=ot,Nt=st;else break t}}return nt}function l(H,nt){var ot=H.sortIndex-nt.sortIndex;return ot!==0?ot:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,x=3,G=!1,J=!1,it=!1,Z=!1,gt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Ct(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=H)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function ie(H){if(it=!1,Ct(H),!J)if(i(_)!==null)J=!0,kt||(kt=!0,k());else{var nt=i(y);nt!==null&&fe(ie,nt.startTime-H)}}var kt=!1,C=-1,b=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<b)}function N(){if(Z=!1,kt){var H=s.unstable_now();I=H;var nt=!0;try{t:{J=!1,it&&(it=!1,_t(C),C=-1),G=!0;var ot=x;try{e:{for(Ct(H),S=i(_);S!==null&&!(S.expirationTime>H&&M());){var Nt=S.callback;if(typeof Nt=="function"){S.callback=null,x=S.priorityLevel;var xt=Nt(S.expirationTime<=H);if(H=s.unstable_now(),typeof xt=="function"){S.callback=xt,Ct(H),nt=!0;break e}S===i(_)&&r(_),Ct(H)}else r(_);S=i(_)}if(S!==null)nt=!0;else{var O=i(y);O!==null&&fe(ie,O.startTime-H),nt=!1}}break t}finally{S=null,x=ot,G=!1}nt=void 0}}finally{nt?k():kt=!1}}}var k;if(typeof pt=="function")k=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=N,k=function(){ae.postMessage(null)}}else k=function(){gt(N,0)};function fe(H,nt){C=gt(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ot=x;x=nt;try{return H()}finally{x=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=x;x=H;try{return nt()}finally{x=ot}},s.unstable_scheduleCallback=function(H,nt,ot){var Nt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Nt+ot:Nt):ot=Nt,H){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ot+xt,H={id:A++,callback:nt,priorityLevel:H,startTime:ot,expirationTime:xt,sortIndex:-1},ot>Nt?(H.sortIndex=ot,t(y,H),i(_)===null&&H===i(y)&&(it?(_t(C),C=-1):it=!0,fe(ie,ot-Nt))):(H.sortIndex=xt,t(_,H),J||G||(J=!0,kt||(kt=!0,k()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var nt=x;return function(){var ot=x;x=nt;try{return H.apply(this,arguments)}finally{x=ot}}}})(kd)),kd}var Z_;function gS(){return Z_||(Z_=1,Vd.exports=mS()),Vd.exports}var Ud={exports:{}},en={};var W_;function pS(){if(W_)return en;W_=1;var s=Nm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},en.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:G}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:x,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},en.requestFormReset=function(_){r.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var tv;function yS(){if(tv)return Ud.exports;tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=pS(),Ud.exports}var ev;function _S(){if(ev)return wl;ev=1;var s=gS(),t=Nm(),i=yS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case gt:return"Profiler";case Z:return"StrictMode";case ie:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var fe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Nt=[],xt=-1;function O(e){return{current:e}}function K(e){0>xt||(e.current=Nt[xt],Nt[xt]=null,xt--)}function et(e,n){xt++,Nt[xt]=e.current,e.current=n}var st=O(null),ft=O(null),Et=O(null),Dt=O(null);function me(e,n){switch(et(Et,n),et(ft,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function Zt(){K(st),K(ft),K(Et)}function Fi(e){e.memoizedState!==null&&et(Dt,e);var n=st.current,a=y_(n,e.type);n!==a&&(et(ft,e),et(st,a))}function vs(e){ft.current===e&&(K(st),K(ft)),Dt.current===e&&(K(Dt),Tl._currentValue=ot)}var hn,Gi;function En(e){if(hn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);hn=n&&n[1]||"",Gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+e+Gi}var _r=!1;function fi(e,n){if(!e||_r)return"";_r=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{_r=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?En(a):""}function vr(e,n){switch(e.tag){case 26:case 27:case 5:return En(e.type);case 16:return En("Lazy");case 13:return e.child!==n&&n!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return fi(e.type,!1);case 11:return fi(e.type.render,!1);case 1:return fi(e.type,!0);case 31:return En("Activity");default:return""}}function Tr(e){try{var n="",a=null;do n+=vr(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,_e=s.unstable_scheduleCallback,on=s.unstable_cancelCallback,Ts=s.unstable_shouldYield,Er=s.unstable_requestPaint,Ge=s.unstable_now,Qi=s.unstable_getCurrentPriorityLevel,W=s.unstable_ImmediatePriority,Rt=s.unstable_UserBlockingPriority,dt=s.unstable_NormalPriority,Kt=s.unstable_LowPriority,ke=s.unstable_IdlePriority,Es=s.log,Wl=s.unstable_setDisableYieldValue,Yn=null,Qe=null;function Mn(e){if(typeof Es=="function"&&Wl(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Yn,e)}catch{}}var ve=Math.clz32?Math.clz32:eu,tu=Math.log,fa=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/fa|0)|0}var di=256,Ar=262144,be=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=mi(o):(p&=T,p!==0?h=mi(p):a||(a=T&~e,a!==0&&(h=mi(a))))):(T=o&~f,T!==0?h=mi(T):p!==0?h=mi(p):a||(a=o&~e,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-ve(a),Y=1<<F;T[F]=0,R[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function br(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ve(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ro(e,n){var a=n&-n;return a=(a&42)!==0?1:wr(a),(a&(e.suspendedLanes|n))!==0?0:a}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function $n(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Jn=Math.random().toString(36).slice(2),we="__reactFiber$"+Jn,je="__reactProps$"+Jn,yi="__reactContainer$"+Jn,da="__reactEvents$"+Jn,Uh="__reactListeners$"+Jn,su="__reactHandles$"+Jn,ru="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function ma(e){delete e[we],delete e[je],delete e[da],delete e[Uh],delete e[su]}function vi(e){var n=e[we];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yi]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[we])return a;e=b_(e)}return n}e=a,a=e.parentNode}return null}function Vn(e){if(e=e[we]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ti(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[_i]=!0}var Io=new Set,Co={};function Ei(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(Co[e]=n,e=0;e<n.length;e++)Io.add(n[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function au(e){return ge.call(Oo,e)?!0:ge.call(Do,e)?!1:No.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function ga(e,n,a){if(au(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Sn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ie(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function Rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=As(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function fn(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,p,Be(n)):a!=null?Mo(e,p,Be(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Be(T):e.removeAttribute("name")}function ou(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}a=a!=null?""+Be(a):"",n=n!=null?""+Be(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Xt(e)}function Mo(e,n,a){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ss(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,a){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Be(a):""}function bs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Be(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Xt(e)}function dn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||uu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ko(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Uo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,bi=null;function Cr(e){var n=Vn(e);if(n&&(e=n.stateNode)){var a=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(pa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(r(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Rr(o)}break t;case"textarea":lu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ss(e,!!a.multiple,n,!1)}}}var va=!1;function Is(e,n,a){if(va)return e(n,a);va=!0;try{var o=e(n);return o}finally{if(va=!1,(Rs!==null||bi!==null)&&(ic(),Rs&&(n=Rs,e=bi,bi=Rs=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function Wn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[je]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Un)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Nr=!1}var wi=null,Lo=null,Dr=null;function Po(){if(Dr)return Dr;var e,n=Lo,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function ti(){return!1}function Ke(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:ti,this.isPropagationStopped=ti,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ke(Xi),Cs=S({},Xi,{view:0,detail:0}),zo=Ke(Cs),Ns,Ta,Ii,Ea=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Ns=e.screenX-Ii.screenX,Ta=e.screenY-Ii.screenY):Ta=Ns=0,Ii=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),jo=Ke(Ea),xr=S({},Ea,{dataTransfer:0}),hu=Ke(xr),fu=S({},Cs,{relatedTarget:0}),Mr=Ke(fu),Bo=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Ke(Bo),Aa=S({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Ke(Aa),gu=S({},Xi,{data:0}),Ci=Ke(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Ds(){return vu}var ln=S({},Cs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Ke(ln),Eu=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ke(Eu),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Ke(u),v=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Ke(v),U=S({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(U),tt=S({},Xi,{newState:0,oldState:0}),bt=Ke(tt),Te=[9,13,27,32],Gt=Un&&"CompositionEvent"in window,ce=null;Un&&"documentMode"in document&&(ce=document.documentMode);var Ln=Un&&"TextEvent"in window&&!ce,Ni=Un&&(!Gt||ce&&8<ce&&11>=ce),ei=" ",ni=!1;function Vr(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function k1(e,n){switch(e){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function U1(e,n){if(ba)return e==="compositionend"||!Gt&&Vr(e,n)?(e=Po(),Dr=Lo=wi=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!L1[e.type]:n==="textarea"}function Cg(e,n,a,o){Rs?bi?bi.push(o):bi=[o]:Rs=o,n=cc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var qo=null,Ho=null;function P1(e){c_(e,0)}function Au(e){var n=An(e);if(Rr(n))return e}function Ng(e,n){if(e==="change")return n}var Dg=!1;if(Un){var Lh;if(Un){var Ph="oninput"in document;if(!Ph){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Ph=typeof Og.oninput=="function"}Lh=Ph}else Lh=!1;Dg=Lh&&(!document.documentMode||9<document.documentMode)}function xg(){qo&&(qo.detachEvent("onpropertychange",Mg),Ho=qo=null)}function Mg(e){if(e.propertyName==="value"&&Au(Ho)){var n=[];Cg(n,Ho,e,kn(e)),Is(P1,n)}}function z1(e,n,a){e==="focusin"?(xg(),qo=n,Ho=a,qo.attachEvent("onpropertychange",Mg)):e==="focusout"&&xg()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ho)}function B1(e,n){if(e==="click")return Au(n)}function q1(e,n){if(e==="input"||e==="change")return Au(n)}function H1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:H1;function Fo(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ge.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,n){var a=Vg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vg(a)}}function Ug(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ug(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Si(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var F1=Un&&"documentMode"in document&&11>=document.documentMode,wa=null,jh=null,Go=null,Bh=!1;function Pg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||wa==null||wa!==Si(o)||(o=wa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=cc(jh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=wa)))}function kr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ra={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},qh={},zg={};Un&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ur(e){if(qh[e])return qh[e];if(!Ra[e])return e;var n=Ra[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in zg)return qh[e]=n[a];return e}var jg=Ur("animationend"),Bg=Ur("animationiteration"),qg=Ur("animationstart"),G1=Ur("transitionrun"),Q1=Ur("transitionstart"),K1=Ur("transitioncancel"),Hg=Ur("transitionend"),Fg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ii(e,n){Fg.set(e,n),Ei(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],Ia=0,Fh=0;function bu(){for(var e=Ia,n=Fh=Ia=0;n<e;){var a=Pn[n];Pn[n++]=null;var o=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Gg(a,h,f)}}function wu(e,n,a,o){Pn[Ia++]=e,Pn[Ia++]=n,Pn[Ia++]=a,Pn[Ia++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return wu(e,n,a,o),Ru(e)}function Lr(e,n){return wu(e,null,null,n),Ru(e)}function Gg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ru(e){if(50<dl)throw dl=0,ed=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function Y1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,a,o){return new Y1(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var a=e.alternate;return a===null?(a=wn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=WA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=wn(31,a,n,h),e.elementType=I,e.lanes=f,e;case it:return Pr(a.children,h,f,n);case Z:p=8,h|=24;break;case gt:return e=wn(12,a,n,h|2),e.elementType=gt,e.lanes=f,e;case ie:return e=wn(13,a,n,h),e.elementType=ie,e.lanes=f,e;case kt:return e=wn(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case _t:p=9;break t;case Ct:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=wn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,a,o){return e=wn(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=wn(6,e,null,n),e.lanes=a,e}function Kg(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yg=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var a=Yg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Tr(n)},Yg.set(e,n),n)}return{value:e,source:n,stack:Tr(n)}}var Na=[],Da=0,Cu=null,Qo=0,jn=[],Bn=0,Os=null,Di=1,Oi="";function Zi(e,n){Na[Da++]=Qo,Na[Da++]=Cu,Cu=e,Qo=n}function Xg(e,n,a){jn[Bn++]=Di,jn[Bn++]=Oi,jn[Bn++]=Os,Os=e;var o=Di;e=Oi;var h=32-ve(o)-1;o&=~(1<<h),a+=1;var f=32-ve(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Di=1<<32-ve(n)+h|a<<h|o,Oi=f+e}else Di=1<<f|a<<h|o,Oi=e}function Xh(e){e.return!==null&&(Zi(e,1),Xg(e,1,0))}function $h(e){for(;e===Cu;)Cu=Na[--Da],Na[Da]=null,Qo=Na[--Da],Na[Da]=null;for(;e===Os;)Os=jn[--Bn],jn[Bn]=null,Oi=jn[--Bn],jn[Bn]=null,Di=jn[--Bn],jn[Bn]=null}function $g(e,n){jn[Bn++]=Di,jn[Bn++]=Oi,jn[Bn++]=Os,Di=n.id,Oi=n.overflow,Os=e}var Ye=null,oe=null,Bt=!1,xs=null,qn=!1,Jh=Error(r(519));function Ms(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(zn(n,e)),Jh}function Jg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[we]=e,n[je]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Vt(gl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||m_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Ms(e,!0)}function Zg(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ye=Ye.return}}function Oa(e){if(e!==Ye)return!1;if(!Bt)return Zg(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&oe&&Ms(e),Zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=S_(e)}else n===27?(n=oe,Ks(e.type)?(e=Ed,Ed=null,oe=e):oe=n):oe=Ye?Fn(e.stateNode.nextSibling):null;return!0}function zr(){oe=Ye=null,Bt=!1}function Zh(){var e=xs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),xs=null),e}function Ko(e){xs===null?xs=[e]:xs.push(e)}var Wh=O(null),jr=null,Wi=null;function Vs(e,n,a){et(Wh,n._currentValue),n._currentValue=a}function ts(e){e._currentValue=Wh.current,K(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),tf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;bn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Br(e){jr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Wg(jr,e)}function Du(e,n){return jr===null&&Br(e),Wg(e,n)}function Wg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(e===null)throw Error(r(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return a}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},$1=s.unstable_scheduleCallback,J1=s.unstable_NormalPriority,Ce={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new X1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&$1(J1,function(){e.controller.abort()})}var Xo=null,sf=0,Ma=0,Va=null;function Z1(e,n){if(Xo===null){var a=Xo=[];sf=0,Ma=od(),Va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(tp,tp),n}function tp(){if(--sf===0&&Xo!==null){Va!==null&&(Va.status="fulfilled");var e=Xo;Xo=null,Ma=0,Va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function W1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ep=H.S;H.S=function(e,n){Py=Ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Z1(e,n),ep!==null&&ep(e,n)};var qr=O(null);function rf(){var e=qr.current;return e!==null?e:se.pooledCache}function Ou(e,n){n===null?et(qr,qr.current):et(qr,n.pool)}function np(){var e=rf();return e===null?null:{parent:Ce._currentValue,pool:e}}var ka=Error(r(460)),af=Error(r(474)),xu=Error(r(542)),Mu={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Zn,Zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw Fr=n,ka}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,ka):a}}var Fr=null;function rp(){if(Fr===null)throw Error(r(459));var e=Fr;return Fr=null,e}function ap(e){if(e===ka||e===xu)throw Error(r(483))}var Ua=null,$o=0;function Vu(e){var n=$o;return $o+=1,Ua===null&&(Ua=[]),sp(Ua,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){function n(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ji(V,D),V.index=0,V.sibling=null,V}function f(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,L,Q){return D===null||D.tag!==6?(D=Kh(L,V.mode,Q),D.return=V,D):(D=h(D,L),D.return=V,D)}function R(V,D,L,Q){var ct=L.type;return ct===it?F(V,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Hr(ct)===D.type)?(D=h(D,L.props),Jo(D,L),D.return=V,D):(D=Iu(L.type,L.key,L.props,null,V.mode,Q),Jo(D,L),D.return=V,D)}function P(V,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Yh(L,V.mode,Q),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function F(V,D,L,Q,ct){return D===null||D.tag!==7?(D=Pr(L,V.mode,Q,ct),D.return=V,D):(D=h(D,L),D.return=V,D)}function Y(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=Iu(D.type,D.key,D.props,null,V.mode,L),Jo(L,D),L.return=V,L;case J:return D=Yh(D,V.mode,L),D.return=V,D;case b:return D=Hr(D),Y(V,D,L)}if(fe(D)||k(D))return D=Pr(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return Y(V,Vu(D),L);if(D.$$typeof===pt)return Y(V,Du(V,D),L);ku(V,D)}return null}function j(V,D,L,Q){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:T(V,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ct?R(V,D,L,Q):null;case J:return L.key===ct?P(V,D,L,Q):null;case b:return L=Hr(L),j(V,D,L,Q)}if(fe(L)||k(L))return ct!==null?null:F(V,D,L,Q,null);if(typeof L.then=="function")return j(V,D,Vu(L),Q);if(L.$$typeof===pt)return j(V,D,Du(V,L),Q);ku(V,L)}return null}function q(V,D,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,T(D,V,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return V=V.get(Q.key===null?L:Q.key)||null,R(D,V,Q,ct);case J:return V=V.get(Q.key===null?L:Q.key)||null,P(D,V,Q,ct);case b:return Q=Hr(Q),q(V,D,L,Q,ct)}if(fe(Q)||k(Q))return V=V.get(L)||null,F(D,V,Q,ct,null);if(typeof Q.then=="function")return q(V,D,L,Vu(Q),ct);if(Q.$$typeof===pt)return q(V,D,L,Du(D,Q),ct);ku(D,Q)}return null}function at(V,D,L,Q){for(var ct=null,Ht=null,lt=D,It=D=0,Lt=null;lt!==null&&It<L.length;It++){lt.index>It?(Lt=lt,lt=null):Lt=lt.sibling;var Ft=j(V,lt,L[It],Q);if(Ft===null){lt===null&&(lt=Lt);break}e&&lt&&Ft.alternate===null&&n(V,lt),D=f(Ft,D,It),Ht===null?ct=Ft:Ht.sibling=Ft,Ht=Ft,lt=Lt}if(It===L.length)return a(V,lt),Bt&&Zi(V,It),ct;if(lt===null){for(;It<L.length;It++)lt=Y(V,L[It],Q),lt!==null&&(D=f(lt,D,It),Ht===null?ct=lt:Ht.sibling=lt,Ht=lt);return Bt&&Zi(V,It),ct}for(lt=o(lt);It<L.length;It++)Lt=q(lt,V,It,L[It],Q),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?It:Lt.key),D=f(Lt,D,It),Ht===null?ct=Lt:Ht.sibling=Lt,Ht=Lt);return e&&lt.forEach(function(Zs){return n(V,Zs)}),Bt&&Zi(V,It),ct}function mt(V,D,L,Q){if(L==null)throw Error(r(151));for(var ct=null,Ht=null,lt=D,It=D=0,Lt=null,Ft=L.next();lt!==null&&!Ft.done;It++,Ft=L.next()){lt.index>It?(Lt=lt,lt=null):Lt=lt.sibling;var Zs=j(V,lt,Ft.value,Q);if(Zs===null){lt===null&&(lt=Lt);break}e&&lt&&Zs.alternate===null&&n(V,lt),D=f(Zs,D,It),Ht===null?ct=Zs:Ht.sibling=Zs,Ht=Zs,lt=Lt}if(Ft.done)return a(V,lt),Bt&&Zi(V,It),ct;if(lt===null){for(;!Ft.done;It++,Ft=L.next())Ft=Y(V,Ft.value,Q),Ft!==null&&(D=f(Ft,D,It),Ht===null?ct=Ft:Ht.sibling=Ft,Ht=Ft);return Bt&&Zi(V,It),ct}for(lt=o(lt);!Ft.done;It++,Ft=L.next())Ft=q(lt,V,It,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&lt.delete(Ft.key===null?It:Ft.key),D=f(Ft,D,It),Ht===null?ct=Ft:Ht.sibling=Ft,Ht=Ft);return e&&lt.forEach(function(cS){return n(V,cS)}),Bt&&Zi(V,It),ct}function ne(V,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===it){if(D.tag===7){a(V,D.sibling),Q=h(D,L.props.children),Q.return=V,V=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Hr(ct)===D.type){a(V,D.sibling),Q=h(D,L.props),Jo(Q,L),Q.return=V,V=Q;break t}a(V,D);break}else n(V,D);D=D.sibling}L.type===it?(Q=Pr(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Iu(L.type,L.key,L.props,null,V.mode,Q),Jo(Q,L),Q.return=V,V=Q)}return p(V);case J:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(V,D.sibling),Q=h(D,L.children||[]),Q.return=V,V=Q;break t}else{a(V,D);break}else n(V,D);D=D.sibling}Q=Yh(L,V.mode,Q),Q.return=V,V=Q}return p(V);case b:return L=Hr(L),ne(V,D,L,Q)}if(fe(L))return at(V,D,L,Q);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(r(150));return L=ct.call(L),mt(V,D,L,Q)}if(typeof L.then=="function")return ne(V,D,Vu(L),Q);if(L.$$typeof===pt)return ne(V,D,Du(V,L),Q);ku(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(V,D.sibling),Q=h(D,L),Q.return=V,V=Q):(a(V,D),Q=Kh(L,V.mode,Q),Q.return=V,V=Q),p(V)):a(V,D)}return function(V,D,L,Q){try{$o=0;var ct=ne(V,D,L,Q);return Ua=null,ct}catch(lt){if(lt===ka||lt===xu)throw lt;var Ht=wn(29,lt,null,V.mode);return Ht.lanes=Q,Ht.return=V,Ht}}}var Gr=op(!0),lp=op(!1),ks=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Gg(e,null,a),n}return wu(e,o,n,a),Ru(e)}function Zo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function Wo(){if(cf){var e=Va;if(e!==null)throw e}}function tl(e,n,a,o){cf=!1;var h=e.updateQueue;ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,F=P=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===Ma&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,mt=T;j=n;var ne=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(ne,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call(ne,Y,j):at,j==null)break t;Y=S({},Y,j);break t;case 2:ks=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=q,R=Y):F=F.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),qs|=p,e.lanes=p,e.memoizedState=Y}}function up(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function cp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)up(a[e],n)}var La=O(null),Uu=O(0);function hp(e,n){e=us,et(Uu,e),et(La,n),us=e|n.baseLanes}function hf(){et(Uu,us),et(La,La.current)}function ff(){us=Uu.current,K(La),K(Uu)}var Rn=O(null),Hn=null;function Ps(e){var n=e.alternate;et(Ee,Ee.current&1),et(Rn,e),Hn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Hn=e)}function df(e){et(Ee,Ee.current),et(Rn,e),Hn===null&&(Hn=e)}function fp(e){e.tag===22?(et(Ee,Ee.current),et(Rn,e),Hn===null&&(Hn=e)):zs()}function zs(){et(Ee,Ee.current),et(Rn,Rn.current)}function In(e){K(Rn),Hn===e&&(Hn=null),K(Ee)}var Ee=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,wt=null,te=null,Ne=null,Pu=!1,Pa=!1,Qr=!1,zu=0,el=0,za=null,tA=0;function pe(){throw Error(r(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!bn(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return es=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Xp:Df,Qr=!1,f=a(o,h),Qr=!1,Pa&&(f=mp(n,a,o,h)),dp(e),f}function dp(e){H.H=sl;var n=te!==null&&te.next!==null;if(es=0,Ne=te=wt=null,Pu=!1,el=0,za=null,n)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&Nu(e)&&(De=!0))}function mp(e,n,a,o){wt=e;var h=0;do{if(Pa&&(za=null),el=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,Ne=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=$p,f=n(a,o)}while(Pa);return f}function eA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(wt.flags|=1024),n}function pf(){var e=zu!==0;return zu=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}es=0,Ne=te=wt=null,Pa=!1,el=zu=0,za=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?wt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ae(){if(te===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Ne===null?wt.memoizedState:Ne.next;if(n!==null)Ne=n,te=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?wt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=el;return el+=1,za===null&&(za=[]),e=sp(za,e,n),n=wt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Xp:Df),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===pt)return Xe(e)}throw Error(r(438,String(e)))}function vf(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ju(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function ns(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ae();return Tf(n,te,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ut&Y)===Y:(es&Y)===Y){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ma&&(F=!0);else if((es&j)===j){P=P.next,j===Ma&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,p=f):R=R.next=Y,wt.lanes|=j,qs|=j;Y=P.action,Qr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,wt.lanes|=Y,qs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=T,!bn(f,e.memoizedState)&&(De=!0,F&&(a=Va,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=Ae(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);bn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function gp(e,n,a){var o=wt,h=Ae(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!bn((te||h).memoizedState,a);if(p&&(h.memoizedState=a,De=!0),h=h.queue,bf(_p.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},yp.bind(null,o,h,a,n),null),se===null)throw Error(r(349));f||(es&127)!==0||pp(o,n,a)}return a}function pp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=ju(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function yp(e,n,a,o){n.value=a,n.getSnapshot=o,vp(n)&&Tp(e)}function _p(e,n,a){return a(function(){vp(n)&&Tp(e)})}function vp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!bn(e,a)}catch{return!0}}function Tp(e){var n=Lr(e,2);n!==null&&_n(n,e,2)}function Af(e){var n=un();if(typeof e=="function"){var a=e;if(e=a(),Qr){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},n}function Ep(e,n,a,o){return e.baseState=a,Tf(e,te,typeof o=="function"?o:ns)}function nA(e,n,a,o,h){if(Gu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ap(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ap(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var T=a(h,o),R=H.S;R!==null&&R(p,T),Sp(e,n,T)}catch(P){Sf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),Sp(e,n,f)}catch(P){Sf(e,n,P)}}function Sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bp(e,n,o)},function(o){return Sf(e,n,o)}):bp(e,n,a)}function bp(e,n,a){n.status="fulfilled",n.value=a,wp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ap(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(Bt){var a=se.formState;if(a!==null){t:{var o=wt;if(Bt){if(oe){e:{for(var h=oe,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Fn(h.nextSibling),o=h.data==="F!";break t}}Ms(o)}o=!1}o&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},a.queue=o,a=Qp.bind(null,wt,o),o.dispatch=a,o=Af(!1),f=Nf.bind(null,wt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=nA.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Cp(e){var n=Ae();return Np(n,te,e)}function Np(e,n,a){if(n=Tf(e,n,Rp)[0],e=qu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(p){throw p===ka?xu:p}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ja(9,{destroy:void 0},iA.bind(null,h,a),null)),[o,f,e]}function iA(e,n){e.action=n}function Dp(e){var n=Ae(),a=te;if(a!==null)return Np(n,a,e);Ae(),n=n.memoizedState,a=Ae();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ja(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ju(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return Ae().memoizedState}function Hu(e,n,a,o){var h=un();wt.flags|=e,h.memoizedState=ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function Fu(e,n,a,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&mf(o,te.memoizedState.deps)?h.memoizedState=ja(n,f,a,o):(wt.flags|=e,h.memoizedState=ja(1|n,f,a,o))}function xp(e,n){Hu(8390656,8,e,n)}function bf(e,n){Fu(2048,8,e,n)}function sA(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ju(),wt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Mp(e){var n=Ae().memoizedState;return sA({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Vp(e,n){return Fu(4,2,e,n)}function kp(e,n){return Fu(4,4,e,n)}function Up(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lp(e,n,a){a=a!=null?a.concat([e]):null,Fu(4,4,Up.bind(null,n,e),a)}function wf(){}function Pp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function zp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Qr){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(es&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=jy(),wt.lanes|=e,qs|=e,a)}function jp(e,n,a,o){return bn(a,n)?a:La.current!==null?(e=Rf(e,a,o),bn(e,n)||(De=!0),e):(es&42)===0||(es&1073741824)!==0&&(Ut&261930)===0?(De=!0,e.memoizedState=a):(e=jy(),wt.lanes|=e,qs|=e,n)}function Bp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=H.T,T={};H.T=T,Nf(e,!1,n,a);try{var R=h(),P=H.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=W1(R,o);il(e,n,F,Dn(e))}else il(e,n,o,Dn(e))}catch(Y){il(e,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}function rA(){}function If(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=qp(e).queue;Bp(e,h,n,ot,a===null?rA:function(){return Hp(e),a(o)})}function qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hp(e){var n=qp(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},Dn())}function Cf(){return Xe(Tl)}function Fp(){return Ae().memoizedState}function Gp(){return Ae().memoizedState}function aA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Dn();e=Us(a);var o=Ls(n,e,a);o!==null&&(_n(o,n,a),Zo(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function oA(e,n,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Kp(n,a):(a=Gh(e,n,a,o),a!==null&&(_n(a,e,o),Yp(a,n,o)))}function Qp(e,n,a){var o=Dn();il(e,n,a,o)}function il(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,bn(T,p))return wu(e,n,h,0),se===null&&bu(),!1}catch{}if(a=Gh(e,n,h,o),a!==null)return _n(a,e,o),Yp(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(r(479))}else n=Gh(e,a,o,2),n!==null&&_n(n,e,2)}function Gu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Kp(e,n){Pa=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Yp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}var sl={readContext:Xe,use:Bu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};sl.useEffectEvent=pe;var Xp={readContext:Xe,use:Bu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:xp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Up.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var a=un();n=n===void 0?null:n;var o=e();if(Qr){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=un();if(a!==void 0){var h=a(n);if(Qr){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=oA.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,a=Qp.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=un();return Rf(a,e,n)},useTransition:function(){var e=Af(!1);return e=Bp.bind(null,wt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=wt,h=un();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),se===null)throw Error(r(349));(Ut&127)!==0||pp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,xp(_p.bind(null,o,f,e),[e]),o.flags|=2048,ja(9,{destroy:void 0},yp.bind(null,o,f,a,n),null),a},useId:function(){var e=un(),n=se.identifierPrefix;if(Bt){var a=Oi,o=Di;a=(o&~(1<<32-ve(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=tA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return un().memoizedState=aA.bind(null,wt)},useEffectEvent:function(e){var n=un(),a={impl:e};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Xe,use:Bu,useCallback:Pp,useContext:Xe,useEffect:bf,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:zp,useReducer:qu,useRef:Op,useState:function(){return qu(ns)},useDebugValue:wf,useDeferredValue:function(e,n){var a=Ae();return jp(a,te.memoizedState,e,n)},useTransition:function(){var e=qu(ns)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Cf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=Ae();return Ep(a,te,e,n)},useMemoCache:vf,useCacheRefresh:Gp};Df.useEffectEvent=Mp;var $p={readContext:Xe,use:Bu,useCallback:Pp,useContext:Xe,useEffect:bf,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:zp,useReducer:Ef,useRef:Op,useState:function(){return Ef(ns)},useDebugValue:wf,useDeferredValue:function(e,n){var a=Ae();return te===null?Rf(a,e,n):jp(a,te.memoizedState,e,n)},useTransition:function(){var e=Ef(ns)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Cf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var a=Ae();return te!==null?Ep(a,te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Gp};$p.useEffectEvent=Mp;function Of(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Dn(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=Ls(e,h,o),n!==null&&(_n(n,e,o),Zo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Dn(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ls(e,h,o),n!==null&&(_n(n,e,o),Zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Dn(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=Ls(e,o,a),n!==null&&(_n(n,e,a),Zo(n,e,a))}};function Jp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function Zp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Wp(e){Su(e)}function ty(e){console.error(e)}function ey(e){Su(e)}function Qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,n)},a}function iy(e){return e=Us(e),e.tag=3,e}function sy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ny(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ny(n,a,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function lA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&xa(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?sc():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(r(435,a.tag))}return sd(e,o,h),sc(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(r(422),{cause:o}),Ko(zn(e,a)))):(o!==Jh&&(n=Error(r(423),{cause:o}),Ko(zn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=zn(o,a),h=Mf(e.stateNode,o,h),uf(e,h),ye!==4&&(ye=2)),!1;var f=Error(r(520),{cause:o});if(f=zn(f,a),fl===null?fl=[f]:fl.push(f),ye!==4&&(ye=2),n===null)return!0;o=zn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),sy(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),De=!1;function $e(e,n,a,o){n.child=e===null?lp(n,null,a,o):Gr(n,e.child,a,o)}function ry(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Br(n),o=gf(e,n,a,p,f,h),T=pf(),e!==null&&!De?(yf(e,n,h),is(e,n,h)):(Bt&&T&&Xh(n),n.flags|=1,$e(e,n,o,h),n.child)}function ay(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,oy(e,n,f,o,h)):(e=Iu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(p,o)&&e.ref===n.ref)return is(e,n,h)}return n.flags|=1,e=Ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,is(e,n,h)}return kf(e,n,a,o,h)}function ly(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?hp(n,f):hf(),fp(n);else return o=n.lanes=536870912,uy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ou(n,f.cachePool),hp(n,f),zs(),n.memoizedState=null):(e!==null&&Ou(n,null),hf(),zs());return $e(e,n,h,a),n.child}function rl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ou(n,null),hf(),fp(n),e!==null&&xa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,a){return Gr(n,e.child,null,a),e=Ku(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function uA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,rl(null,e);if(df(n),(e=oe)?(e=A_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Kg(e),a.return=n,n.child=a,Ye=n,oe=null)):e=null,e===null)throw Ms(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(De||xa(e,n,a,!1),h=(a&e.childLanes)!==0,De||h){if(o=se,o!==null&&(p=Ro(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Lr(e,p),_n(o,e,p),Vf;sc(),n=cy(e,n,a)}else e=f.treeContext,oe=Fn(p.nextSibling),Ye=n,Bt=!0,xs=null,qn=!1,e!==null&&$g(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,o,h){return Br(n),a=gf(e,n,a,o,void 0,h),o=pf(),e!==null&&!De?(yf(e,n,h),is(e,n,h)):(Bt&&o&&Xh(n),n.flags|=1,$e(e,n,a,h),n.child)}function hy(e,n,a,o,h,f){return Br(n),n.updateQueue=null,a=mp(n,o,a,h),dp(e),o=pf(),e!==null&&!De?(yf(e,n,f),is(e,n,f)):(Bt&&o&&Xh(n),n.flags|=1,$e(e,n,a,f),n.child)}function fy(e,n,a,o,h){if(Br(n),n.stateNode===null){var f=Ca,p=a.contextType;typeof p=="object"&&p!==null&&(f=Xe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Xe(p):Ca,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Of(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&xf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Kr(a,T);f.props=R;var P=f.context,F=a.contextType;p=Ca,typeof F=="object"&&F!==null&&(p=Xe(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&Zp(n,f,o,p),ks=!1;var j=n.memoizedState;f.state=j,tl(n,o,f,h),Wo(),P=n.memoizedState,T||j!==P||ks?(typeof Y=="function"&&(Of(n,a,Y,o),P=n.memoizedState),(R=ks||Jp(n,a,R,o,j,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,F=Kr(a,p),f.props=F,Y=n.pendingProps,j=f.context,P=a.contextType,R=Ca,typeof P=="object"&&P!==null&&(R=Xe(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==R)&&Zp(n,f,o,R),ks=!1,j=n.memoizedState,f.state=j,tl(n,o,f,h),Wo();var q=n.memoizedState;p!==Y||j!==q||ks||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof T=="function"&&(Of(n,a,T,o),q=n.memoizedState),(F=ks||Jp(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,a,h)):$e(e,n,a,h),n.memoizedState=f.state,e=n.child):e=is(e,n,h),e}function dy(e,n,a,o){return zr(),n.flags|=256,$e(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:np()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nn),e}function my(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Ps(n):zs(),(e=oe)?(e=A_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Kg(e),a.return=n,n.child=a,Ye=n,oe=null)):e=null,e===null)throw Ms(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(zs(),h=n.mode,T=Xu({mode:"hidden",children:T},h),o=Pr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,rl(null,o)):(Ps(n),zf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=jf(e,n,a)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),T=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),T=Pr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Gr(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,n=rl(null,o));else if(Ps(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,Ko({value:o,source:null,stack:null}),n=jf(e,n,a)}else if(De||xa(e,n,a,!1),p=(a&e.childLanes)!==0,De||p){if(p=se,p!==null&&(o=Ro(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Lr(e,o),_n(p,e,o),Vf;vd(T)||sc(),n=jf(e,n,a)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Fn(T.nextSibling),Ye=n,Bt=!0,xs=null,qn=!1,e!==null&&$g(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(zs(),T=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Ji(P,T):(T=Pr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,rl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(R=Ce._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=np(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,p,a),n.memoizedState=Uf,rl(e.child,o)):(Ps(n),a=e.child,e=a.sibling,a=Ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function jf(e,n,a){return Gr(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function Bf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function py(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ee.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,et(Ee,p),$e(e,n,o,a),o=Bt?Qo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,n);else if(e.tag===19)gy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),qs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(xa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Ji(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ji(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function cA(e,n,a){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Vs(n,Ce,e.memoizedState.cache),zr();break;case 27:case 5:Fi(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(e,n,a):(Ps(n),e=is(e,n,a),e!==null?e.sibling:null);Ps(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(xa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return py(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,ly(e,n,a,n.pendingProps);case 24:Vs(n,Ce,e.memoizedState.cache)}return is(e,n,a)}function yy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!qf(e,a)&&(n.flags&128)===0)return De=!1,cA(e,n,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Xg(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Kr(e,o),n.tag=1,n=fy(null,n,e,o,a)):(n.tag=0,n=kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=ry(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=ay(null,n,e,o,a);break t}}throw n=ae(e)||e,Error(r(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Kr(o,n.pendingProps),fy(e,n,o,h,a);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),tl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Vs(n,Ce,o),o!==f.cache&&ef(n,[Ce],a,!0),Wo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(e,n,o,a);break t}else if(o!==h){h=zn(Error(r(424)),n),Ko(h),n=dy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Fn(e.firstChild),Ye=n,Bt=!0,xs=null,qn=!0,a=lp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),o===h){n=is(e,n,a);break t}$e(e,n,o,a)}n=n.child}return n;case 26:return Yu(e,n),e===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=hc(Et.current).createElement(a),o[we]=n,o[je]=e,Je(o,a,e),Re(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fi(n),e===null&&Bt&&(o=n.stateNode=w_(n.type,n.pendingProps,Et.current),Ye=n,qn=!0,h=oe,Ks(n.type)?(Ed=h,oe=Fn(o.firstChild)):oe=h),$e(e,n,n.pendingProps.children,a),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=oe)&&(o=jA(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Ye=n,oe=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Ms(n)),Fi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,eA,null,null,a),Tl._currentValue=h),Yu(e,n),$e(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=BA(a,n.pendingProps,qn),a!==null?(n.stateNode=a,Ye=n,oe=null,e=!0):e=!1),e||Ms(n)),null;case 13:return my(e,n,a);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gr(n,null,o,a):$e(e,n,o,a),n.child;case 11:return ry(e,n,n.type,n.pendingProps,a);case 7:return $e(e,n,n.pendingProps,a),n.child;case 8:return $e(e,n,n.pendingProps.children,a),n.child;case 12:return $e(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),$e(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Br(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,a),n.child;case 14:return ay(e,n,n.type,n.pendingProps,a);case 15:return oy(e,n,n.type,n.pendingProps,a);case 19:return py(e,n,a);case 31:return uA(e,n,a);case 22:return ly(e,n,a,n.pendingProps);case 24:return Br(n),o=Xe(Ce),e===null?(h=rf(),h===null&&(h=se,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Vs(n,Ce,h)):((e.lanes&a)!==0&&(lf(e,n),tl(n,null,null,a),Wo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Ce,o)):(o=f.cache,Vs(n,Ce,o),o!==h.cache&&ef(n,[Ce],a,!0))),$e(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fy())e.flags|=8192;else throw Fr=Mu,af}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Fy())e.flags|=8192;else throw Fr=Mu,af}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Fa|=n)}function al(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function hA(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(Ce),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(n)?ss(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ss(n),f!==null?(le(n),_y(n,f)):(le(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(ss(n),le(n),_y(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ss(n),le(n),Hf(n,h,e,o,a)),null;case 27:if(vs(n),a=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}e=st.current,Oa(n)?Jg(n):(e=w_(h,o,a),n.stateNode=e,ss(n))}return le(n),null;case 5:if(vs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(f=st.current,Oa(n))Jg(n);else{var p=hc(Et.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[we]=n,f[je]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ss(n)}}return le(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Et.current,Oa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,a)),e||Ms(n,!0)}else e=hc(e).createTextNode(o),e[we]=n,n.stateNode=e}return le(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Oa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[we]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(r(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[we]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),$u(n,n.updateQueue),le(n),null);case 4:return Zt(),e===null&&hd(n.stateNode.containerInfo),le(n),null;case 10:return ts(n.type),le(n),null;case 19:if(K(Ee),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,al(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Qg(a,e),a=a.sibling;return et(Ee,Ee.current&1|2),Bt&&Zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ge()>ec&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return le(n),null}else 2*Ge()-o.renderingStartTime>ec&&a!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,a=Ee.current,et(Ee,h?a&1|2:a&1),Bt&&Zi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return In(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&$u(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(qr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ts(Ce),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function fA(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ts(Ce),Zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(r(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ee),null;case 4:return Zt(),null;case 10:return ts(n.type),null;case 22:case 23:return In(n),ff(),e!==null&&K(qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ts(Ce),null;case 25:return null;default:return null}}function vy(e,n){switch($h(n),n.tag){case 3:ts(Ce),Zt();break;case 26:case 27:case 5:vs(n);break;case 4:Zt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:K(Ee);break;case 10:ts(n.type);break;case 22:case 23:In(n),ff(),e!==null&&K(qr);break;case 24:ts(Ce)}}function ol(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Jt(n,n.return,T)}}function js(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=a,P=T;try{P()}catch(F){Jt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Jt(n,n.return,F)}}function Ty(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{cp(n,a)}catch(o){Jt(e,e.return,o)}}}function Ey(e,n,a){a.props=Kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,n,o)}}function ll(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,n,h)}}function xi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,n,h)}else a.current=null}function Ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;VA(o,e.type,a,n),o[je]=n}catch(h){Jt(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ks(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Ks(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function Ju(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ju(e,n,a),e=e.sibling;e!==null;)Ju(e,n,a),e=e.sibling}function by(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,a),n[we]=e,n[je]=a}catch(f){Jt(e,e.return,f)}}var rs=!1,Oe=!1,Kf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,qe=null;function dA(e,n){if(e=e.containerInfo,md=_c,e=Lg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,R=-1,P=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===a&&++P===h&&(T=p),j===f&&++F===o&&(R=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},_c=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Kr(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Jt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function Ry(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(e,a),o&4&&ol(5,a);break;case 1:if(os(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Jt(a,a.return,p)}else{var h=Kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(a,a.return,p)}}o&64&&Ty(a),o&512&&ll(a,a.return);break;case 3:if(os(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cp(e,n)}catch(p){Jt(a,a.return,p)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:os(e,a),n===null&&o&4&&Ay(a),o&512&&ll(a,a.return);break;case 12:os(e,a);break;case 31:os(e,a),o&4&&Ny(e,a);break;case 13:os(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=AA.bind(null,a),qA(e,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Oe,h=rs;var f=Oe;rs=o,(Oe=n)&&!f?ls(e,a,(a.subtreeFlags&8772)!==0):os(e,a),rs=h,Oe=f}break;case 30:break;default:os(e,a)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ma(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,mn=!1;function as(e,n,a){for(a=a.child;a!==null;)Cy(e,n,a),a=a.sibling}function Cy(e,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Oe||xi(a,n),as(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||xi(a,n);var o=he,h=mn;Ks(a.type)&&(he=a.stateNode,mn=!1),as(e,n,a),yl(a.stateNode),he=o,mn=h;break;case 5:Oe||xi(a,n);case 6:if(o=he,h=mn,he=null,as(e,n,a),he=o,mn=h,he!==null)if(mn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{he.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:he!==null&&(mn?(e=he,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):T_(he,a.stateNode));break;case 4:o=he,h=mn,he=a.stateNode.containerInfo,mn=!0,as(e,n,a),he=o,mn=h;break;case 0:case 11:case 14:case 15:js(2,a,n),Oe||js(4,a,n),as(e,n,a);break;case 1:Oe||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ey(a,n,o)),as(e,n,a);break;case 21:as(e,n,a);break;case 22:Oe=(o=Oe)||a.memoizedState!==null,as(e,n,a),Oe=o;break;default:as(e,n,a)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Jt(n,n.return,a)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Jt(n,n.return,a)}}function mA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(r(435,e.tag))}}function Zu(e,n){var a=mA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=SA.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){he=T.stateNode,mn=!1;break t}break;case 5:he=T.stateNode,mn=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(he===null)throw Error(r(160));Cy(f,p,h),he=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var si=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(js(3,e,e.return),ol(3,e),js(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(Oe||a===null||xi(a,a.return)),o&64&&rs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=si;if(gn(n,e),pn(e),o&512&&(Oe||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,a),f[we]=e,Re(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else x_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?x_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(Oe||a===null||xi(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(Oe||a===null||xi(a,a.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(at){Jt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Jt(e,e.return,at)}}break;case 3:if(mc=null,h=si,si=fc(n.containerInfo),gn(n,e),si=h,pn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(at){Jt(e,e.return,at)}Kf&&(Kf=!1,xy(e));break;case 4:o=si,si=fc(e.stateNode.containerInfo),gn(n,e),pn(e),si=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=Ge()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=rs,F=Oe;if(rs=P||h,Oe=F||R,gn(n,e),Oe=F,rs=P,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||rs||Oe||Yr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Jt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Jt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?E_(q,!0):E_(R.stateNode,!1)}catch(at){Jt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Zu(e,a))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);Ju(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(dn(p,""),a.flags&=-33);var T=Gf(e);Ju(e,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Gf(e);Qf(e,P,R);break;default:throw Error(r(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Yr(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ey(n,n.return,a),Yr(n);break;case 27:yl(n.stateNode);case 26:case 5:xi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function ls(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),ol(4,f);break;case 1:if(ls(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Jt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)up(R[h],T)}catch(P){Jt(o,o.return,P)}}a&&p&64&&Ty(f),ll(f,f.return);break;case 27:by(f);case 26:case 5:ls(h,f,a),a&&o===null&&p&4&&Ay(f),ll(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&p&4&&Ny(h,f);break;case 13:ls(h,f,a),a&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),ll(f,f.return);break;case 30:break;default:ls(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function ri(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,a,o),n=n.sibling}function My(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,a,o),h&2048&&ol(9,n);break;case 1:ri(e,n,a,o);break;case 3:ri(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){ri(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(n,n.return,R)}}else ri(e,n,a,o);break;case 31:ri(e,n,a,o);break;case 13:ri(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,a,o):ul(e,n):f._visibility&2?ri(e,n,a,o):(f._visibility|=2,Ba(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:ri(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:ri(e,n,a,o)}}function Ba(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ba(f,p,T,R,h),ol(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ba(f,p,T,R,h):ul(f,p):(F._visibility|=2,Ba(f,p,T,R,h)),h&&P&2048&&Yf(p.alternate,p);break;case 24:Ba(f,p,T,R,h),h&&P&2048&&Xf(p.alternate,p);break;default:Ba(f,p,T,R,h)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&Yf(o.alternate,o);break;case 24:ul(a,o),h&2048&&Xf(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var cl=8192;function qa(e,n,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Vy(e,n,a),e=e.sibling}function Vy(e,n,a){switch(e.tag){case 26:qa(e,n,a),e.flags&cl&&e.memoizedState!==null&&tS(a,si,e.memoizedState,e.memoizedProps);break;case 5:qa(e,n,a);break;case 3:case 4:var o=si;si=fc(e.stateNode.containerInfo),qa(e,n,a),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,qa(e,n,a),cl=o):qa(e,n,a));break;default:qa(e,n,a)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];qe=o,Ly(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&js(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):hl(e);break;default:hl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];qe=o,Ly(o,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:js(8,n,n.return),Wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ly(e,n){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qe=o;else t:for(a=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(Iy(o),o===a){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var gA={getCacheForType:function(e){var n=Xe(Ce),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Xe(Ce).controller.signal}},pA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Mt=null,Ut=0,$t=0,Cn=null,Bs=!1,Ha=!1,$f=!1,us=0,ye=0,qs=0,Xr=0,Jf=0,Nn=0,Fa=0,fl=null,yn=null,Zf=!1,tc=0,Py=0,ec=1/0,nc=null,Hs=null,Ue=0,Fs=null,Ga=null,cs=0,Wf=0,td=null,zy=null,dl=0,ed=null;function Dn(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:H.T!==null?od():iu()}function jy(){if(Nn===0)if((Ut&536870912)===0||Bt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function _n(e,n,a){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Gs(e,Ut,Nn,!1)),Sr(e,a),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(Xr|=a),ye===4&&Gs(e,Ut,Nn,!1)),Mi(e))}function By(e,n,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?vA(e,n):id(e,n,!0),f=o;do{if(h===0){Ha&&!o&&Gs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!yA(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=fl;var R=T.current.memoizedState.isDehydrated;if(R&&(Qa(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Qa(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Nn,!Bs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tc+300-Ge(),10<h)){if(Gs(o,n,Nn,!Bs),gi(o,0,!0)!==0)break t;cs=n,o.timeoutHandle=__(qy.bind(null,o,a,yn,nc,Zf,n,Nn,Xr,Fa,Bs,f,"Throttled",-0,0),h);break t}qy(o,a,yn,nc,Zf,n,Nn,Xr,Fa,Bs,f,null,-0,0)}}break}while(!0);Mi(e)}function qy(e,n,a,o,h,f,p,T,R,P,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Vy(n,f,Y);var at=(f&62914560)===f?tc-Ge():(f&4194048)===f?Py-Ge():0;if(at=eS(Y,at),at!==null){cs=f,e.cancelPendingCommit=at($y.bind(null,e,n,f,a,o,h,p,T,R,F,Y,null,j,q)),Gs(e,f,p,!P);return}}$y(e,n,f,a,o,h,p,T,R)}function yA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,a,o){n&=~Jf,n&=~Xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&br(e,a,n)}function ic(){return(Qt&6)===0?(ml(0),!1):!0}function nd(){if(Mt!==null){if($t===0)var e=Mt.return;else e=Mt,Wi=jr=null,_f(e),Ua=null,$o=0,e=Mt;for(;e!==null;)vy(e.alternate,e),e=e.return;Mt=null}}function Qa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,LA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),cs=0,nd(),se=e,Mt=a=Ji(e.current,null),Ut=n,$t=0,Cn=null,Bs=!1,Ha=Xn(e,n),$f=!1,Fa=Nn=Jf=Xr=qs=ye=0,yn=fl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return us=n,bu(),a}function Hy(e,n){wt=null,H.H=sl,n===ka||n===xu?(n=rp(),$t=3):n===af?(n=rp(),$t=4):$t=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Mt===null&&(ye=1,Qu(e,zn(n,e.current)))}function Fy(){var e=Rn.current;return e===null?!0:(Ut&4194048)===Ut?Hn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Hn:!1}function Gy(){var e=H.H;return H.H=sl,e===null?sl:e}function Qy(){var e=H.A;return H.A=gA,e}function sc(){ye=4,Bs||(Ut&4194048)!==Ut&&Rn.current!==null||(Ha=!0),(qs&134217727)===0&&(Xr&134217727)===0||se===null||Gs(se,Ut,Nn,!1)}function id(e,n,a){var o=Qt;Qt|=2;var h=Gy(),f=Qy();(se!==e||Ut!==n)&&(nc=null,Qa(e,n)),n=!1;var p=ye;t:do try{if($t!==0&&Mt!==null){var T=Mt,R=Cn;switch($t){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=$t;if($t=0,Cn=null,Ka(e,T,R,P),a&&Ha){p=0;break t}break;default:P=$t,$t=0,Cn=null,Ka(e,T,R,P)}}_A(),p=ye;break}catch(F){Hy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Wi=jr=null,Qt=o,H.H=h,H.A=f,Mt===null&&(se=null,Ut=0,bu()),p}function _A(){for(;Mt!==null;)Ky(Mt)}function vA(e,n){var a=Qt;Qt|=2;var o=Gy(),h=Qy();se!==e||Ut!==n?(nc=null,ec=Ge()+500,Qa(e,n)):Ha=Xn(e,n);t:do try{if($t!==0&&Mt!==null){n=Mt;var f=Cn;e:switch($t){case 1:$t=0,Cn=null,Ka(e,n,f,1);break;case 2:case 9:if(ip(f)){$t=0,Cn=null,Yy(n);break}n=function(){$t!==2&&$t!==9||se!==e||($t=7),Mi(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ip(f)?($t=0,Cn=null,Yy(n)):($t=0,Cn=null,Ka(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?M_(p):T.stateNode.complete){$t=0,Cn=null;var R=T.sibling;if(R!==null)Mt=R;else{var P=T.return;P!==null?(Mt=P,rc(P)):Mt=null}break e}}$t=0,Cn=null,Ka(e,n,f,5);break;case 6:$t=0,Cn=null,Ka(e,n,f,6);break;case 8:nd(),ye=6;break t;default:throw Error(r(462))}}TA();break}catch(F){Hy(e,F)}while(!0);return Wi=jr=null,H.H=o,H.A=h,Qt=a,Mt!==null?0:(se=null,Ut=0,bu(),ye)}function TA(){for(;Mt!==null&&!Ts();)Ky(Mt)}function Ky(e){var n=yy(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?rc(e):Mt=n}function Yy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:_f(n);default:vy(a,n),n=Mt=Qg(n,us),n=yy(a,n,us)}e.memoizedProps=e.pendingProps,n===null?rc(e):Mt=n}function Ka(e,n,a,o){Wi=jr=null,_f(n),Ua=null,$o=0;var h=n.return;try{if(lA(e,h,n,a,Ut)){ye=1,Qu(e,zn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;ye=1,Qu(e,zn(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Ha||(Ut&536870912)!==0?e=!1:(Bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,Bs);return}e=n.return;var a=hA(n.alternate,n,us);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);ye===0&&(ye=5)}function Xy(e,n){do{var a=fA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ye=6,Mt=null}function $y(e,n,a,o,h,f,p,T,R){e.cancelPendingCommit=null;do ac();while(Ue!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,a,f,p,T,R),e===se&&(Mt=se=null,Ut=0),Ga=n,Fs=e,cs=a,Wf=f,td=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(dt,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,p=Qt,Qt|=4;try{dA(e,n,a)}finally{Qt=p,nt.p=h,H.T=o}}Ue=1,Jy(),Zy(),Wy()}}function Jy(){if(Ue===1){Ue=0;var e=Fs,n=Ga,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Oy(n,e);var f=gd,p=Lg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Ug(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=T.textContent.length,mt=Math.min(R.start,at),ne=R.end===void 0?mt:Math.min(R.end,at);!q.extend&&mt>ne&&(p=ne,ne=mt,mt=p);var V=kg(T,mt),D=kg(T,ne);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),mt>ne?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!md,gd=md=null}finally{Qt=h,nt.p=o,H.T=a}}e.current=n,Ue=2}}function Zy(){if(Ue===2){Ue=0;var e=Fs,n=Ga,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Ry(e,n.alternate,n)}finally{Qt=h,nt.p=o,H.T=a}}Ue=3}}function Wy(){if(Ue===4||Ue===3){Ue=0,Er();var e=Fs,n=Ga,a=cs,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ga=Fs=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Ki(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{H.T=n,nt.p=h}}(cs&3)!==0&&ac(),Mi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?dl++:(dl=0,ed=e):dl=0,ml(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function ac(){return Jy(),Zy(),Wy(),e_()}function e_(){if(Ue!==5)return!1;var e=Fs,n=Wf;Wf=0;var a=Ki(cs),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=td,td=null;var f=Fs,p=cs;if(Ue=0,Ga=Fs=null,cs=0,(Qt&6)!==0)throw Error(r(331));var T=Qt;if(Qt|=4,Uy(f.current),My(f,f.current,p,a),Qt=T,ml(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{nt.p=h,H.T=o,t_(e,n)}}function n_(e,n,a){n=zn(a,n),n=Mf(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(Sr(e,2),Mi(e))}function Jt(e,n,a){if(e.tag===3)n_(e,e,a);else for(;n!==null;){if(n.tag===3){n_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=zn(a,e),a=iy(2),o=Ls(n,a,2),o!==null&&(sy(a,o,n,e),Sr(o,2),Mi(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new pA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=EA.bind(null,e,n,a),n.then(e,e))}function EA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Ut&a)===a&&(ye===4||ye===3&&(Ut&62914560)===Ut&&300>Ge()-tc?(Qt&2)===0&&Qa(e,0):Jf|=a,Fa===Ut&&(Fa=0)),Mi(e)}function i_(e,n){n===0&&(n=nu()),e=Lr(e,n),e!==null&&(Sr(e,n),Mi(e))}function AA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(e,a)}function SA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),i_(e,a)}function bA(e,n){return _e(e,n)}var oc=null,Ya=null,rd=!1,lc=!1,ad=!1,Qs=0;function Mi(e){e!==Ya&&e.next===null&&(Ya===null?oc=Ya=e:Ya=Ya.next=e),lc=!0,rd||(rd=!0,RA())}function ml(e,n){if(!ad&&lc){ad=!0;do for(var a=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(o,f))}else f=Ut,f=gi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(a=!0,o_(o,f));o=o.next}while(a);ad=!1}}function wA(){s_()}function s_(){lc=rd=!1;var e=0;Qs!==0&&UA()&&(e=Qs);for(var n=Ge(),a=null,o=oc;o!==null;){var h=o.next,f=r_(o,n);f===0?(o.next=null,a===null?oc=h:a.next=h,h===null&&(Ya=a)):(a=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Ue!==0&&Ue!==5||ml(e),Qs!==0&&(Qs=0)}function r_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ve(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Vh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=se,a=Ut,a=gi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&on(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&on(o),Ki(a)){case 2:case 8:a=Rt;break;case 32:a=dt;break;case 268435456:a=ke;break;default:a=dt}return o=a_.bind(null,e),a=_e(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&on(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ac()&&e.callbackNode!==a)return null;var o=Ut;return o=gi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,n),r_(e,Ge()),e.callbackNode!=null&&e.callbackNode===a?a_.bind(null,e):null)}function o_(e,n){if(ac())return null;By(e,n,!0)}function RA(){PA(function(){(Qt&6)!==0?_e(W,wA):s_()})}function od(){if(Qs===0){var e=Ma;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Qs=e}return Qs}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function u_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function IA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=l_((h[je]||null).action),p=o.submitter;p&&(n=(n=p[je]||null)?l_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ri("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var R=p?u_(h,p):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?u_(h,p):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],CA=ud.toLowerCase(),NA=ud[0].toUpperCase()+ud.slice(1);ii(CA,"on"+NA)}ii(jg,"onAnimationEnd"),ii(Bg,"onAnimationIteration"),ii(qg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(G1,"onTransitionRun"),ii(Q1,"onTransitionStart"),ii(K1,"onTransitionCancel"),ii(Hg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function c_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[da];a===void 0&&(a=n[da]=new Set);var o=e+"__bubble";a.has(o)||(h_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),h_(a,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[uc]){e[uc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(DA.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,cd("selectionchange",!1,n))}}function h_(e,n,a,o){switch(j_(n)){case 2:var h=sS;break;case 8:h=rS;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=vi(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Is(function(){var P=f,F=kn(a),Y=[];t:{var j=Fg.get(e);if(j!==void 0){var q=Ri,at=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":at="focus",q=Mr;break;case"focusout":at="blur",q=Mr;break;case"beforeblur":case"afterblur":q=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case jg:case Bg:case qg:q=du;break;case Hg:q=E;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=$i;break;case"toggle":case"beforetoggle":q=bt}var mt=(n&4)!==0,ne=!mt&&(e==="scroll"||e==="scrollend"),V=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=Wn(D,V),Q!=null&&mt.push(pl(D,Q,L))),ne)break;D=D.return}0<mt.length&&(j=new q(j,at,null,a,F),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Uo&&(at=a.relatedTarget||a.fromElement)&&(vi(at)||at[yi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=P,at=at?vi(at):null,at!==null&&(ne=c(at),mt=at.tag,at!==ne||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=P),q!==at)){if(mt=jo,Q="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=$i,Q="onPointerLeave",V="onPointerEnter",D="pointer"),ne=q==null?j:An(q),L=at==null?j:An(at),j=new mt(Q,D+"leave",q,a,F),j.target=ne,j.relatedTarget=L,Q=null,vi(F)===P&&(mt=new mt(V,D+"enter",at,a,F),mt.target=L,mt.relatedTarget=ne,Q=mt),ne=Q,q&&at)e:{for(mt=OA,V=q,D=at,L=0,Q=V;Q;Q=mt(Q))L++;Q=0;for(var ct=D;ct;ct=mt(ct))Q++;for(;0<L-Q;)V=mt(V),L--;for(;0<Q-L;)D=mt(D),Q--;for(;L--;){if(V===D||D!==null&&V===D.alternate){mt=V;break e}V=mt(V),D=mt(D)}mt=null}else mt=null;q!==null&&f_(Y,j,q,mt,!1),at!==null&&ne!==null&&f_(Y,ne,at,mt,!0)}}t:{if(j=P?An(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=Ng;else if(Ig(j))if(Dg)Ht=q1;else{Ht=j1;var lt=z1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ya(P.elementType)&&(Ht=Ng):Ht=B1;if(Ht&&(Ht=Ht(e,P))){Cg(Y,Ht,a,F);break t}lt&&lt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(lt=P?An(P):window,e){case"focusin":(Ig(lt)||lt.contentEditable==="true")&&(wa=lt,jh=P,Go=null);break;case"focusout":Go=jh=wa=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Pg(Y,a,F);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":Pg(Y,a,F)}var It;if(Gt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ba?Vr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ni&&a.locale!=="ko"&&(ba||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ba&&(It=Po()):(wi=F,Lo="value"in wi?wi.value:wi.textContent,ba=!0)),lt=cc(P,Lt),0<lt.length&&(Lt=new Ci(Lt,e,null,a,F),Y.push({event:Lt,listeners:lt}),It?Lt.data=It:(It=Sa(a),It!==null&&(Lt.data=It)))),(It=Ln?k1(e,a):U1(e,a))&&(Lt=cc(P,"onBeforeInput"),0<Lt.length&&(lt=new Ci("onBeforeInput","beforeinput",null,a,F),Y.push({event:lt,listeners:Lt}),lt.data=It)),IA(Y,e,P,a,F)}c_(Y,n)})}function pl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function cc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,a),h!=null&&o.unshift(pl(e,h,f)),h=Wn(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function OA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=Wn(a,f),P!=null&&p.unshift(pl(a,P,R))):h||(P=Wn(a,f),P!=null&&p.push(pl(a,P,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var xA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(xA,`
`).replace(MA,"")}function m_(e,n){return n=d_(n),d_(e)===n}function ee(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,a,o);break;case"style":ko(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ga(e,"popover",o);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cu.get(a)||a,ga(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ga(e,a,o)}}}function Je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,f,p,a,null)}}h&&ee(e,n,"srcSet",a.srcSet,a,null),o&&ee(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,R=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ee(e,n,o,F,a,null)}}ou(e,f,T,R,P,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ee(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?Ss(e,!!o,n,!1):a!=null&&Ss(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ee(e,n,p,T,a,null)}bs(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,R,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<gl.length;o++)Vt(gl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,P,o,a,null)}return;default:if(ya(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&dd(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ee(e,n,T,o,a,null))}function VA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,P=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||ee(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&ee(e,n,j,q,o,Y)}}pa(e,p,T,R,P,F,f,h);return;case"select":q=p=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ee(e,n,h,f,o,R)}n=T,a=p,o=q,j!=null?Ss(e,!!a,j,!1):!!o!=!!a&&(n!=null?Ss(e,!!a,n,!0):Ss(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ee(e,n,p,h,o,f)}lu(e,j,q);return;case"option":for(var at in a)j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ee(e,n,at,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ee(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&ee(e,n,mt,null,o,j);for(P in o)if(j=o[P],q=a[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:ee(e,n,P,j,o,q)}return;default:if(ya(n)){for(var ne in a)j=a[ne],a.hasOwnProperty(ne)&&j!==void 0&&!o.hasOwnProperty(ne)&&dd(e,n,ne,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||dd(e,n,F,j,o,q);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&ee(e,n,V,null,o,j);for(Y in o)j=o[Y],q=a[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||ee(e,n,Y,j,o,q)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&g_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],P=R.startTime;if(P>T)break;var F=R.transferSize,Y=R.initiatorType;F&&g_(Y)&&(R=R.responseEnd,p+=F*(R<T?1:(T-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function UA(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(zA)}:__;function zA(e){setTimeout(function(){throw e})}function Ks(e){return e==="head"}function T_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Za(n)}function E_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function BA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Fn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,a){switch(n=hc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ma(e)}var Gn=new Map,R_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=nt.d;nt.d={f:HA,r:FA,D:GA,C:QA,L:KA,m:YA,X:$A,S:XA,M:JA};function HA(){var e=hs.f(),n=ic();return e||n}function FA(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?Hp(n):hs.r(e)}var Xa=typeof document>"u"?null:document;function I_(e,n,a){var o=Xa;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Re(n),o.head.appendChild(n)))}}function GA(e){hs.D(e),I_("dns-prefetch",e,null)}function QA(e,n){hs.C(e,n),I_("preconnect",e,n)}function KA(e,n,a){hs.L(e,n,a);var o=Xa;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=$a(e);break;case"script":f=Ja(e)}Gn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),Je(n,"link",e),Re(n),o.head.appendChild(n)))}}function YA(e,n){hs.m(e,n);var a=Xa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(e)}if(!Gn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Gn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Je(o,"link",e),Re(o),a.head.appendChild(o)}}}function XA(e,n,a){hs.S(e,n,a);var o=Xa;if(o&&e){var h=Ti(o).hoistableStyles,f=$a(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(_l(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Gn.get(f))&&Ad(e,a);var R=p=o.createElement("link");Re(R),Je(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function $A(e,n){hs.X(e,n);var a=Xa;if(a&&e){var o=Ti(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=S({src:e,async:!0},n),(n=Gn.get(h))&&Sd(e,n),f=a.createElement("script"),Re(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function JA(e,n){hs.M(e,n);var a=Xa;if(a&&e){var o=Ti(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&Sd(e,n),f=a.createElement("script"),Re(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,n,a,o){var h=(h=Et.current)?fc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$a(a.href),a=Ti(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var f=Ti(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(_l(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),f||ZA(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(a),a=Ti(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $a(e){return'href="'+fn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ZA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",a),Re(n),e.head.appendChild(n))}function Ja(e){return'[src="'+fn(e)+'"]'}function vl(e){return"script[async]"+e}function D_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Je(o,"style",h),dc(o,a.precedence,e),n.instance=o;case"stylesheet":h=$a(a.href);var f=e.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=N_(a),(h=Gn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Je(f,"link",o),n.state.loading|=4,dc(f,a.precedence,e),n.instance=f;case"script":return f=Ja(a.src),(h=e.querySelector(vl(f)))?(n.instance=h,Re(h),h):(o=a,(h=Gn.get(f))&&(o=S({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,a.precedence,e));return n.instance}function dc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function O_(e,n,a){if(mc===null){var o=new Map,h=mc=new Map;h.set(a,o)}else h=mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function x_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function WA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Re(f);return}f=n.ownerDocument||n,o=N_(o),(h=Gn.get(h))&&Ad(o,h),f=f.createElement("link"),Re(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=gc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var bd=0;function eS(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*kA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(nS,e),pc=null,gc.call(e))}function nS(e,n){if(!(n.state.loading&4)){var a=pc.get(e);if(a)var o=a.get(null);else{a=new Map,pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function iS(e,n,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V_(e,n,a,o,h,f,p,T,R,P,F,Y){return e=new iS(e,n,a,p,R,P,F,Y,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function k_(e){return e?(e=Ca,e):Ca}function U_(e,n,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ls(e,o,n),a!==null&&(_n(a,e,n),Zo(a,e,n))}function L_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){L_(e,n),(e=e.alternate)&&L_(e,n)}function P_(e){if(e.tag===13||e.tag===31){var n=Lr(e,67108864);n!==null&&_n(n,e,67108864),wd(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=Dn();n=wr(n);var a=Lr(e,n);a!==null&&_n(a,e,n),wd(e,n)}}var _c=!0;function sS(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,Rd(e,n,a,o)}finally{nt.p=f,H.T=h}}function rS(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,Rd(e,n,a,o)}finally{nt.p=f,H.T=h}}function Rd(e,n,a,o){if(_c){var h=Id(o);if(h===null)fd(e,n,o,vc,a),B_(e,o);else if(oS(h,e,n,a,o))o.stopPropagation();else if(B_(e,o),n&4&&-1<aS.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=mi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-ve(p);T.entanglements[1]|=R,p&=~R}Mi(f),(Qt&6)===0&&(ec=Ge()+500,ml(0))}}break;case 31:case 13:T=Lr(f,2),T!==null&&_n(T,f,2),ic(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,vc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=kn(e),Cd(e)}var vc=null;function Cd(e){if(vc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case W:return 2;case Rt:return 8;case dt:case Kt:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ys=null,Xs=null,$s=null,El=new Map,Al=new Map,Js=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&P_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function oS(e,n,a,o,h){switch(n){case"focusin":return Ys=Sl(Ys,e,n,a,o,h),!0;case"dragenter":return Xs=Sl(Xs,e,n,a,o,h),!0;case"mouseover":return $s=Sl($s,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Sl(El.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,e,n,a,o,h)),!0}return!1}function q_(e){var n=vi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,$n(e.priority,function(){z_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,$n(e.priority,function(){z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return n=Vn(a),n!==null&&P_(n),e.blockedOn=a,!1;n.shift()}return!0}function H_(e,n,a){Tc(e)&&a.delete(n)}function lS(){Nd=!1,Ys!==null&&Tc(Ys)&&(Ys=null),Xs!==null&&Tc(Xs)&&(Xs=null),$s!==null&&Tc($s)&&($s=null),El.forEach(H_),Al.forEach(H_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lS)))}var Ac=null;function F_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=Vn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Za(e){function n(R){return Ec(R,e)}Ys!==null&&Ec(Ys,e),Xs!==null&&Ec(Xs,e),$s!==null&&Ec($s,e),El.forEach(n),Al.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Js.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[je]||null;if(typeof f=="function")p||F_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Sc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Dn();U_(a,o,e,n,null,null)},Sc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),ic(),n[yi]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,e),a===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.3")throw Error(r(527,Q_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Yn=bc.inject(uS),Qe=bc}catch{}}return wl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Wp,f=ty,p=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V_(e,1,!1,null,null,a,o,null,h,f,p,G_),e[yi]=n.current,hd(e),new Dd(n)},wl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Wp,p=ty,T=ey,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=V_(e,1,!0,n,a??null,o,h,R,f,p,T,G_),n.context=k_(null),a=n.current,o=Dn(),o=wr(o),h=Us(o),h.callback=null,Ls(a,h,o),a=o,n.current.lanes=a,Sr(n,a),Mi(n),e[yi]=n.current,hd(e),new Sc(n)},wl.version="19.2.3",wl}var nv;function vS(){if(nv)return Md.exports;nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=_S(),Md.exports}var TS=vS();const ES=()=>{};var iv={};const q0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},AS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(x=64)),r.push(i[A],i[S],i[x],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):AS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new SS;const x=c<<2|g>>4;if(r.push(x),y!==64){const G=g<<4&240|y>>2;if(r.push(G),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bS=function(s){const t=q0(s);return H0.encodeByteArray(t,!0)},qc=function(s){return bS(s).replace(/\./g,"")},F0=function(s){try{return H0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RS=()=>wS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&F0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return ES()||RS()||IS()||CS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},G0=s=>ch()?.emulatorHosts?.[s],NS=s=>{const t=G0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Q0=()=>ch()?.config,K0=s=>ch()?.[`_${s}`];class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y0(s){return(await fetch(s,{credentials:"include"})).ok}function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Dl={};function xS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?s.emulator.push(t):s.prod.push(t);return s}function MS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let sv=!1;function X0(s,t){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Dl[s]===t||Dl[s]||sv)return;Dl[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=xS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{sv=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=MS(r),G=i("text"),J=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),gt=i("preprendIcon"),_t=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const pt=x.element;g(pt),A(Z,it);const Ct=y();_(_t,gt),pt.append(_t,J,Z,Ct),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function kS(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function zS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J0(){try{return typeof indexedDB=="object"}catch{return!1}}function Z0(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function jS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const BS="FirebaseError";class hi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=BS,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?qS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new hi(l,g,r)}}function qS(s,t){return s.replace(HS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const HS=/\{\$([^}]+)}/g;function FS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ur(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(rv(c)&&rv(d)){if(!ur(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function rv(s){return s!==null&&typeof s=="object"}function Fl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function GS(s,t){const i=new QS(s,t);return i.subscribe.bind(i)}class QS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");KS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}const YS=1e3,XS=2,$S=14400*1e3,JS=.5;function av(s,t=YS,i=XS){const r=t*Math.pow(i,s),l=Math.round(JS*r*(Math.random()-.5)*2);return Math.min($S,r+l)}function Ve(s){return s&&s._delegate?s._delegate:s}class ci{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $r="[DEFAULT]";class ZS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new DS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(s){return s===$r?void 0:s}function tb(s){return s.instantiationMode==="EAGER"}class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ZS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const nb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},ib=Pt.INFO,sb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},rb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=sb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hh{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const ab=(s,t)=>t.some(i=>s instanceof i);let ov,lv;function ob(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,tm=new WeakMap,tT=new WeakMap,Pd=new WeakMap,Dm=new WeakMap;function ub(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&W0.set(i,s)}).catch(()=>{}),Dm.set(t,s),t}function cb(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||tT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hb(s){em=s(em)}function fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(zd(this),t,...i);return tT.set(r,t.sort?t.sort():[t]),sr(r)}:lb().includes(s)?function(...t){return s.apply(zd(this),t),sr(W0.get(this))}:function(...t){return sr(s.apply(zd(this),t))}}function db(s){return typeof s=="function"?fb(s):(s instanceof IDBTransaction&&cb(s),ab(s,ob())?new Proxy(s,em):s)}function sr(s){if(s instanceof IDBRequest)return ub(s);if(Pd.has(s))return Pd.get(s);const t=db(s);return t!==s&&(Pd.set(s,t),Dm.set(t,s)),t}const zd=s=>Dm.get(s);function eT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=sr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const mb=["get","getKey","getAll","getAllKeys","count"],gb=["put","add","delete","clear"],jd=new Map;function uv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=gb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||mb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return jd.set(t,c),c}hb(s=>({...s,get:(t,i,r)=>uv(t,i)||s.get(t,i,r),has:(t,i)=>!!uv(t,i)||s.has(t,i)}));class pb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function yb(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",cv="0.14.6";const gs=new hh("@firebase/app"),_b="@firebase/app-compat",vb="@firebase/analytics-compat",Tb="@firebase/analytics",Eb="@firebase/app-check-compat",Ab="@firebase/app-check",Sb="@firebase/auth",bb="@firebase/auth-compat",wb="@firebase/database",Rb="@firebase/data-connect",Ib="@firebase/database-compat",Cb="@firebase/functions",Nb="@firebase/functions-compat",Db="@firebase/installations",Ob="@firebase/installations-compat",xb="@firebase/messaging",Mb="@firebase/messaging-compat",Vb="@firebase/performance",kb="@firebase/performance-compat",Ub="@firebase/remote-config",Lb="@firebase/remote-config-compat",Pb="@firebase/storage",zb="@firebase/storage-compat",jb="@firebase/firestore",Bb="@firebase/ai",qb="@firebase/firestore-compat",Hb="firebase",Fb="12.6.0";const im="[DEFAULT]",Gb={[nm]:"fire-core",[_b]:"fire-core-compat",[Tb]:"fire-analytics",[vb]:"fire-analytics-compat",[Ab]:"fire-app-check",[Eb]:"fire-app-check-compat",[Sb]:"fire-auth",[bb]:"fire-auth-compat",[wb]:"fire-rtdb",[Rb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Cb]:"fire-fn",[Nb]:"fire-fn-compat",[Db]:"fire-iid",[Ob]:"fire-iid-compat",[xb]:"fire-fcm",[Mb]:"fire-fcm-compat",[Vb]:"fire-perf",[kb]:"fire-perf-compat",[Ub]:"fire-rc",[Lb]:"fire-rc-compat",[Pb]:"fire-gcs",[zb]:"fire-gcs-compat",[jb]:"fire-fst",[qb]:"fire-fst-compat",[Bb]:"fire-vertex","fire-js":"fire-js",[Hb]:"fire-js-all"};const Hc=new Map,Qb=new Map,sm=new Map;function hv(s,t){try{s.container.addComponent(t)}catch(i){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ji(s){const t=s.name;if(sm.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Hc.values())hv(i,s);for(const i of Qb.values())hv(i,s);return!0}function ua(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new la("app","Firebase",Kb);class Yb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const vo=Fb;function nT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:im,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=Q0()),!i)throw rr.create("no-options");const c=Hc.get(l);if(c){if(ur(i,c.options)&&ur(r,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new eb(l);for(const _ of sm.values())d.addComponent(_);const g=new Yb(i,r,d);return Hc.set(l,g),g}function Om(s=im){const t=Hc.get(s);if(!t&&s===im&&Q0())return nT();if(!t)throw rr.create("no-app",{appName:s});return t}function Kn(s,t,i){let r=Gb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}ji(new ci(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Xb="firebase-heartbeat-database",$b=1,Ul="firebase-heartbeat-store";let Bd=null;function iT(){return Bd||(Bd=eT(Xb,$b,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function Jb(s){try{const i=(await iT()).transaction(Ul),r=await i.objectStore(Ul).get(sT(s));return await i.done,r}catch(t){if(t instanceof hi)gs.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(i.message)}}}async function fv(s,t){try{const r=(await iT()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(t,sT(s)),await r.done}catch(i){if(i instanceof hi)gs.warn(i.message);else{const r=rr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function sT(s){return`${s.name}!${s.options.appId}`}const Zb=1024,Wb=30;class tw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Wb){const l=iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dv(),{heartbeatsToSend:i,unsentEntries:r}=ew(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function dv(){return new Date().toISOString().substring(0,10)}function ew(s,t=Zb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),mv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),mv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class nw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J0()?Z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function iw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function sw(s){ji(new ci("platform-logger",t=>new pb(t),"PRIVATE")),ji(new ci("heartbeat",t=>new tw(t),"PRIVATE")),Kn(nm,cv,s),Kn(nm,cv,"esm2020"),Kn("fire-js","")}sw("");var rw="firebase",aw="12.7.0";Kn(rw,aw,"app");const rT="@firebase/installations",xm="0.6.19";const aT=1e4,oT=`w:${xm}`,lT="FIS_v2",ow="https://firebaseinstallations.googleapis.com/v1",lw=3600*1e3,uw="installations",cw="Installations";const hw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new la(uw,cw,hw);function uT(s){return s instanceof hi&&s.code.includes("request-failed")}function cT({projectId:s}){return`${ow}/projects/${s}/installations`}function hT(s){return{token:s.token,requestStatus:2,expiresIn:dw(s.expiresIn),creationTime:Date.now()}}async function fT(s,t){const r=(await t.json()).error;return ia.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function dT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function fw(s,{refreshToken:t}){const i=dT(s);return i.append("Authorization",mw(t)),i}async function mT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function dw(s){return Number(s.replace("s","000"))}function mw(s){return`${lT} ${s}`}async function gw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=cT(s),l=dT(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:lT,appId:s.appId,sdkVersion:oT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await mT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:hT(y.authToken)}}else throw await fT("Create Installation",_)}function gT(s){return new Promise(t=>{setTimeout(t,s)})}function pw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const yw=/^[cdef][\w-]{21}$/,rm="";function _w(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=vw(s);return yw.test(i)?i:rm}catch{return rm}}function vw(s){return pw(s).substr(0,22)}function fh(s){return`${s.appName}!${s.appId}`}const pT=new Map;function yT(s,t){const i=fh(s);_T(i,t),Tw(i,t)}function _T(s,t){const i=pT.get(s);if(i)for(const r of i)r(t)}function Tw(s,t){const i=Ew();i&&i.postMessage({key:s,fid:t}),Aw()}let Jr=null;function Ew(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=s=>{_T(s.data.key,s.data.fid)}),Jr}function Aw(){pT.size===0&&Jr&&(Jr.close(),Jr=null)}const Sw="firebase-installations-database",bw=1,sa="firebase-installations-store";let qd=null;function Mm(){return qd||(qd=eT(Sw,bw,{upgrade:(s,t)=>{t===0&&s.createObjectStore(sa)}})),qd}async function Fc(s,t){const i=fh(s),l=(await Mm()).transaction(sa,"readwrite"),c=l.objectStore(sa),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&yT(s,t.fid),t}async function vT(s){const t=fh(s),r=(await Mm()).transaction(sa,"readwrite");await r.objectStore(sa).delete(t),await r.done}async function dh(s,t){const i=fh(s),l=(await Mm()).transaction(sa,"readwrite"),c=l.objectStore(sa),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&yT(s,g.fid),g}async function Vm(s){let t;const i=await dh(s.appConfig,r=>{const l=ww(r),c=Rw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===rm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function ww(s){const t=s||{fid:_w(),registrationStatus:0};return TT(t)}function Rw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ia.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Iw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Cw(s)}:{installationEntry:t}}async function Iw(s,t){try{const i=await gw(s,t);return Fc(s.appConfig,i)}catch(i){throw uT(i)&&i.customData.serverCode===409?await vT(s.appConfig):await Fc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Cw(s){let t=await gv(s.appConfig);for(;t.registrationStatus===1;)await gT(100),t=await gv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Vm(s);return r||i}return t}function gv(s){return dh(s,t=>{if(!t)throw ia.create("installation-not-found");return TT(t)})}function TT(s){return Nw(s)?{fid:s.fid,registrationStatus:0}:s}function Nw(s){return s.registrationStatus===1&&s.registrationTime+aT<Date.now()}async function Dw({appConfig:s,heartbeatServiceProvider:t},i){const r=Ow(s,i),l=fw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:oT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await mT(()=>fetch(r,g));if(_.ok){const y=await _.json();return hT(y)}else throw await fT("Generate Auth Token",_)}function Ow(s,{fid:t}){return`${cT(s)}/${t}/authTokens:generate`}async function km(s,t=!1){let i;const r=await dh(s.appConfig,c=>{if(!ET(c))throw ia.create("not-registered");const d=c.authToken;if(!t&&Vw(d))return c;if(d.requestStatus===1)return i=xw(s,t),c;{if(!navigator.onLine)throw ia.create("app-offline");const g=Uw(c);return i=Mw(s,g),g}});return i?await i:r.authToken}async function xw(s,t){let i=await pv(s.appConfig);for(;i.authToken.requestStatus===1;)await gT(100),i=await pv(s.appConfig);const r=i.authToken;return r.requestStatus===0?km(s,t):r}function pv(s){return dh(s,t=>{if(!ET(t))throw ia.create("not-registered");const i=t.authToken;return Lw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Mw(s,t){try{const i=await Dw(s,t),r={...t,authToken:i};return await Fc(s.appConfig,r),i}catch(i){if(uT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await vT(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Fc(s.appConfig,r)}throw i}}function ET(s){return s!==void 0&&s.registrationStatus===2}function Vw(s){return s.requestStatus===2&&!kw(s)}function kw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+lw}function Uw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function Lw(s){return s.requestStatus===1&&s.requestTime+aT<Date.now()}async function Pw(s){const t=s,{installationEntry:i,registrationPromise:r}=await Vm(t);return r?r.catch(console.error):km(t).catch(console.error),i.fid}async function zw(s,t=!1){const i=s;return await jw(i),(await km(i,t)).token}async function jw(s){const{registrationPromise:t}=await Vm(s);t&&await t}function Bw(s){if(!s||!s.options)throw Hd("App Configuration");if(!s.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Hd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Hd(s){return ia.create("missing-app-config-values",{valueName:s})}const AT="installations",qw="installations-internal",Hw=s=>{const t=s.getProvider("app").getImmediate(),i=Bw(t),r=ua(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Fw=s=>{const t=s.getProvider("app").getImmediate(),i=ua(t,AT).getImmediate();return{getId:()=>Pw(i),getToken:l=>zw(i,l)}};function Gw(){ji(new ci(AT,Hw,"PUBLIC")),ji(new ci(qw,Fw,"PRIVATE"))}Gw();Kn(rT,xm);Kn(rT,xm,"esm2020");const Gc="analytics",Qw="firebase_id",Kw="origin",Yw=60*1e3,Xw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Um="https://www.googletagmanager.com/gtag/js";const cn=new hh("@firebase/analytics");const $w={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new la("analytics","Analytics",$w);function Jw(s){if(!s.startsWith(Um)){const t=xn.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(t.message),""}return s}function ST(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function Zw(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function Ww(s,t){const i=Zw("firebase-js-sdk-policy",{createScriptURL:Jw}),r=document.createElement("script"),l=`${Um}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function tR(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function eR(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await ST(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){cn.error(g)}s("config",l,c)}async function nR(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await ST(i);for(const _ of d){const y=g.find(S=>S.measurementId===_),A=y&&t[y.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){cn.error(c)}}function iR(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await nR(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await eR(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){cn.error(g)}}return l}function sR(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=iR(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function rR(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Um)&&i.src.includes(s))return i;return null}const aR=30,oR=1e3;class lR{constructor(t={},i=oR){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const bT=new lR;function uR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function cR(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:uR(i)},l=Xw.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function hR(s,t=bT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw xn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw xn.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new mR;return setTimeout(async()=>{g.abort()},Yw),wT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function wT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=bT){const{appId:c,measurementId:d}=s;try{await fR(r,t)}catch(g){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await cR(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!dR(_)){if(l.deleteThrottleMetadata(c),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?av(i,l.intervalMillis,aR):av(i,l.intervalMillis),A={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,A),cn.debug(`Calling attemptFetch again in ${y} millis`),wT(s,A,r,l)}}function fR(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dR(s){if(!(s instanceof hi)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class mR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function gR(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function pR(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function yR(){if(J0())try{await Z0()}catch(s){return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _R(s,t,i,r,l,c,d){const g=hR(s);g.then(x=>{i[x.measurementId]=x.appId,s.options.measurementId&&x.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>cn.error(x)),t.push(g);const _=yR().then(x=>{if(x)return r.getId()}),[y,A]=await Promise.all([g,_]);rR(c)||Ww(c,y.measurementId),l("js",new Date);const S=d?.config??{};return S[Kw]="firebase",S.update=!0,A!=null&&(S[Qw]=A),l("config",y.measurementId,S),y.measurementId}class vR{constructor(t){this.app=t}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},yv=[];const _v={};let Fd="dataLayer",TR="gtag",vv,Lm,Tv=!1;function ER(){const s=[];if($0()&&s.push("This is a browser extension environment."),jS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=xn.create("invalid-analytics-context",{errorInfo:t});cn.warn(i.message)}}function AR(s,t,i){ER();const r=s.options.appId;if(!r)throw xn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(io[r]!=null)throw xn.create("already-exists",{id:r});if(!Tv){tR(Fd);const{wrappedGtag:c,gtagCore:d}=sR(io,yv,_v,Fd,TR);Lm=c,vv=d,Tv=!0}return io[r]=_R(s,yv,_v,t,vv,Fd,i),new vR(s)}function SR(s=Om()){s=Ve(s);const t=ua(s,Gc);return t.isInitialized()?t.getImmediate():bR(s)}function bR(s,t={}){const i=ua(s,Gc);if(i.isInitialized()){const l=i.getImmediate();if(ur(t,i.getOptions()))return l;throw xn.create("already-initialized")}return i.initialize({options:t})}function wR(s,t,i){s=Ve(s),pR(Lm,io[s.app.options.appId],t,i).catch(r=>cn.error(r))}function RR(s,t,i,r){s=Ve(s),gR(Lm,io[s.app.options.appId],t,i,r).catch(l=>cn.error(l))}const Ev="@firebase/analytics",Av="0.10.19";function IR(){ji(new ci(Gc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return AR(r,l,i)},"PUBLIC")),ji(new ci("analytics-internal",s,"PRIVATE")),Kn(Ev,Av),Kn(Ev,Av,"esm2020");function s(t){try{const i=t.getProvider(Gc).getImmediate();return{logEvent:(r,l,c)=>RR(i,r,l,c),setUserProperties:(r,l)=>wR(i,r,l)}}catch(i){throw xn.create("interop-component-reg-failed",{reason:i})}}}IR();function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CR=RT,IT=new la("auth","Firebase",RT());const Qc=new hh("@firebase/auth");function NR(s,...t){Qc.logLevel<=Pt.WARN&&Qc.warn(`Auth (${vo}): ${s}`,...t)}function xc(s,...t){Qc.logLevel<=Pt.ERROR&&Qc.error(`Auth (${vo}): ${s}`,...t)}function Bi(s,...t){throw zm(s,...t)}function li(s,...t){return zm(s,...t)}function Pm(s,t,i){const r={...CR(),[t]:i};return new la("auth","Firebase",r).create(t,{appName:s.name})}function ta(s){return Pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DR(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Bi(s,"argument-error"),Pm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return IT.create(s,...t)}function vt(s,t,...i){if(!s)throw zm(t,...i)}function ds(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function ps(s,t){s||ds(t)}function am(){return typeof self<"u"&&self.location?.href||""}function OR(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OR()||$0()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ps(i>t,"Short delay should be less than long delay!"),this.isMobile=VS()||LS()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,t){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class CT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new Gl(3e4,6e4);function Bm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function To(s,t,i,r,l={}){return NT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Fl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return US()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),CT.fetch()(await DT(s,s.config.apiHost,i,g),y)})}async function NT(s,t,i){s._canInitEmulator=!1;const r={...VR,...t};try{const l=new PR(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pm(s,A,y);Bi(s,A)}}catch(l){if(l instanceof hi)throw l;Bi(s,"network-request-failed",{message:String(l)})}}async function LR(s,t,i,r,l={}){const c=await To(s,t,i,r,l);return"mfaPendingCredential"in c&&Bi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function DT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return kR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),UR.get())})}}function wc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=li(s,t,r);return l.customData._tokenResponse=i,l}async function zR(s,t){return To(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return To(s,"POST","/v1/accounts:lookup",t)}function Ol(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jR(s,t=!1){const i=Ve(s),r=await i.getIdToken(t),l=qm(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ol(Gd(l.auth_time)),issuedAtTime:Ol(Gd(l.iat)),expirationTime:Ol(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function qm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=F0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function bv(s){const t=qm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof hi&&BR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function BR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),r=await Ll(s,Kc(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?OT(l.providerUserInfo):[],d=FR(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function HR(s){const t=Ve(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FR(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function OT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GR(s,t){const i=await NT(s,{},async()=>{const r=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await DT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),CT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QR(s,t){return To(s,"POST","/v2/accounts:revokeToken",Bm(s,t))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=bv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await GR(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new so;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ds("not implemented")}}function Ws(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jR(this,t)}reload(){return HR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ta(this.auth));const t=await this.getIdToken();return await Ll(this,zR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:G,providerData:J,stsTokenManager:it}=i;vt(S&&it,t,"internal-error");const Z=so.fromJSON(this.name,it);vt(typeof S=="string",t,"internal-error"),Ws(r,t.name),Ws(l,t.name),vt(typeof x=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),Ws(c,t.name),Ws(d,t.name),Ws(g,t.name),Ws(_,t.name),Ws(y,t.name),Ws(A,t.name);const gt=new oi({uid:S,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(gt.providerData=J.map(_t=>({..._t}))),_&&(gt._redirectEventId=_),gt}static async _fromIdTokenResponse(t,i,r=!1){const l=new so;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?OT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new so;g.updateFromIdToken(r);const _=new oi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const wv=new Map;function ms(s){ps(s instanceof Function,"Expected a class definition");let t=wv.get(s);return t?(ps(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,wv.set(s,t),t)}class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}xT.type="NONE";const Rv=xT;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class ro{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new ro(ms(Rv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ms(Rv);const d=Mc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const x=await Kc(t,{idToken:A}).catch(()=>{});if(!x)break;S=await oi._fromGetAccountInfoResponse(t,x,A)}else S=oi._fromJSON(t,A);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ro(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ro(c,t,r))}}function Iv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PT(t))return"Blackberry";if(zT(t))return"Webos";if(VT(t))return"Safari";if((t.includes("chrome/")||kT(t))&&!t.includes("edge/"))return"Chrome";if(LT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function MT(s=an()){return/firefox\//i.test(s)}function VT(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kT(s=an()){return/crios\//i.test(s)}function UT(s=an()){return/iemobile/i.test(s)}function LT(s=an()){return/android/i.test(s)}function PT(s=an()){return/blackberry/i.test(s)}function zT(s=an()){return/webos/i.test(s)}function Hm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KR(s=an()){return Hm(s)&&!!window.navigator?.standalone}function YR(){return PS()&&document.documentMode===10}function jT(s=an()){return Hm(s)||LT(s)||zT(s)||PT(s)||/windows phone/i.test(s)||UT(s)}function BT(s,t=[]){let i;switch(s){case"Browser":i=Iv(an());break;case"Worker":i=`${Iv(an())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class XR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $R(s,t={}){return To(s,"GET","/v2/passwordPolicy",Bm(s,t))}const JR=6;class ZR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class WR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new XR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(ta(this));const i=t?Ve(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $R(this),i=new ZR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new la("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await QR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ms(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mh(s){return Ve(s)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=GS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tI(s){Fm=s}function eI(s){return Fm.loadJS(s)}function nI(){return Fm.gapiScript}function iI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sI(s,t){const i=ua(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ur(c,t??{}))return l;Bi(l,"already-initialized")}return i.initialize({options:t})}function rI(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function aI(s,t,i){const r=mh(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=qT(t),{host:d,port:g}=oI(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(ur(y,r.config.emulator)&&ur(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(Y0(`${c}//${d}${_}`),X0("Auth",!0)):lI()}function qT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function oI(s){const t=qT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Nv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Nv(d)}}}function Nv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function lI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class HT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,i){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function ao(s,t){return LR(s,"POST","/v1/accounts:signInWithIdp",Bm(s,t))}const uI="http://localhost";class ra extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Bi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ao(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ao(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ao(t,i)}buildRequest(){const t={requestUri:uI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}class Gm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ql extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends Ql{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class fs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ra._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return fs.credential(i,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class er extends Ql{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Ql{constructor(){super("twitter.com")}static credential(t,i){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await oi._fromIdTokenResponse(t,r,l),d=Dv(r);return new uo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Dv(r);return new uo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Dv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends hi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Xc(t,i,r,l)}}function FT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,r):c})}async function cI(s,t,i=!1){const r=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return uo._forOperation(s,"link",r)}async function hI(s,t,i=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(ta(r));const l="reauthenticate";try{const c=await Ll(s,FT(r,l,t,s),i);vt(c.idToken,r,"internal-error");const d=qm(c.idToken);vt(d,r,"internal-error");const{sub:g}=d;return vt(s.uid===g,r,"user-mismatch"),uo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Bi(r,"user-mismatch"),c}}async function fI(s,t,i=!1){if(ai(s.app))return Promise.reject(ta(s));const r="signIn",l=await FT(s,r,t),c=await uo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function dI(s,t,i,r){return Ve(s).onIdTokenChanged(t,i,r)}function mI(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}function gI(s,t,i,r){return Ve(s).onAuthStateChanged(t,i,r)}function Ov(s){return Ve(s).signOut()}const $c="__sak";class GT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pI=1e3,yI=10;class QT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);YR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,yI):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}QT.type="LOCAL";const _I=QT;class KT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}KT.type="SESSION";const YT=KT;function vI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await vI(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Qm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class TI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Qm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function EI(s){ki().location.href=s}function XT(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function AI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){return navigator?.serviceWorker?.controller||null}function bI(){return XT()?self:null}const $T="firebaseLocalStorageDb",wI=1,Jc="firebaseLocalStorage",JT="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function RI(){const s=indexedDB.deleteDatabase($T);return new Kl(s).toPromise()}function lm(){const s=indexedDB.open($T,wI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Jc,{keyPath:JT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Jc)?t(r):(r.close(),await RI(),t(await lm()))})})}async function xv(s,t,i){const r=ph(s,!0).put({[JT]:t,value:i});return new Kl(r).toPromise()}async function II(s,t){const i=ph(s,!1).get(t),r=await new Kl(i).toPromise();return r===void 0?null:r.value}function Mv(s,t){const i=ph(s,!0).delete(t);return new Kl(i).toPromise()}const CI=800,NI=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>NI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(bI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await xv(t,$c,"1"),await Mv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>xv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>II(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const DI=ZT;new Gl(3e4,6e4);function WT(s,t){return t?ms(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends HT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ao(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function OI(s){return fI(s.auth,new Km(s),s.bypassAuthState)}function xI(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),hI(i,new Km(s),s.bypassAuthState)}async function MI(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),cI(i,new Km(s),s.bypassAuthState)}class tE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:Bi(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VI=new Gl(2e3,1e4);async function kI(s,t,i){if(ai(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const r=mh(s);DR(s,t,Gm);const l=WT(r,i);return new Zr(r,"signInViaPopup",t,l).executeNotNull()}class Zr extends tE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VI.get())};t()}}Zr.currentPopupAction=null;const UI="pendingRedirect",Vc=new Map;class LI extends tE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const r=await PI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(s,t){const i=BI(t),r=jI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function zI(s,t){Vc.set(s._key(),t)}function jI(s){return ms(s._redirectPersistence)}function BI(s){return Mc(UI,s.config.apiKey,s.name)}async function qI(s,t,i=!1){if(ai(s.app))return Promise.reject(ta(s));const r=mh(s),l=WT(r,t),d=await new LI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const HI=600*1e3;class FI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!eE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(li(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(t))}saveEventToCache(t){this.cachedEventUids.add(Vv(t)),this.lastProcessedEventTime=Date.now()}}function Vv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function eE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function GI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(s);default:return!1}}async function QI(s,t={}){return To(s,"GET","/v1/projects",t)}const KI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YI=/^https?/;async function XI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await QI(s);for(const i of t)try{if($I(i))return}catch{}Bi(s,"unauthorized-domain")}function $I(s){const t=am(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!YI.test(i))return!1;if(KI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const JI=new Gl(3e4,6e4);function kv(){const s=ki().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ZI(s){return new Promise((t,i)=>{function r(){kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kv(),i(li(s,"network-request-failed"))},timeout:JI.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)r();else{const l=iI("iframefcb");return ki()[l]=()=>{gapi.load?r():i(li(s,"network-request-failed"))},eI(`${nI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function WI(s){return kc=kc||ZI(s),kc}const t2=new Gl(5e3,15e3),e2="__/auth/iframe",n2="emulator/auth/iframe",i2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r2(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?jm(t,n2):`https://${s.config.authDomain}/${e2}`,r={apiKey:t.apiKey,appName:s.name,v:vo},l=s2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Fl(r).slice(1)}`}async function a2(s){const t=await WI(s),i=ki().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:r2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),g=ki().setTimeout(()=>{c(d)},t2.get());function _(){ki().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const o2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l2=500,u2=600,c2="_blank",h2="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f2(s,t,i,r=l2,l=u2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...o2,width:r.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=kT(y)?c2:i),MT(y)&&(t=t||h2,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[G,J])=>`${x}${G}=${J},`,"");if(KR(y)&&g!=="_self")return d2(t||"",g),new Uv(null);const S=window.open(t||"",g,A);vt(S,s,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function d2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const m2="__/auth/handler",g2="emulator/auth/handler",p2=encodeURIComponent("fac");async function Lv(s,t,i,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(t instanceof Gm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",FS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Ql){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${p2}=${encodeURIComponent(_)}`:"";return`${y2(s)}?${Fl(g).slice(1)}${y}`}function y2({config:s}){return s.emulator?jm(s,g2):`https://${s.authDomain}/${m2}`}const Qd="webStorageSupport";class _2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=qI,this._overrideRedirectResult=zI}async _openPopup(t,i,r,l){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Lv(t,i,r,am(),l);return f2(t,c,Qm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Lv(t,i,r,am(),l);return EI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await a2(t),r=new FI(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return jT()||VT()||Hm()}}const v2=_2;var Pv="@firebase/auth",zv="1.12.0";class T2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function E2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(s){ji(new ci("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(s)},y=new WR(r,l,c,_);return rI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ji(new ci("auth-internal",t=>{const i=mh(t.getProvider("auth").getImmediate());return(r=>new T2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(Pv,zv,E2(s)),Kn(Pv,zv,"esm2020")}const S2=300,b2=K0("authIdTokenMaxAge")||S2;let jv=null;const w2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>b2)return;const l=i?.token;jv!==l&&(jv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function R2(s=Om()){const t=ua(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sI(s,{popupRedirectResolver:v2,persistence:[DI,_I,YT]}),r=K0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=w2(c.toString());mI(i,d,()=>d(i.currentUser)),dI(i,g=>d(g))}}const l=G0("auth");return l&&aI(i,`http://${l}`),i}function I2(){return document.getElementsByTagName("head")?.[0]??document}tI({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=li("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",I2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,nE;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,k){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],w;w=b+(k^I&(N^k))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^k&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^k)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~k))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<b;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==b||(I[N]=k,M=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=_(0),x=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(it(this))return"-"+Z(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=Ct(I,b).g;I=gt(I,N.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=gt(this,C),it(C)?-1:J(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(x)}s.abs=function(){return it(this)?Z(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function gt(C,b){return C.add(Z(b))}s.j=function(C){if(J(this)||J(C))return S;if(it(this))return it(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(it(C))return Z(this.j(Z(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,ae=C.i(N)>>>16,fe=C.i(N)&65535;I[2*M+2*N]+=w*fe,_t(I,2*M+2*N),I[2*M+2*N+1]+=k*fe,_t(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ae,_t(I,2*M+2*N+1),I[2*M+2*N+2]+=k*ae,_t(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function pt(C,b){this.g=C,this.h=b}function Ct(C,b){if(J(b))throw Error("division by zero");if(J(C))return new pt(S,S);if(it(C))return b=Ct(Z(C),b),new pt(Z(b.g),Z(b.h));if(it(b))return b=Ct(C,Z(b)),new pt(Z(b.g),b.h);if(C.g.length>30){if(it(C)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=b;M.l(C)<=0;)I=ie(I),M=ie(M);var N=kt(I,1),k=kt(M,1);for(M=kt(M,2),I=kt(I,2);!J(M);){var w=k.add(M);w.l(C)<=0&&(N=N.add(I),k=w),M=kt(M,1),I=kt(I,1)}return b=gt(C,N.j(b)),new pt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(I),w=k.j(b);it(w)||w.l(C)>0;)I-=M,k=y(I),w=k.j(b);J(k)&&(k=x),N=N.add(k),C=gt(C,w)}return new pt(N,C)}s.B=function(C){return Ct(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ie(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function kt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let k=0;k<M;k++)N[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,ar=d}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,Rl,sE,Uc,um,rE,aE,oE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in v))break t;v=v[U]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,U,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[U].apply(E,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function J(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const E=pt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var pt=new it(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,kt=!1,C=new _t,b=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(I)}};function I(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ae,N),ae.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=U,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(v in E)u[v]=E[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Et(u,m,E,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!E,U),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var E=u.g[v],U=Array.prototype.indexOf.call(E,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(E,U,1),B&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Et(u,m,v,E){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==E)return U}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),me={};function Zt(u,m,v,E,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Zt(u,m[B],v,E,U);return null}return v=Tr(v),u&&u[fe]?u.J(m,v,g(E)?!!E.capture:!1,U):Fi(u,m,v,!1,E,U)}function Fi(u,m,v,E,U,B){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let bt=fi(u);if(bt||(u[Dt]=bt=new st(u)),v=bt.add(m,v,E,tt,B),v.proxy)return v;if(E=vs(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(En(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vs(){function u(v){return m.call(u.src,u.listener,v)}const m=_r;return u}function hn(u,m,v,E,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)hn(u,m[B],v,E,U);else E=g(E)?!!E.capture:!!E,v=Tr(v),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Et(m,v,E,U),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=fi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,v,E,U)),(v=u>-1?m[u]:null)&&Gi(v))}function Gi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ft(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(En(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=fi(m))?(ft(v,u),v.h==0&&(v.src=null,m[Dt]=null)):ot(u)}}}function En(u){return u in me?me[u]:me[u]="on"+u}function _r(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&Gi(u),u=v.call(E,m)}return u}function fi(u){return u=u[Dt],u instanceof st?u:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(m){return u.handleEvent(m)}),u[vr])}function ge(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,M),ge.prototype[fe]=!0,ge.prototype.removeEventListener=function(u,m,v,E){hn(this,u,m,v,E)};function _e(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(E,u),et(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=on(B,E,!0,m)&&U;if(B=m.g=u,U=on(B,E,!0,m)&&U,U=on(B,E,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=on(B,E,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)ot(v[E]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ge.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function on(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,Te=tt.ha||tt.src;tt.fa&&ft(u.i,tt),U=bt.call(Te,E)!==!1&&U}}return U&&!E.defaultPrevented}function Ts(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Er(u){u.g=Ts(()=>{u.g=null,u.i&&(u.i=!1,Er(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ge extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(u){M.call(this),this.h=u,this.g={}}S(Qi,M);var W=[];function Rt(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gi(m)},u),u.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),Rt(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=d.JSON.stringify,Kt=d.JSON.parse,ke=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Es(){}function Wl(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){N.call(this,"d")}S(Qe,N);function Mn(){N.call(this,"c")}S(Mn,N);var ve={},tu=null;function fa(){return tu=tu||new ge}ve.Ia="serverreachability";function eu(u){N.call(this,ve.Ia,u)}S(eu,N);function di(u){const m=fa();_e(m,new eu(m))}ve.STAT_EVENT="statevent";function Ar(u,m){N.call(this,ve.STAT_EVENT,u),this.stat=m}S(Ar,N);function be(u){const m=fa();_e(m,new Ar(m,u))}ve.Ja="timingevent";function mi(u,m){N.call(this,ve.Ja,u),this.size=m}S(mi,N);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,E,U,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Gt=0;Gt<bt.length;Gt++){var Te=bt[Gt].split("=");if(Te.length>1){const ce=Te[0];Te=Te[1];const Ln=ce.split("_");tt=Ln.length>=2&&Ln[1]=="type"?tt+(ce+"="+Te+"&"):tt+(ce+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,E,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function pi(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(E?" "+E:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return dt(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function wr(){}S(wr,Es),wr.prototype.g=function(){return new XMLHttpRequest},Ro=new wr;function Ki(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var we={},je={};function yi(u,m,v){u.M=1,u.A=Rr(Ie(m)),u.u=v,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),_i(u),u.B=Ie(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ya(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Jn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ge(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(W[0]=U.toString()),U=W);for(let B=0;B<U.length;B++){const tt=Zt(v,U[B],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const bt=ti(this.g),Te=this.g.ya(),Gt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||bt!=4||Te==7||(Te==8||Gt<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,be(12),An(this),Vn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=ru(this,v),ce==je){bt==4&&(this.m=4,be(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,be(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,ce,null),Ti(this,ce);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(tt),tt.P=!0,be(11))}}else pi(this.i,this.l,v,null),Ti(this,v);bt==4&&An(this),this.o&&!this.K&&(bt==4?mu(this.j,this):(this.o=!1,_i(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),An(this),Vn(this)}}}catch{}};function Uh(u){if(!su(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const E=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?je:(v=Number(m.substring(v,E)),isNaN(v)?we:(E+=1,E+v>m.length?je:(m=m.slice(E,E+v),u.C=E+v,m)))}$n.prototype.cancel=function(){this.K=!0,An(this)};function _i(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(di(),be(17)),An(this),this.m=2,Vn(this)):ma(this,this.T-u)};function Vn(u){u.j.I==0||u.K||mu(u.j,u)}function An(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Rt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),Ns(v);else break t;Mr(v),be(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((u.L||v.g==u)&&Aa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const ce=Gt[0];if(!(ce<=v.K))if(v.K=ce,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Ln=Gt[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ni=Gt[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ei=Gt[5];ei!=null&&typeof ei=="number"&&ei>0&&(E=1.5*ei,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const ni=u.g;if(ni){const Vr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var B=E.h;B.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(No(B,B.h),B.h=null))}if(E.G){const Sa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(E.wa=Sa,Xt(E.J,E.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var tt=u;if(E.na=yu(E,E.L?E.ba:null,E.W),tt.L){Do(E.h,tt);var bt=tt,Te=E.O;Te&&(bt.H=Te),bt.D&&(vi(bt),_i(bt)),E.g=tt}else fu(E);v.i.length>0&&Ii(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ci(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ci(v,7):zo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}di(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let U,B=null;E>=0?(U=u[v].substring(0,E),B=u[v].substring(E+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,xo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Be(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),As(this,m[4]),this.h=Si(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,pa,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Mo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,lu)),u.join("")},Sn.prototype.resolve=function(u){const m=Ie(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const bt=U[tt++];bt=="."?E&&tt==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&tt==U.length&&B.push("")):(B.push(bt),E=!0)}E=B.join("/")}else E=U}return v?m.h=E:v=u.i.toString()!=="",v?xo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ie(u){return new Sn(u)}function Be(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof bs?(u.i=m,_a(u.i,u.l)):(v||(m=Ir(m,Ss)),u.i=new bs(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function Rr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,ou=/[#\?:]/g,Mo=/[#\?]/g,Ss=/[#\?@]/g,lu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=bs.prototype,s.add=function(u,m){dn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){dn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return dn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,E){v.forEach(function(U){u.call(m,U,E,this)},this)},this)};function ko(u,m){dn(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=ws(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=ko(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(ws(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const U=Ki(v);v=ko(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Ki(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,E){const U=E.toLowerCase();E!=U&&(uu(this,E),ya(this,U,v))},u)),u.j=m}function Zn(u,m){const v=new Xn;if(d.Image){const E=new Image;E.onload=A(kn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=A(kn,v,"TestLoadImage: error",!1,m,E),E.onabort=A(kn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(kn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Uo(u,m){const v=new Xn,E=new AbortController,U=setTimeout(()=>{E.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(U),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(v)}catch{}}function Rs(){this.g=new ke}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(bi,Es),bi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,ge),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):Wn(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Nt(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=Un(v),typeof u=="string"?v!=null&&Ki(v):Xt(u,m,v))}function Wt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,ge);var wi=/^https?$/i,Lo=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)v.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())v.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||E||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Yi(u)}function Po(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),ti(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!wi.test(tt?tt.toLowerCase():"")}v=E}if(v)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Po(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||_e(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Kt(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var v=iu(u[E]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}xt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){be(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=yu(this,null,this.W),Ii(this)};function zo(u){if(Ta(u),u.I==3){var m=u.V++,v=Ie(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),xr(u,v),m=new $n(u,u.j,m),m.M=2,m.A=Rr(Ie(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}pu(u)}function Ns(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function Ta(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||b(),kt||(ie(),kt=!0),C.add(m,u),u.D=0}}function Ea(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new $n(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),v=Ie(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),xr(this,v),B&&(this.R?m="headers="+Ki(Un(B))+"&"+m:this.u&&Nr(v,this.u,B)),No(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,yi(U,v,null)):yi(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const E=Ie(u.J);Xt(E,"SID",u.M),Xt(E,"RID",v),Xt(E,"AID",u.K),xr(u,E),u.u&&u.o&&Nr(E,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),yi(v,E,m)}function xr(u,m){u.H&&Nt(u.H,function(v,E){Xt(m,E,v)}),u.l&&Nt({},function(v,E){Xt(m,E,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const Te=["count="+v];bt==-1?v>0?(bt=U[0].g,Te.push("ofs="+bt)):bt=0:Te.push("ofs="+bt);let Gt=!0;for(let ce=0;ce<v;ce++){var B=U[ce].g;const Ln=U[ce].map;if(B-=bt,B<0)bt=Math.max(0,U[ce].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var tt=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ei]of tt){let ni=ei;g(ei)&&(ni=dt(ei)),Te.push(B+Ni+"="+encodeURIComponent(ni))}}catch(Ni){throw Te.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{E&&E(Ln)}}if(Gt){tt=Te.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||b(),kt||(ie(),kt=!0),C.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ns(this),du(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Ie(m)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Mr(this),be(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){Aa(u),Bo(u),u.g=null;var E=2}else if(Ai(u.h,m))v=m.G,Do(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=fa(),_e(E,new mi(E,v)),Ii(u)}else fu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&Ea(u,m)||E==2&&Mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const U=!E;E=new Sn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(E,"https"),Rr(E),U?Zn(E.toString(),v):Uo(E.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),pu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var E=v instanceof Sn?Ie(v):new Sn(v);if(E.g!="")m&&(E.g=m+"."+E.g),As(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Sn(null);E&&Be(B,E),m&&(B.g=m),U&&As(B,U),v&&(B.h=v),E=B}return v=u.G,m=u.wa,v&&m&&Xt(E,v,m),Xt(E,"VER",u.ka),xr(u,E),E}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new bi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){ge.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(ln,ge),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){zo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=dt(u),u=v);m.i.push(new Re(m.Ya++,u)),m.I==3&&Ii(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,ln.Z.N.call(this)};function Tu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,Qe);function Eu(){Mn.call(this),this.status=1}S(Eu,Mn);function $i(u){this.g=u}S($i,vu),$i.prototype.ra=function(){_e(this.g,"a")},$i.prototype.qa=function(u){_e(this.g,new Tu(u))},$i.prototype.pa=function(u){_e(this.g,new Eu)},$i.prototype.oa=function(){_e(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,oE=function(){return new Ds},aE=function(){return fa()},rE=ve,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Uc=br,wo.COMPLETE="complete",sE=wo,Wl.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Rl=Wl,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,iE=Wt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Hv="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Eo="12.7.0";const aa=new hh("@firebase/firestore");function Wa(){return aa.logLevel}function rt(s,...t){if(aa.logLevel<=Pt.DEBUG){const i=t.map(Ym);aa.debug(`Firestore (${Eo}): ${s}`,...i)}}function ys(s,...t){if(aa.logLevel<=Pt.ERROR){const i=t.map(Ym);aa.error(`Firestore (${Eo}): ${s}`,...i)}}function co(s,...t){if(aa.logLevel<=Pt.WARN){const i=t.map(Ym);aa.warn(`Firestore (${Eo}): ${s}`,...i)}}function Ym(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,lE(s,r,i)}function lE(s,t,i){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function Yt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||lE(t,l,r)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends hi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class uE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class D2{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ea,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ea)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class O2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const r=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Fv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=V2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function cm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Kd(l)===Kd(c)?zt(l,c):Kd(l)?1:-1}return zt(s.length,t.length)}const k2=55296,U2=57343;function Kd(s){const t=s.charCodeAt(0);return t>=k2&&t<=U2}function ho(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Gv="__name__";class Vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const r=Vi.isNumericId(t),l=Vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ue extends Vi{construct(t,i,r){return new ue(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Vi{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return L2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new We([Gv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ue.fromString(t))}static fromName(t){return new ht(ue.fromString(t).popFirst(5))}static empty(){return new ht(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ue(t.slice()))}}function cE(s,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function P2(s,t,i,r){if(t===!0&&r===!0)throw new ut($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Qv(s){if(!ht.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Kv(s){if(ht.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function or(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$m(s);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Me(s,t){const i={typeString:s};return t&&(i.value=t),i}function Yl(s,t){if(!hE(s))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const Yv=-62135596800,Xv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Xv);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Yv)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Me("string",re._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function z2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new cr(l,ht.empty(),t)}function j2(s){return new cr(s.readTime,s.key,Pl)}class cr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new cr(Tt.min(),ht.empty(),Pl)}static max(){return new cr(Tt.max(),ht.empty(),Pl)}}function B2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==q2)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function F2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Jm=-1;function _h(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function G2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const fE="";function Q2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=$v(t)),t=K2(s.get(i),t);return $v(t)}function K2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case fE:i+="";break;default:i+=c}}return i}function $v(s){return s+fE+""}function Jv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function pr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function dE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ze(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new On([])}unionWith(t){let i=new ze(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=Y2.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(s.seconds),nanos:Se(s.nanos)}}function Se(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[pE]?.stringValue===gE}function vh(s){const t=s.mapValue.fields[yE];return Zm(t)?vh(t):t}function zl(s){const t=hr(s.mapValue.fields[_E].timestampValue);return new re(t.seconds,t.nanos)}class X2{constructor(t,i,r,l,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Wc="(default)";class jl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}const vE="__type__",$2="__max__",Cc={mapValue:{}},TE="__vector__",th="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:Z2(s)?9007199254740991:J2(s)?10:11:yt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const i=dr(s);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return zl(s).isEqual(zl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),g=hr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),g=Se(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return ho(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Jv(d)!==Jv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!qi(d[_],g[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Bl(s,t){return(s.values||[]).find((i=>qi(i,t)))!==void 0}function fo(s,t){if(s===t)return 0;const i=dr(s),r=dr(t);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Se(c.integerValue||c.doubleValue),_=Se(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Wv(s.timestampValue,t.timestampValue);case 4:return Wv(zl(s),zl(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=fr(c),_=fr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=zt(g[y],_[y]);if(A!==0)return A}return zt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=zt(Se(c.latitude),Se(d.latitude));return g!==0?g:zt(Se(c.longitude),Se(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return t0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[th]?.arrayValue,A=_[th]?.arrayValue,S=zt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:t0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const x=cm(_[S],A[S]);if(x!==0)return x;const G=fo(g[_[S]],y[A[S]]);if(G!==0)return G}return zt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Wv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=hr(s),r=hr(t),l=zt(i.seconds,r.seconds);return l!==0?l:zt(i.nanos,r.nanos)}function t0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=fo(i[l],r[l]);if(c)return c}return zt(i.length,r.length)}function mo(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=hr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return fr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=hm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Lc(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return pr(r.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function e0(s){return!!s&&"nullValue"in s}function n0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function J2(s){return(s?.mapValue?.fields||{})[vE]?.stringValue===TE}function xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=xl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=xl(s.arrayValue.values[i]);return t}return{...s}}function Z2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(i)}setAll(t){let i=We.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=xl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){pr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Tn(xl(this.value))}}function EE(s){const t=[];return pr(s.fields,((i,r)=>{const l=new We([i]);if(Pc(r)){const c=EE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}class rn{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),Tn.empty(),0)}static newFoundDocument(t,i,r,l){return new rn(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Tt.min(),Tt.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Tt.min(),Tt.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function i0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=fo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function W2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class AE{}class Le extends AE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new eC(t,i,r):i==="array-contains"?new sC(t,r):i==="in"?new rC(t,r):i==="not-in"?new aC(t,r):i==="array-contains-any"?new oC(t,r):new Le(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new nC(t,r):new iC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Hi(t,i)}matches(t){return SE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(s){return s.op==="and"}function bE(s){return tC(s)&&SE(s)}function tC(s){for(const t of s.filters)if(t instanceof Hi)return!1;return!0}function dm(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(bE(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function wE(s,t){return s instanceof Le?(function(r,l){return l instanceof Le&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,t):s instanceof Hi?(function(r,l){return l instanceof Hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&wE(d,l.filters[g])),!0):!1})(s,t):void yt(19439)}function RE(s){return s instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(RE).join(" ,")+"}"})(s):"Filter"}class eC extends Le{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class nC extends Le{constructor(t,i){super(t,"in",i),this.keys=IE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class iC extends Le{constructor(t,i){super(t,"not-in",i),this.keys=IE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class sC extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wm(i)&&Bl(i.arrayValue,this.value)}}class rC extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class aC extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class oC extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Bl(this.value.arrayValue,r)))}}class lC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function r0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new lC(s,t,i,r,l,c,d)}function tg(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>mo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>mo(r))).join(",")),t.Te=i}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!W2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!wE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!s0(s.startAt,t.startAt)&&s0(s.endAt,t.endAt)}function mm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Th{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uC(s,t,i,r,l,c,d,g){return new Th(s,t,i,r,l,c,d,g)}function ng(s){return new Th(s)}function a0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cC(s){return s.collectionGroup!==null}function Ml(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ze(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,r))})),i.has(We.keyField().canonicalString())||t.Ie.push(new nh(We.keyField(),r))}return t.Ie}function Ui(s){const t=St(s);return t.Ee||(t.Ee=hC(t,Ml(s))),t.Ee}function hC(s,t){if(s.limitType==="F")return r0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return r0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function gm(s,t,i){return new Th(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return eg(Ui(s),Ui(t))&&s.limitType===t.limitType}function CE(s){return`${tg(Ui(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>RE(l))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Ml(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=i0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Ml(r),l)||r.endAt&&!(function(d,g,_){const y=i0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Ml(r),l))})(s,t)}function fC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function NE(s){return(t,i)=>{let r=!1;for(const l of Ml(s)){const c=dC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function dC(s,t,i){const r=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?fo(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const mC=new de(ht.comparator);function _s(){return mC}const DE=new de(ht.comparator);function Il(...s){let t=DE;for(const i of s)t=t.insert(i.key,i);return t}function OE(s){let t=DE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Wr(){return Vl()}function xE(){return Vl()}function Vl(){return new ca((s=>s.toString()),((s,t)=>s.isEqual(t)))}const gC=new de(ht.comparator),pC=new ze(ht.comparator);function jt(...s){let t=pC;for(const i of s)t=t.add(i);return t}const yC=new ze(zt);function _C(){return yC}function ig(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function ME(s){return{integerValue:""+s}}function vC(s,t){return G2(t)?ME(t):ig(s,t)}class Sh{constructor(){this._=void 0}}function TC(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=vh(c)),c&&(d.fields[yE]=c),{mapValue:d}})(i,t):s instanceof ql?kE(s,t):s instanceof Hl?UE(s,t):(function(l,c){const d=VE(l,c),g=o0(d)+o0(l.Ae);return fm(d)&&fm(l.Ae)?ME(g):ig(l.serializer,g)})(s,t)}function EC(s,t,i){return s instanceof ql?kE(s,t):s instanceof Hl?UE(s,t):i}function VE(s,t){return s instanceof sh?(function(r){return fm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ih extends Sh{}class ql extends Sh{constructor(t){super(),this.elements=t}}function kE(s,t){const i=LE(t);for(const r of s.elements)i.some((l=>qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Hl extends Sh{constructor(t){super(),this.elements=t}}function UE(s,t){let i=LE(t);for(const r of s.elements)i=i.filter((l=>!qi(l,r)));return{arrayValue:{values:i}}}class sh extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function o0(s){return Se(s.integerValue||s.doubleValue)}function LE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof ql&&l instanceof ql||r instanceof Hl&&l instanceof Hl?ho(r.elements,l.elements,qi):r instanceof sh&&l instanceof sh?qi(r.Ae,l.Ae):r instanceof ih&&l instanceof ih})(s.transform,t.transform)}class SC{constructor(t,i){this.version=t,this.transformResults=i}}class ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function PE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new sg(s.key,ui.none()):new Xl(s.key,s.data,ui.none());{const i=s.data,r=Tn.empty();let l=new ze(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new yr(s.key,r,new On(l.toArray()),ui.none())}}function bC(s,t,i){s instanceof Xl?(function(l,c,d){const g=l.value.clone(),_=u0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof yr?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=u0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(zE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(s,t,i,r){return s instanceof Xl?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=c.value.clone(),A=c0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof yr?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=c0(c.fieldTransforms,_,d),A=d.data;return A.setAll(zE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function wC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=VE(r.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,c))}return i||null}function l0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ho(r,l,((c,d)=>AC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Xl extends bh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends bh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function u0(s,t,i){const r=new Map;Yt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,EC(d,g,i[l]))}return r}function c0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,TC(c,d,t))}return r}class sg extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RC extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=xE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=PE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((i,r)=>l0(i,r)))&&ho(this.baseMutations,t.baseMutations,((i,r)=>l0(i,r)))}}class rg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return gC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new rg(t,i,r,l)}}class CC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NC{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,qt;function DC(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function jE(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const xC=new ar([4294967295,4294967295],0);function h0(s){const t=OC().encode(s),i=new nE;return i.update(t),new Uint8Array(i.digest())}function f0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,r],0),new ar([l,c],0)]}class ag{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(ar.fromNumber(r)));return l.compare(xC)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=h0(t),[r,l]=f0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ag(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=h0(t),[r,l]=f0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new wh(Tt.min(),l,new de(zt),_s(),jt())}}class $l{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new $l(r,i,jt(),jt(),jt())}}class jc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class BE{constructor(t,i){this.targetId=t,this.Ce=i}}class qE{constructor(t,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),r=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=m0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MC{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.Je=Nc(),this.He=Nc(),this.Ye=new de(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(r===0){const d=new ht(c.path);this.et(i,d,rn.newNoDocument(d,Tt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=fr(r).toUint8Array()}catch(_){if(_ instanceof mE)return co("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ag(d,l,c)}catch(_){return co(_ instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=jt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,r);return this.je=_s(),this.Je=Nc(),this.He=Nc(),this.Ye=new de(zt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new d0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new d0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new de(ht.comparator)}function m0(){return new de(ht.comparator)}const VC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class LC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function PC(s,t){return rh(s,t.toTimestamp())}function Li(s){return Yt(!!s,49232),Tt.fromTimestamp((function(i){const r=hr(i);return new re(r.seconds,r.nanos)})(s))}function og(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function FE(s){const t=ue.fromString(s);return Yt(XE(t),10190,{key:t.toString()}),t}function _m(s,t){return og(s.databaseId,t.path)}function Yd(s,t){const i=FE(t);if(i.get(1)!==s.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(QE(i))}function GE(s,t){return og(s.databaseId,t)}function zC(s){const t=FE(s);return t.length===4?ue.emptyPath():QE(t)}function vm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function QE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function g0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function jC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),tn.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),tn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?$.UNKNOWN:jE(y.code);return new ut(A,y.message||"")})(d);i=new qE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=Li(r.document.updateTime),d=r.document.createTime?Li(r.document.createTime):Tt.min(),g=new Tn({mapValue:{fields:r.document.fields}}),_=rn.newFoundDocument(l,c,d,g),y=r.targetIds||[],A=r.removedTargetIds||[];i=new jc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?Li(r.readTime):Tt.min(),d=rn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new NC(l,c),g=r.targetId;i=new BE(g,d)}}return i}function BC(s,t){let i;if(t instanceof Xl)i={update:g0(s,t.key,t.value)};else if(t instanceof sg)i={delete:_m(s,t.key)};else if(t instanceof yr)i={update:g0(s,t.key,t.data),updateMask:$C(t.fieldMask)};else{if(!(t instanceof RC))return yt(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function qC(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(Tt.min())&&(d=Li(c)),new SC(d,l.transformResults||[])})(i,t)))):[]}function HC(s,t){return{documents:[GE(s,t.path)]}}function FC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=GE(s,l);const c=(function(y){if(y.length!==0)return YE(Hi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:eo(x.field),direction:KC(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function GC(s){let t=zC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Yt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=KE(S);return x instanceof Hi&&bE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(J){return new nh(no(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let x;return x=typeof S=="object"?S.value:S,_h(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(S){const x=!!S.before,G=S.values||[];return new eh(G,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const x=!S.before,G=S.values||[];return new eh(G,x)})(i.endAt)),uC(t,l,d,c,g,"F",_,y)}function QC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Le.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((r=>KE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function KC(s){return VC[s]}function YC(s){return kC[s]}function XC(s){return UC[s]}function eo(s){return{fieldPath:s.canonicalString()}}function no(s){return We.fromServerFormat(s.fieldPath)}function YE(s){return s instanceof Le?(function(i){if(i.op==="=="){if(n0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NAN"}};if(e0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(n0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NAN"}};if(e0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(i.field),op:YC(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const r=i.getFilters().map((l=>YE(l)));return r.length===1?r[0]:{compositeFilter:{op:XC(i.op),filters:r}}})(s):yt(54877,{filter:s})}function $C(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function XE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ir{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class JC{constructor(t){this.yt=t}}function ZC(s){const t=GC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}class WC{constructor(){this.Cn=new tN}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(cr.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class tN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new ze(ue.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn($E,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const y0="LruGarbageCollector",eN=1048576;function _0([s,t],[i,r]){const l=zt(s,i);return l===0?zt(t,r):l}class nN{constructor(t){this.Ir=t,this.buffer=new ze(_0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();_0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(y0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?rt(y0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class sN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(yh.ce);const r=new nN(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(p0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Wa()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function rN(s,t){return new sN(s,t)}class aN{constructor(){this.changes=new ca((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class lN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&kl(r.mutation,l,On.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=jt()){const l=Wr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Il();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Wr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,jt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=_s();const d=Vl(),g=(function(){return Vl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof yr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),kl(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new oN(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Vl();let l=new de(((d,g)=>d-g)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||On.empty();A=g.applyToLocalView(y,A),r.set(_,A);const S=(l.get(g.batchId)||jt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=xE();A.forEach((x=>{if(!c.has(x)){const G=PE(i.get(x),r.get(x));G!==null&&S.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Wr());let g=Pl,_=c;return d.next((y=>X.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((A=>({batchId:g,changes:OE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let l=Il();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(S,x){return new Th(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,rn.newInvalidDocument(A)))}));let g=Il();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&kl(A.mutation,y,On.empty(),re.now()),Ah(i,y)&&(g=g.insert(_,y))})),g}))}}class uN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ZC(l.bundledQuery),readTime:Li(l.readTime)}})(i)),X.resolve()}}class cN{constructor(){this.overlays=new de(ht.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Wr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Wr(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new de(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Wr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Wr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new CC(i,r));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class hN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class lg{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new He(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new ue([])),r=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ue([])),r=new He(i,t),l=new He(i,t+1);let c=jt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class fN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new He(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ze(zt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new He(new ht(c),0);let g=new ze(zt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new He(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dN{constructor(t){this.ri=t,this.docs=(function(){return new de(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let r=_s();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=_s();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||B2(j2(A),r)<=0||(l.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new mN(this)}getSize(t){return X.resolve(this.size)}}class mN extends aN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class gN{constructor(t){this.persistence=t,this.si=new ca((i=>tg(i)),eg),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new go(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class JE{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new hN,this.referenceDelegate=t(this),this.Pi=new gN(this),this.indexManager=new WC,this.remoteDocumentCache=(function(l){return new dN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JC(i),this.Ii=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new fN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){rt("MemoryPersistence","Starting transaction:",t);const l=new pN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class pN extends H2{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=ht.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new ca((r=>Q2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=rN(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(t,i.fromCache,r,l)}}class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zS()?8:F2(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yN;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Wa()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Wa()<=Pt.DEBUG&&rt("QueryEngine","Query:",to(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Wa()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}ys(t,i){if(a0(i))return X.resolve(null);let r=Ui(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return a0(i)||l.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Wa()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(t,d,i,z2(l,Pl)).next((g=>g)))}))}Ds(t,i){let r=new ze(NE(t));return i.forEach(((l,c)=>{Ah(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Wa()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(t,i,cr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hg="LocalStore",vN=3e8;class TN{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new de(zt),this.xs=new ca((c=>tg(c)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function EN(s,t,i,r){return new TN(s,t,i,r)}async function ZE(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=jt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function AN(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,x=S.keys();let G=X.resolve();return x.forEach((J=>{G=G.next((()=>A.getEntry(_,J))).next((it=>{const Z=y.docVersions.get(J);Yt(Z!==null,48541),it.version.compareTo(Z)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function WE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function SN(s,t){const i=St(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(S,G),(function(it,Z,gt){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=vN?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(x,G,A)&&g.push(i.Pi.updateTargetData(c,G))}));let _=_s(),y=jt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(bN(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function bN(s,t,i){let r=jt(),l=jt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=_s();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(hg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function wN(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function RN(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new ir(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Tm(s,t,i){const r=St(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;rt(hg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function v0(s,t,i){const r=St(s);let l=Tt.min(),c=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=St(_),x=S.xs.get(A);return x!==void 0?X.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,A)})(r,d,Ui(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:jt()))).next((g=>(IN(r,fC(t),g),{documents:g,Qs:c})))))}function IN(s,t,i){let r=s.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class T0{constructor(){this.activeTargetIds=_C()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CN{constructor(){this.Mo=new T0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new T0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class NN{Oo(t){}shutdown(){}}const E0="ConnectivityMonitor";class A0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(E0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(E0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function Em(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Xd="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());rt(Xd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=_o(y);return this.Jo(t,g,_,r,A).then((S=>(rt(Xd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw co(Xd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=DN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class xN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class MN extends ON{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Em();return new Promise(((g,_)=>{const y=new iE;y.setWithCredentials(!0),y.listenOnce(sE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const S=y.getResponseJson();rt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Uc.TIMEOUT:rt(nn,`RPC '${t}' ${d} timed out`),_(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const x=y.getStatus();if(rt(nn,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const it=(function(gt){const _t=gt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_t)>=0?_t:$.UNKNOWN})(J.status);_(new ut(it,J.message))}else _(new ut($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(nn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=oE(),g=aE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(nn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let x=!1,G=!1;const J=new xN({Yo:Z=>{G?rt(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(x||(rt(nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),rt(nn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),it=(Z,gt,_t)=>{Z.listen(gt,(pt=>{try{_t(pt)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return it(S,Rl.EventType.OPEN,(()=>{G||(rt(nn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(S,Rl.EventType.CLOSE,(()=>{G||(G=!0,rt(nn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),it(S,Rl.EventType.ERROR,(Z=>{G||(G=!0,co(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),it(S,Rl.EventType.MESSAGE,(Z=>{if(!G){const gt=Z.data[0];Yt(!!gt,16349);const _t=gt,pt=_t?.error||_t[0]?.error;if(pt){rt(nn,`RPC '${t}' stream ${l} received error:`,pt);const Ct=pt.status;let ie=(function(b){const I=xe[b];if(I!==void 0)return jE(I)})(Ct),kt=pt.message;ie===void 0&&(ie=$.INTERNAL,kt="Unknown error status: "+Ct+" with message "+pt.message),G=!0,J.a_(new ut(ie,kt)),S.close()}else rt(nn,`RPC '${t}' stream ${l} received:`,gt),J.u_(gt)}})),it(g,rE.STAT_EVENT,(Z=>{Z.stat===um.PROXY?rt(nn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===um.NOPROXY&&rt(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Rh(s){return new LC(s,!0)}class t1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S0="PersistentStream";class e1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(S0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VN extends e1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=jC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Li(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:HC(c,_)}:{query:FC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=HE(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=QC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class kN extends e1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qC(t.writeResults,t.commitTime),r=Li(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>BC(this.serializer,r)))};this.q_(i)}}class UN{}class LN extends UN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class zN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ha(this)&&(rt(oa,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Jl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Ra=new PN(r,l)}}async function Ih(s){if(ha(s))for(const t of s.da)await t(!0)}async function Jl(s){for(const t of s.da)await t(!1)}function n1(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),gg(i)?mg(i):bo(i).O_()&&dg(i,t))}function fg(s,t){const i=St(s),r=bo(i);i.Ia.delete(t),r.O_()&&i1(i,t),i.Ia.size===0&&(r.O_()?r.L_():ha(i)&&i.Ra.set("Unknown"))}function dg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(s).Y_(t)}function i1(s,t){s.Va.Ue(t),bo(s).Z_(t)}function mg(s){s.Va=new MC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Ra.ua()}function gg(s){return ha(s)&&!bo(s).x_()&&s.Ia.size>0}function ha(s){return St(s).Ea.size===0}function s1(s){s.Va=void 0}async function jN(s){s.Ra.set("Online")}async function BN(s){s.Ia.forEach(((t,i)=>{dg(s,t)}))}async function qN(s,t){s1(s),gg(s)?(s.Ra.ha(t),mg(s)):s.Ra.set("Unknown")}async function HN(s,t,i){if(s.Ra.set("Online"),t instanceof qE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){rt(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await oh(s,r)}else if(t instanceof jc?s.Va.Ze(t):t instanceof BE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await WE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(tn.EMPTY_BYTE_STRING,A.snapshotVersion)),i1(c,_);const S=new ir(A.target,_,y,A.sequenceNumber);dg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){rt(oa,"Failed to raise snapshot:",r),await oh(s,r)}}async function oh(s,t,i){if(!So(t))throw t;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),i||(i=()=>WE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function r1(s,t){return t().catch((i=>oh(s,i,t)))}async function Ch(s){const t=St(s),i=mr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;FN(t);)try{const l=await wN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,GN(t,l)}catch(l){await oh(t,l)}a1(t)&&o1(t)}function FN(s){return ha(s)&&s.Ta.length<10}function GN(s,t){s.Ta.push(t);const i=mr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function a1(s){return ha(s)&&!mr(s).x_()&&s.Ta.length>0}function o1(s){mr(s).start()}async function QN(s){mr(s).ra()}async function KN(s){const t=mr(s);for(const i of s.Ta)t.ea(i.mutations)}async function YN(s,t,i){const r=s.Ta.shift(),l=rg.from(r,t,i);await r1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function XN(s,t){t&&mr(s).X_&&await(async function(r,l){if((function(d){return DC(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();mr(r).B_(),await r1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(r)}})(s,t),a1(s)&&o1(s)}async function b0(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),rt(oa,"RemoteStore received new credentials");const r=ha(i);i.Ea.add(3),await Jl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function $N(s,t){const i=St(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await Jl(i),i.Ra.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new VN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:jN.bind(null,s),t_:BN.bind(null,s),r_:qN.bind(null,s),H_:HN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Ra.set("Unknown")):(await s.ma.stop(),s1(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new kN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:QN.bind(null,s),r_:XN.bind(null,s),ta:KN.bind(null,s),na:YN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new pg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(ys("AsyncQueue",`${t}: ${s}`),So(s))return new ut($.UNAVAILABLE,`${t}: ${s}`);throw s}class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class w0{constructor(){this.ga=new de(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class po{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new po(t,i,oo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class JN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ZN{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=R0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function R0(){return new ca((s=>CE(s)),Eh)}async function WN(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new JN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=yg(d,`Initialization of query '${to(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&_g(i)}async function tD(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function eD(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&_g(i)}function nD(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var Am,I0;(I0=Am||(Am={})).Ma="default",I0.Cache="cache";class iD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new po(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}class l1{constructor(t){this.key=t}}class u1{constructor(t){this.key=t}}class sD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=NE(t),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new w0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),G=Ah(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;x&&G?x.data.isEqual(G.data)?J!==it&&(r.track({type:3,doc:G}),Z=!0):this.su(x,G)||(r.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!x&&G?(r.track({type:0,doc:G}),Z=!0):x&&!G&&(r.track({type:1,doc:x}),Z=!0,(_||y)&&(g=!0)),Z&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,J){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return it(G)-it(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new po(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new u1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new l1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class rD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class aD{constructor(t){this.key=t,this.hu=!1}}class oD{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((g=>CE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new de(ht.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lD(s,t,i=!0){const r=g1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await c1(r,t,i,!0),l}async function uD(s,t){const i=g1(s);await c1(i,t,!0,!1)}async function c1(s,t,i,r){const l=await RN(s.localStore,Ui(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await cD(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&n1(s.remoteStore,l),g}async function cD(s,t,i,r,l){s.pu=(S,x,G)=>(async function(it,Z,gt,_t){let pt=Z.view.ru(gt);pt.Cs&&(pt=await v0(it.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,pt))));const Ct=_t&&_t.targetChanges.get(Z.targetId),ie=_t&&_t.targetMismatches.get(Z.targetId)!=null,kt=Z.view.applyChanges(pt,it.isPrimaryClient,Ct,ie);return N0(it,Z.targetId,kt.au),kt.snapshot})(s,S,x,G);const c=await v0(s.localStore,t,!0),d=new sD(t,c.Qs),g=d.ru(c.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);N0(s,i,y.au);const A=new rD(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function hD(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fg(r.remoteStore,l.targetId),Sm(r,l.targetId)})).catch(Ao)):(Sm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function fD(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fg(i.remoteStore,r.targetId))}async function dD(s,t,i){const r=TD(s);try{const l=await(function(d,g){const _=St(d),y=re.now(),A=g.reduce(((G,J)=>G.add(J.key)),jt());let S,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=_s(),it=jt();return _.Ns.getEntries(G,A).next((Z=>{J=Z,J.forEach(((gt,_t)=>{_t.isValidDocument()||(it=it.add(gt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{S=Z;const gt=[];for(const _t of g){const pt=wC(_t,S.get(_t.key).overlayedDocument);pt!=null&&gt.push(new yr(_t.key,pt,EE(pt.value.mapValue),ui.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,gt,g)})).next((Z=>{x=Z;const gt=Z.applyToLocalDocumentSet(S,it);return _.documentOverlayCache.saveOverlays(G,Z.batchId,gt)}))})).then((()=>({batchId:x.batchId,changes:OE(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new de(zt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Zl(r,l.changes),await Ch(r.remoteStore)}catch(l){const c=yg(l,"Failed to persist write");i.reject(c)}}async function h1(s,t){const i=St(s);try{const r=await SN(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Zl(i,r,t)}catch(r){await Ao(r)}}function C0(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(g)&&(y=!0)})),y&&_g(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mD(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new de(ht.comparator);d=d.insert(c,rn.newNoDocument(c,Tt.min()));const g=jt().add(c),_=new wh(Tt.min(),new Map,new de(zt),d,g);await h1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Tg(r)}else await Tm(r.localStore,t,!1).then((()=>Sm(r,t,i))).catch(Ao)}async function gD(s,t){const i=St(s),r=t.batch.batchId;try{const l=await AN(i.localStore,t);d1(i,r,null),f1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(i,l)}catch(l){await Ao(l)}}async function pD(s,t,i){const r=St(s);try{const l=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Yt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);d1(r,t,i),f1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Zl(r,l)}catch(l){await Ao(l)}}function f1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function d1(s,t,i){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||m1(s,r)}))}function m1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(fg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Tg(s))}function N0(s,t,i){for(const r of i)r instanceof l1?(s.Ru.addReference(r.key,t),yD(s,r)):r instanceof u1?(rt(vg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||m1(s,r.key)):yt(19791,{wu:r})}function yD(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(rt(vg,"New document in limbo: "+i),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ue.fromString(t)),r=s.fu.next();s.Au.set(r,new aD(i)),s.du=s.du.insert(i,r),n1(s.remoteStore,new ir(Ui(ng(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Zl(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=cg.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(x=>X.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(S,x.targetId,G))).next((()=>X.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(S,x.targetId,G)))))))))}catch(S){if(!So(S))throw S;rt(hg,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const G=A.Ms.get(x),J=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,it)}}})(r.localStore,c))}async function _D(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){rt(vg,"User change. New user:",t.toKey());const r=await ZE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Zl(i,r.Ls)}}function vD(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function g1(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mD.bind(null,t),t.Pu.H_=eD.bind(null,t.eventManager),t.Pu.yu=nD.bind(null,t.eventManager),t}function TD(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pD.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return EN(this.persistence,new _N,t.initialUser,this.serializer)}Cu(t){return new JE(ug.mi,this.serializer)}Du(t){return new CN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class ED extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new JE((r=>ah.mi(r,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await $N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZN})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),r=(function(c){return new MN(c)})(t.databaseInfo);return(function(c,d,g,_){return new LN(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new zN(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>C0(this.syncEngine,i,0)),(function(){return A0.v()?new A0:new NN})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const S=new oD(l,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);rt(oa,"RemoteStore shutting down."),r.Ea.add(5),await Jl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class AD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class SD{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{rt(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await ZE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function D0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await bD(s);rt(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>b0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>b0(t.remoteStore,l))),s._onlineComponents=t}async function bD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(gr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;co("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new lh)}}else rt(gr,"Using default OfflineComponentProvider"),await Jd(s,new ED(void 0));return s._offlineComponents}async function p1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(gr,"Using user provided OnlineComponentProvider"),await D0(s,s._uninitializedComponentsProvider._online)):(rt(gr,"Using default OnlineComponentProvider"),await D0(s,new bm))),s._onlineComponents}function wD(s){return p1(s).then((t=>t.syncEngine))}async function O0(s){const t=await p1(s),i=t.eventManager;return i.onListen=lD.bind(null,t.syncEngine),i.onUnlisten=hD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fD.bind(null,t.syncEngine),i}function y1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const x0=new Map;const _1="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eN)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}P2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new C2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=x0.get(i);r&&(rt("ComponentProvider","Removing Datastore"),x0.delete(i),r.terminate())})(this),Promise.resolve()}}function RD(s,t,i,r={}){s=or(s,Nh);const l=_o(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Y0(`https://${g}`),X0("Firestore",!0)),c.host!==_1&&c.host!==g&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!ur(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=sn.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(S)}s._authCredentials=new N2(new uE(y,A))}}class Dh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class Pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Yl(i,Pe._jsonSchema))return new Pe(t,r||null,new ht(ue.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Me("string",Pe._jsonSchemaVersion),referencePath:Me("string")};class lr extends Dh{constructor(t,i,r){super(t,i,ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new ht(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function k0(s,t,...i){if(s=Ve(s),cE("collection","path",t),s instanceof Nh){const r=ue.fromString(t,...i);return Kv(r),new lr(s,null,r)}{if(!(s instanceof Pe||s instanceof lr))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(t,...i));return Kv(r),new lr(s.firestore,null,r)}}function wm(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=Xm.newId()),cE("doc","path",t),s instanceof Nh){const r=ue.fromString(t,...i);return Qv(r),new Pe(s,null,new ht(r))}{if(!(s instanceof Pe||s instanceof lr))throw new ut($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(t,...i));return Qv(r),new Pe(s.firestore,s instanceof lr?s.converter:null,new ht(r))}}const U0="AsyncQueue";class L0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&rt(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;rt(U0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",P0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=pg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function P0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function z0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class yo extends Nh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new L0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L0(t),this._firestoreClient=void 0,await t}}}function ID(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:Wc,l=ua(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=NS("firestore");c&&RD(l,...c)}return l}function v1(s){if(s._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CD(s),s._firestoreClient}function CD(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new X2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,y1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new SD(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(tn.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Me("string",Qn._jsonSchemaVersion),bytes:Me("string")};class Oh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eg{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Me("string",Pi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Me("string",zi._jsonSchemaVersion),vectorValues:Me("object")};const ND=/^__.*__$/;class DD{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}class T1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function E1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Ag{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(E1(this.Ac)&&ND.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OD{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(t)}Cc(t,i,r,l=!1){return new Ag({Ac:t,methodName:i,Dc:r,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(s){const t=s._freezeSettings(),i=Rh(s._databaseId);return new OD(s._databaseId,!!t.ignoreUndefinedProperties,i)}function xD(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Sg("Data must be an object, but it was:",d,r);const g=S1(r,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=Rm(t,S,i);if(!d.contains(x))throw new ut($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);w1(A,x)||A.push(x)}_=new On(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new DD(new Tn(g),_,y)}class xh extends Eg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}function MD(s,t,i,r){const l=s.Cc(1,t,i);Sg("Data must be an object, but it was:",l,r);const c=[],d=Tn.empty();pr(r,((_,y)=>{const A=bg(t,_,i);y=Ve(y);const S=l.yc(A);if(y instanceof xh)c.push(A);else{const x=Mh(y,S);x!=null&&(c.push(A),d.set(A,x))}}));const g=new On(c);return new T1(d,g,l.fieldTransforms)}function VD(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Rm(t,r,i)],_=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Rm(t,c[x])),_.push(c[x+1]);const y=[],A=Tn.empty();for(let x=g.length-1;x>=0;--x)if(!w1(y,g[x])){const G=g[x];let J=_[x];J=Ve(J);const it=d.yc(G);if(J instanceof xh)y.push(G);else{const Z=Mh(J,it);Z!=null&&(y.push(G),A.set(G,Z))}}const S=new On(y);return new T1(A,S,d.fieldTransforms)}function Mh(s,t){if(b1(s=Ve(s)))return Sg("Unsupported field value:",t,s),S1(s,t);if(s instanceof Eg)return(function(r,l){if(!E1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Mh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:rh(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:HE(l.serializer,r._byteString)};if(r instanceof Pe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof zi)return(function(d,g){return{mapValue:{fields:{[vE]:{stringValue:TE},[th]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return ig(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${$m(r)}`)})(s,t)}function S1(s,t){const i={};return dE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(s,((r,l)=>{const c=Mh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function b1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Pi||s instanceof Qn||s instanceof Pe||s instanceof Eg||s instanceof zi)}function Sg(s,t,i){if(!b1(i)||!hE(i)){const r=$m(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Rm(s,t,i){if((t=Ve(t))instanceof Oh)return t._internalPath;if(typeof t=="string")return bg(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const kD=new RegExp("[~\\*/\\[\\]]");function bg(s,t,i){if(t.search(kD)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Oh(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ut($.INVALID_ARGUMENT,g+s+_)}function w1(s,t){return s.some((i=>i.isEqual(t)))}class R1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(I1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UD extends R1{data(){return super.data()}}function I1(s,t){return typeof t=="string"?bg(s,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}function LD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PD{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return pr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((r=>Se(r.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=vh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const i=hr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ue.fromString(t);Yt(XE(r),9688,{name:t});const l=new jl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zD(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Nl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends R1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(I1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Me("string",na._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Bc extends na{data(t={}){return super.data(t)}}class lo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Bc(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:jD(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Me("string",lo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class C1 extends PD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function BD(s,t,i,...r){s=or(s,Pe);const l=or(s.firestore,yo),c=A1(l);let d;return d=typeof(t=Ve(t))=="string"||t instanceof Oh?VD(c,"updateDoc",s._key,t,i,r):MD(c,"updateDoc",s._key,t),wg(l,[d.toMutation(s._key,ui.exists(!0))])}function qD(s){return wg(or(s.firestore,yo),[new sg(s._key,ui.none())])}function HD(s,t){const i=or(s.firestore,yo),r=wm(s),l=zD(s.converter,t);return wg(i,[xD(A1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function FD(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||z0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Pe)d=or(s.firestore,yo),g=ng(s._key.path),c={next:_=>{t[r]&&t[r](GD(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=or(s,Dh);d=or(_.firestore,yo),g=_._query;const y=new C1(d);c={next:A=>{t[r]&&t[r](new lo(d,y,_,A))},error:t[r+1],complete:t[r+2]},LD(s._query)}return(function(y,A,S,x){const G=new AD(x),J=new iD(A,G,S);return y.asyncQueue.enqueueAndForget((async()=>WN(await O0(y),J))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>tD(await O0(y),J)))}})(v1(d),g,l,c)}function wg(s,t){return(function(r,l){const c=new ea;return r.asyncQueue.enqueueAndForget((async()=>dD(await wD(r),l,c))),c.promise})(v1(s),t)}function GD(s,t,i){const r=i.docs.get(t._key),l=new C1(s);return new na(s,l,t._key,r,new Nl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Eo=l})(vo),ji(new ci("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new yo(new D2(r.getProvider("auth-internal")),new M2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Kn(qv,Hv,t),Kn(qv,Hv,"esm2020")})();const QD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),j0=s=>{const t=KD(s);return t.charAt(0).toUpperCase()+t.slice(1)},N1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),YD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $D=Ot.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>Ot.createElement("svg",{ref:_,...XD,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:N1("lucide",l),...!c&&!YD(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>Ot.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Fe=(s,t)=>{const i=Ot.forwardRef(({className:r,...l},c)=>Ot.createElement($D,{ref:c,iconNode:t,className:N1(`lucide-${QD(j0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=j0(s),i};const JD=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ZD=Fe("arrow-down-right",JD);const WD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tO=Fe("arrow-up-right",WD);const eO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nO=Fe("calendar",eO);const iO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],D1=Fe("check",iO);const sO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rO=Fe("chevron-left",sO);const aO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oO=Fe("chevron-right",aO);const lO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O1=Fe("circle-alert",lO);const uO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cO=Fe("download",uO);const hO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fO=Fe("funnel",hO);const dO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mO=Fe("lock",dO);const gO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pO=Fe("log-out",gO);const yO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_O=Fe("moon",yO);const vO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B0=Fe("plus",vO);const TO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EO=Fe("sun",TO);const AO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],x1=Fe("trash-2",AO);const SO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bO=Fe("trending-up",SO);const wO=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],M1=Fe("wallet",wO);const RO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IO=Fe("x",RO),Im={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},V1="vivekdn2504@gmail.com",Cm=Im.apiKey!=="YOUR_API_KEY",CO=Cm?Im:typeof __firebase_config<"u"?JSON.parse(__firebase_config):Im,Rg=nT(CO);typeof window<"u"&&SR(Rg);const Oc=R2(Rg),Zd=ID(Rg),Wd=typeof __app_id<"u"?__app_id:"default-app-id",NO=({message:s,type:t,onClose:i})=>{Ot.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-red-500":"bg-indigo-600";return z.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-medium text-sm flex items-center gap-2 z-[70] animate-fade-in-down ${r}`,children:[t==="error"?z.jsx(O1,{className:"w-4 h-4"}):z.jsx(D1,{className:"w-4 h-4"}),s]})},DO=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?z.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:z.jsx("div",{className:`w-full max-w-xs p-6 rounded-3xl shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white":"bg-white text-gray-900"}`,children:z.jsxs("div",{className:"flex flex-col items-center text-center",children:[z.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:z.jsx(x1,{className:"w-6 h-6"})}),z.jsx("h3",{className:"text-lg font-bold mb-2",children:t}),z.jsx("p",{className:`text-sm mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:i}),z.jsxs("div",{className:"flex gap-3 w-full",children:[z.jsx("button",{onClick:l,className:`flex-1 py-3 rounded-xl font-bold text-sm transition-colors ${c?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),z.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-bold text-sm bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 transition-colors",children:"Delete"})]})]})})}):null,OO=({onLogin:s,error:t})=>z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 font-sans",children:z.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center",children:[z.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:z.jsx(M1,{className:"w-8 h-8"})}),z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),z.jsxs("p",{className:"text-gray-500 mb-8 text-sm",children:["Personal Expense Manager",z.jsx("br",{}),"Secure Login"]}),t&&z.jsxs("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-xs rounded-xl flex items-center gap-2 text-left",children:[z.jsx(O1,{className:"w-4 h-4 shrink-0"}),t]}),z.jsx("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:"Sign in with Google"}),z.jsx("p",{className:"mt-6 text-[10px] text-gray-400 uppercase tracking-widest",children:"Restricted Access"}),z.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:V1})]})}),xO=()=>z.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:z.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[z.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[z.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:z.jsx(mO,{className:"w-6 h-6"})}),z.jsxs("div",{children:[z.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),z.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[z.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),z.jsxs("p",{className:"text-gray-300",children:["Go to Firebase Console > Project Settings > General > Your Apps. Copy the ",z.jsx("code",{className:"bg-black px-1 py-0.5 rounded",children:"firebaseConfig"})," object."]})]}),z.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[z.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),z.jsx("p",{className:"text-gray-300",children:"Update lines 26-33 in the code editor."})]}),z.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[z.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),z.jsx("p",{className:"text-gray-300",children:"Update line 40 with your Gmail address."})]})]})]})});function MO(){const[s,t]=Ot.useState(null),[i,r]=Ot.useState([]),[l,c]=Ot.useState(!0),[d,g]=Ot.useState(null),[_,y]=Ot.useState(null),[A,S]=Ot.useState(()=>localStorage.getItem("theme")==="dark"),[x,G]=Ot.useState(!1),[J,it]=Ot.useState({isOpen:!1,id:null}),[Z,gt]=Ot.useState(""),[_t,pt]=Ot.useState("All"),[Ct,ie]=Ot.useState(new Date().toISOString().slice(0,7)),[kt,C]=Ot.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[b,I]=Ot.useState(!1),M=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],N=["Salary","Bonus","Freelance","Other"],[k,w]=Ot.useState(()=>{try{const W=localStorage.getItem("custom_categories");return W?JSON.parse(W):[]}catch{return[]}}),[ae,fe]=Ot.useState(!1),[H,nt]=Ot.useState(""),[ot,Nt]=Ot.useState("expense"),[xt,O]=Ot.useState(null),[K,et]=Ot.useState(""),[st,ft]=Ot.useState(""),[Et,Dt]=Ot.useState(""),[me,Zt]=Ot.useState(new Date().toISOString().split("T")[0]);Ot.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("theme",A?"dark":"light")},[A]),Ot.useEffect(()=>{if(!Cm){c(!1);return}const W=gI(Oc,Rt=>{c(!1),Rt?Rt.email===V1?(t(Rt),g(null)):(Ov(Oc),g(`Access Denied: ${Rt.email} is not authorized.`)):t(null)});return()=>W()},[]),Ot.useEffect(()=>{if(!s)return;const W=k0(Zd,"artifacts",Wd,"users",s.uid,"expenses");return FD(W,Rt=>{const dt=Rt.docs.map(Kt=>({id:Kt.id,...Kt.data(),date:Kt.data().date?.toDate?Kt.data().date.toDate():new Date(Kt.data().date)}));dt.sort((Kt,ke)=>ke.date-Kt.date),r(dt)})},[s]),Ot.useEffect(()=>{localStorage.setItem("monthly_budget",kt)},[kt]),Ot.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(k))},[k]);const Fi=async()=>{try{g(null);const W=new fs;await kI(Oc,W)}catch(W){console.error(W),g(W.message)}},vs=async()=>{await Ov(Oc)},hn=(W,Rt="success")=>y({message:W,type:Rt}),Gi=W=>{const[Rt,dt]=Ct.split("-").map(Number),Kt=new Date(Rt,dt-1+W,15);ie(Kt.toISOString().slice(0,7))},En=(W=null)=>{W?(O(W.id),Nt(W.type||"expense"),et(W.amount),ft(W.category),Dt(W.description||""),Zt(W.date.toISOString().split("T")[0])):(O(null),Nt("expense"),et(""),ft(""),Dt(""),Zt(new Date().toISOString().split("T")[0])),G(!0)},_r=async W=>{if(W.preventDefault(),!K||!s)return;const Rt=st||(ot==="expense"?M[0]:N[0]),dt={type:ot,amount:parseFloat(K),category:Rt,description:Et,date:new Date(me),updatedAt:re.now()};try{const Kt=k0(Zd,"artifacts",Wd,"users",s.uid,"expenses");xt?(await BD(wm(Kt,xt),dt),hn("Updated successfully")):(dt.createdAt=re.now(),await HD(Kt,dt),hn("Added successfully")),G(!1)}catch(Kt){console.error(Kt),hn("Save failed","error")}},fi=(W,Rt)=>{Rt&&Rt.stopPropagation(),it({isOpen:!0,id:W})},vr=async()=>{if(!(!s||!J.id))try{await qD(wm(Zd,"artifacts",Wd,"users",s.uid,"expenses",J.id)),hn("Transaction deleted"),xt===J.id&&(G(!1),O(null))}catch(W){console.error("Delete Error:",W),hn("Delete failed","error")}finally{it({isOpen:!1,id:null})}},Tr=()=>{if(H.trim()){const W=H.trim();[...M,...N,...k].includes(W)||(w([...k,W]),ft(W),hn("Category added")),nt(""),fe(!1)}},ge=()=>{if(on.length===0)return hn("No data to export","error");const W=["Date","Type","Category","Amount","Description"],Rt=on.map(ke=>[ke.date.toLocaleDateString("en-IN"),ke.type||"expense",ke.category,ke.amount,`"${ke.description||""}"`]),dt="data:text/csv;charset=utf-8,"+W.join(",")+`
`+Rt.map(ke=>ke.join(",")).join(`
`),Kt=document.createElement("a");Kt.href=encodeURI(dt),Kt.download=`fin_data_${Ct}.csv`,document.body.appendChild(Kt),Kt.click(),document.body.removeChild(Kt)},_e=ot==="expense"?[...M,...k]:N,on=Ot.useMemo(()=>i.filter(W=>{const Rt=W.date.toISOString().slice(0,7)===Ct,dt=Z.toLowerCase(),Kt=!dt||W.category.toLowerCase().includes(dt)||(W.description||"").toLowerCase().includes(dt),ke=_t==="All"||W.category===_t||_t==="Income"&&W.type==="income";return Rt&&Kt&&ke}),[i,Ct,Z,_t]),Ts=Ot.useMemo(()=>{let W=0,Rt=0;on.forEach(Es=>{Es.type==="income"?W+=Es.amount:Rt+=Es.amount});const dt=new Date(Ct.split("-")[0],Ct.split("-")[1],0).getDate(),Kt=new Date().getDate(),ke=Ct===new Date().toISOString().slice(0,7)?Kt:dt;return{income:W,expense:Rt,balance:W-Rt,dailyAvg:ke>0?Math.round(Rt/ke):0}},[on,Ct]),Er=Ot.useMemo(()=>{const W={};return on.forEach(Rt=>{const dt=Rt.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});W[dt]||(W[dt]=[]),W[dt].push(Rt)}),W},[on]),Ge=Ot.useMemo(()=>{const W=new Set(i.filter(Rt=>Rt.date.toISOString().slice(0,7)===Ct).map(Rt=>Rt.category));return["All",...Array.from(W)]},[i,Ct]),Qi=(W,Rt)=>{if(Rt==="income")return z.jsx(bO,{className:"w-5 h-5 text-emerald-500"});const dt=W.toLowerCase();return dt.includes("food")||dt.includes("dine")?"":dt.includes("shop")?"":dt.includes("transport")||dt.includes("fuel")?"":dt.includes("rent")?"":dt.includes("health")?"":dt.includes("entertain")?"":dt.includes("grocery")?"":""};return Cm?l?z.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:z.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?z.jsxs("div",{className:`min-h-screen font-sans pb-28 transition-colors duration-300 ${A?"bg-[#09090b] text-gray-100":"bg-slate-50 text-slate-900"}`,children:[_&&z.jsx(NO,{message:_.message,type:_.type,onClose:()=>y(null)}),z.jsx(DO,{isOpen:J.isOpen,title:"Delete Transaction?",message:"This action cannot be undone.",onConfirm:vr,onCancel:()=>it({isOpen:!1,id:null}),isDarkMode:A}),z.jsxs("div",{className:`sticky top-0 z-20 px-5 py-4 flex justify-between items-center backdrop-blur-xl border-b ${A?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200"}`,children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:z.jsx(M1,{className:"w-5 h-5"})}),z.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"FinManager"})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{onClick:()=>S(!A),className:`p-2.5 rounded-full ${A?"bg-white/10 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:A?z.jsx(EO,{className:"w-5 h-5"}):z.jsx(_O,{className:"w-5 h-5"})}),z.jsx("button",{onClick:vs,className:"p-2.5 rounded-full bg-red-100 text-red-500 hover:bg-red-200 transition-colors",children:z.jsx(pO,{className:"w-5 h-5"})})]})]}),z.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-6",children:[z.jsxs("div",{className:"relative overflow-hidden rounded-[28px] p-6 shadow-2xl shadow-indigo-500/20 bg-gradient-to-br from-[#1e1b4b] to-[#4338ca] text-white",children:[z.jsxs("div",{className:"relative z-10",children:[z.jsxs("div",{className:"flex justify-between items-start",children:[z.jsxs("div",{children:[z.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-1",children:"Balance"}),z.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[z.jsx("span",{className:"text-indigo-300 mr-1",children:""}),Ts.balance.toLocaleString("en-IN")]})]}),z.jsxs("div",{className:"text-right",children:[z.jsx("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Daily Avg"}),z.jsxs("p",{className:"text-xl font-bold",children:["",Ts.dailyAvg]})]})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[z.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[z.jsx(ZD,{className:"w-4 h-4"}),z.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),z.jsxs("p",{className:"font-semibold text-lg",children:["",Ts.income.toLocaleString("en-IN")]})]}),z.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[z.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[z.jsx(tO,{className:"w-4 h-4"}),z.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),z.jsxs("p",{className:"font-semibold text-lg",children:["",Ts.expense.toLocaleString("en-IN")]})]})]})]}),z.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500 rounded-full blur-[60px] opacity-30"})]}),z.jsxs("div",{className:"sticky top-[73px] z-10 space-y-3 pb-2 pt-2 transition-colors",children:[z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("div",{className:`flex-1 flex items-center justify-between p-1.5 rounded-2xl border backdrop-blur-md ${A?"bg-[#09090b]/90 border-white/5":"bg-white/95 border-slate-200 shadow-sm"}`,children:[z.jsx("button",{onClick:()=>Gi(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:z.jsx(rO,{className:"w-4 h-4"})}),z.jsxs("span",{className:"text-sm font-bold flex items-center gap-2",children:[z.jsx(nO,{className:"w-3 h-3 text-gray-400"}),new Date(Ct).toLocaleDateString("en-IN",{month:"short",year:"numeric"})]}),z.jsx("button",{onClick:()=>Gi(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:z.jsx(oO,{className:"w-4 h-4"})})]}),z.jsx("button",{onClick:ge,className:`p-3 rounded-2xl border flex items-center justify-center ${A?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:z.jsx(cO,{className:"w-5 h-5 text-indigo-500"})})]}),z.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Ge.map(W=>z.jsx("button",{onClick:()=>pt(W),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${_t===W?"bg-indigo-600 border-indigo-600 text-white":A?"bg-[#18181b] border-white/10 text-gray-400":"bg-white border-slate-200 text-slate-600"}`,children:W},W))})]}),z.jsxs("div",{className:"space-y-6",children:[Object.entries(Er).map(([W,Rt])=>z.jsxs("div",{children:[z.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 px-1",children:W}),z.jsx("div",{className:"space-y-3",children:Rt.map(dt=>z.jsxs("div",{onClick:()=>En(dt),className:`group flex items-center gap-4 p-4 rounded-2xl border transition-all cursor-pointer active:scale-[0.98] ${A?"bg-[#18181b] border-white/5 hover:bg-white/5":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`,children:[z.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-lg ${dt.type==="income"?"bg-emerald-500/10":A?"bg-white/5":"bg-slate-100"}`,children:Qi(dt.category,dt.type)}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("h5",{className:"font-bold text-sm truncate",children:dt.category}),z.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:z.jsx("span",{className:"truncate max-w-[120px]",children:dt.description||"No description"})})]}),z.jsxs("div",{className:`font-bold ${dt.type==="income"?"text-emerald-500":A?"text-gray-100":"text-slate-900"}`,children:[dt.type==="income"?"+":"-","",dt.amount.toLocaleString("en-IN")]}),z.jsx("button",{onClick:Kt=>fi(dt.id,Kt),className:`p-2 rounded-lg transition-all ${A?"text-gray-600 hover:text-red-400 hover:bg-white/5":"text-gray-300 hover:text-red-500 hover:bg-red-50"}`,children:z.jsx(x1,{className:"w-4 h-4"})})]},dt.id))})]},W)),Object.keys(Er).length===0&&z.jsxs("div",{className:"text-center py-12 opacity-40",children:[z.jsx(fO,{className:"w-12 h-12 mx-auto mb-2"}),z.jsx("p",{children:"No transactions"})]})]})]}),z.jsx("button",{onClick:()=>En(),className:"fixed bottom-6 right-6 h-14 w-14 bg-indigo-600 rounded-full text-white shadow-xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-30",children:z.jsx(B0,{className:"w-7 h-7"})}),x&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>G(!1)}),z.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-6 rounded-t-[32px] z-50 transition-transform duration-300 animate-slide-up ${A?"bg-[#1c1c1f]":"bg-white"}`,children:[z.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6"}),z.jsxs("form",{onSubmit:_r,className:"space-y-6",children:[!xt&&z.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[z.jsx("button",{type:"button",onClick:()=>Nt("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ot==="expense"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-500"}`,children:"Expense"}),z.jsx("button",{type:"button",onClick:()=>Nt("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ot==="income"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"Income"})]}),z.jsxs("div",{className:"text-center",children:[z.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Amount"}),z.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[z.jsx("span",{className:`text-3xl font-bold ${ot==="income"?"text-emerald-500":"text-rose-500"}`,children:""}),z.jsx("input",{autoFocus:!0,type:"number",value:K,onChange:W=>et(W.target.value),placeholder:"0",className:`text-5xl font-bold bg-transparent outline-none w-48 text-center ${A?"text-white":"text-gray-900"}`})]})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsxs("div",{className:"space-y-1.5",children:[z.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Category"}),ae?z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",value:H,onChange:W=>nt(W.target.value),placeholder:"Name...",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${A?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),z.jsx("button",{type:"button",onClick:Tr,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:z.jsx(D1,{className:"w-4 h-4"})}),z.jsx("button",{type:"button",onClick:()=>fe(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:z.jsx(IO,{className:"w-4 h-4"})})]}):z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("select",{value:st,onChange:W=>ft(W.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${A?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[z.jsx("option",{value:"",disabled:!0,children:"Select..."}),_e.map(W=>z.jsx("option",{value:W,children:W},W))]}),ot==="expense"&&z.jsx("button",{type:"button",onClick:()=>fe(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl",children:z.jsx(B0,{className:"w-4 h-4 text-gray-500"})})]})]}),z.jsxs("div",{className:"space-y-1.5",children:[z.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),z.jsx("input",{type:"date",value:me,onChange:W=>Zt(W.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${A?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),z.jsxs("div",{className:"space-y-1.5",children:[z.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Description"}),z.jsx("input",{type:"text",placeholder:"Note (optional)",value:Et,onChange:W=>Dt(W.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${A?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),z.jsxs("div",{className:"pt-2 space-y-3",children:[z.jsxs("button",{type:"submit",className:`w-full font-bold py-4 rounded-2xl shadow-lg text-white active:scale-[0.98] transition-all text-lg ${ot==="income"?"bg-emerald-600 shadow-emerald-500/20":"bg-indigo-600 shadow-indigo-500/20"}`,children:[xt?"Update":"Save"," ",ot==="income"?"Income":"Expense"]}),xt&&z.jsx("button",{type:"button",onClick:()=>fi(xt),className:"w-full py-3.5 text-red-500 font-bold text-sm bg-red-500/10 rounded-2xl hover:bg-red-500/20 transition-colors",children:"Delete Transaction"})]})]})]})]})]}):z.jsx(OO,{onLogin:Fi,error:d}):z.jsx(xO,{})}TS.createRoot(document.getElementById("root")).render(z.jsx(Ot.StrictMode,{children:z.jsx(MO,{})}));
