(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},Vl={};var J_;function gS(){if(J_)return Vl;J_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var Z_;function pS(){return Z_||(Z_=1,Md.exports=gS()),Md.exports}var S=pS(),Vd={exports:{}},Rt={};var W_;function yS(){if(W_)return Rt;W_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,W={};function mt(O,K,it){this.props=O,this.context=K,this.refs=W,this.updater=it||X}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function pt(O,K,it){this.props=O,this.context=K,this.refs=W,this.updater=it||X}var Dt=pt.prototype=new vt;Dt.constructor=pt,rt(Dt,mt.prototype),Dt.isPureReactComponent=!0;var Yt=Array.isArray;function kt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,K,it){var st=it.ref;return{$$typeof:s,type:O,key:K,ref:st!==void 0?st:null,props:it}}function V(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var R=/\/+/g;function se(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,it,st,Tt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(St){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case s:case t:Ot=!0;break;case b:return Ot=O._init,F(Ot(O._payload),K,it,st,Tt)}}if(Ot)return Tt=Tt(O),Ot=st===""?"."+se(O,0):st,Yt(Tt)?(it="",Ot!=null&&(it=Ot.replace(R,"$&/")+"/"),F(Tt,K,it,"",function(ts){return ts})):Tt!=null&&(D(Tt)&&(Tt=V(Tt,it+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Ot)),K.push(Tt)),1;Ot=0;var re=st===""?".":st+":";if(Yt(O))for(var ue=0;ue<O.length;ue++)st=O[ue],St=re+se(st,ue),Ot+=F(st,K,it,St,Tt);else if(ue=Q(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(st=O.next()).done;)st=st.value,St=re+se(st,ue++),Ot+=F(st,K,it,St,Tt);else if(St==="object"){if(typeof O.then=="function")return F(Ie(O),K,it,st,Tt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function nt(O,K,it){if(O==null)return O;var st=[],Tt=0;return F(O,st,"","",function(St){return K.call(it,St,Tt++)}),st}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var qt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=A,Rt.Children=Xt,Rt.Component=mt,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=pt,Rt.StrictMode=r,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=rt({},O.props),Tt=O.key;if(K!=null)for(St in K.key!==void 0&&(Tt=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=it;else if(1<St){for(var Ot=Array(St),re=0;re<St;re++)Ot[re]=arguments[re+2];st.children=Ot}return C(O.type,Tt,st)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,K,it){var st,Tt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)w.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Tt[st]=K[st]);var Ot=arguments.length-2;if(Ot===1)Tt.children=it;else if(1<Ot){for(var re=Array(Ot),ue=0;ue<Ot;ue++)re[ue]=arguments[ue+2];Tt.children=re}if(O&&O.defaultProps)for(st in Ot=O.defaultProps,Ot)Tt[st]===void 0&&(Tt[st]=Ot[st]);return C(O,St,Tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:g,render:O}},Rt.isValidElement=D,Rt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},Rt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Rt.startTransition=function(O){var K=x.T,it={};x.T=it;try{var st=O(),Tt=x.S;Tt!==null&&Tt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,qt)}catch(St){qt(St)}finally{K!==null&&it.types!==null&&(K.types=it.types),x.T=K}},Rt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Rt.use=function(O){return x.H.use(O)},Rt.useActionState=function(O,K,it){return x.H.useActionState(O,K,it)},Rt.useCallback=function(O,K){return x.H.useCallback(O,K)},Rt.useContext=function(O){return x.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,K){return x.H.useDeferredValue(O,K)},Rt.useEffect=function(O,K){return x.H.useEffect(O,K)},Rt.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Rt.useId=function(){return x.H.useId()},Rt.useImperativeHandle=function(O,K,it){return x.H.useImperativeHandle(O,K,it)},Rt.useInsertionEffect=function(O,K){return x.H.useInsertionEffect(O,K)},Rt.useLayoutEffect=function(O,K){return x.H.useLayoutEffect(O,K)},Rt.useMemo=function(O,K){return x.H.useMemo(O,K)},Rt.useOptimistic=function(O,K){return x.H.useOptimistic(O,K)},Rt.useReducer=function(O,K,it){return x.H.useReducer(O,K,it)},Rt.useRef=function(O){return x.H.useRef(O)},Rt.useState=function(O){return x.H.useState(O)},Rt.useSyncExternalStore=function(O,K,it){return x.H.useSyncExternalStore(O,K,it)},Rt.useTransition=function(){return x.H.useTransition()},Rt.version="19.2.3",Rt}var t0;function Mm(){return t0||(t0=1,Vd.exports=yS()),Vd.exports}var ft=Mm(),kd={exports:{}},kl={},Ld={exports:{}},Ud={};var e0;function _S(){return e0||(e0=1,(function(s){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var qt=ht-1>>>1,Xt=F[qt];if(0<l(Xt,nt))F[qt]=nt,F[ht]=Xt,ht=qt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var qt=0,Xt=F.length,O=Xt>>>1;qt<O;){var K=2*(qt+1)-1,it=F[K],st=K+1,Tt=F[st];if(0>l(it,ht))st<Xt&&0>l(Tt,it)?(F[qt]=Tt,F[st]=ht,qt=st):(F[qt]=it,F[K]=ht,qt=K);else if(st<Xt&&0>l(Tt,ht))F[qt]=Tt,F[st]=ht,qt=st;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,A=null,M=3,Q=!1,X=!1,rt=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Dt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=F)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Yt(F){if(rt=!1,Dt(F),!X)if(i(_)!==null)X=!0,kt||(kt=!0,L());else{var nt=i(y);nt!==null&&Ie(Yt,nt.startTime-F)}}var kt=!1,x=-1,w=5,C=-1;function V(){return W?!0:!(s.unstable_now()-C<w)}function D(){if(W=!1,kt){var F=s.unstable_now();C=F;var nt=!0;try{t:{X=!1,rt&&(rt=!1,vt(x),x=-1),Q=!0;var ht=M;try{e:{for(Dt(F),A=i(_);A!==null&&!(A.expirationTime>F&&V());){var qt=A.callback;if(typeof qt=="function"){A.callback=null,M=A.priorityLevel;var Xt=qt(A.expirationTime<=F);if(F=s.unstable_now(),typeof Xt=="function"){A.callback=Xt,Dt(F),nt=!0;break e}A===i(_)&&r(_),Dt(F)}else r(_);A=i(_)}if(A!==null)nt=!0;else{var O=i(y);O!==null&&Ie(Yt,O.startTime-F),nt=!1}}break t}finally{A=null,M=ht,Q=!1}nt=void 0}}finally{nt?L():kt=!1}}}var L;if(typeof pt=="function")L=function(){pt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=D,L=function(){se.postMessage(null)}}else L=function(){mt(D,0)};function Ie(F,nt){x=mt(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ht=M;M=nt;try{return F()}finally{M=ht}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=M;M=F;try{return nt()}finally{M=ht}},s.unstable_scheduleCallback=function(F,nt,ht){var qt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?qt+ht:qt):ht=qt,F){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ht+Xt,F={id:b++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:Xt,sortIndex:-1},ht>qt?(F.sortIndex=ht,t(y,F),i(_)===null&&F===i(y)&&(rt?(vt(x),x=-1):rt=!0,Ie(Yt,ht-qt))):(F.sortIndex=Xt,t(_,F),X||Q||(X=!0,kt||(kt=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var nt=M;return function(){var ht=M;M=nt;try{return F.apply(this,arguments)}finally{M=ht}}}})(Ud)),Ud}var n0;function vS(){return n0||(n0=1,Ld.exports=_S()),Ld.exports}var Pd={exports:{}},an={};var i0;function TS(){if(i0)return an;i0=1;var s=Mm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},an.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},an.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},an.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},an.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},an.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},an.requestFormReset=function(_){r.d.r(_)},an.unstable_batchedUpdates=function(_,y){return _(y)},an.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var s0;function ES(){if(s0)return Pd.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=TS(),Pd.exports}var r0;function bS(){if(r0)return kl;r0=1;var s=vS(),t=Mm(),i=ES();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case Yt:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case pt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ie=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},qt=[],Xt=-1;function O(e){return{current:e}}function K(e){0>Xt||(e.current=qt[Xt],qt[Xt]=null,Xt--)}function it(e,n){Xt++,qt[Xt]=e.current,e.current=n}var st=O(null),Tt=O(null),St=O(null),Ot=O(null);function re(e,n){switch(it(St,n),it(Tt,e),it(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=E_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),it(st,e)}function ue(){K(st),K(Tt),K(St)}function ts(e){e.memoizedState!==null&&it(Ot,e);var n=st.current,a=E_(n,e.type);n!==a&&(it(Tt,e),it(st,a))}function Si(e){Tt.current===e&&(K(st),K(Tt)),Ot.current===e&&(K(Ot),Nl._currentValue=ht)}var Ai,es;function sn(e){if(Ai===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ai=n&&n[1]||"",es=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+e+es}var Dr=!1;function ns(e,n){if(!e||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?sn(a):""}function is(e,n){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return e.child!==n&&n!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return sn("Activity");default:return""}}function ss(e){try{var n="",a=null;do n+=is(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Et=s.unstable_scheduleCallback,zn=s.unstable_cancelCallback,ri=s.unstable_shouldYield,Ea=s.unstable_requestPaint,Ce=s.unstable_now,wi=s.unstable_getCurrentPriorityLevel,ai=s.unstable_ImmediatePriority,Ri=s.unstable_UserBlockingPriority,oi=s.unstable_NormalPriority,Or=s.unstable_LowPriority,Mr=s.unstable_IdlePriority,Vr=s.log,Ds=s.unstable_setDisableYieldValue,pn=null,xe=null;function hn(e){if(typeof Vr=="function"&&Ds(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(pn,e)}catch{}}var ae=Math.clz32?Math.clz32:ba,Os=Math.log,Ms=Math.LN2;function ba(e){return e>>>=0,e===0?32:31-(Os(e)/Ms|0)|0}var Fe=256,Ii=262144,Te=4194304;function fn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=fn(o):(p&=T,p!==0?h=fn(p):a||(a=T&~e,a!==0&&(h=fn(a))))):(T=o&~f,T!==0?h=fn(T):p!==0?h=fn(p):a||(a=o&~e,a!==0&&(h=fn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function In(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ko(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function qn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lo(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var G=31-ae(a),$=1<<G;T[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&rn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function rn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Hn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ae(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ci(e,n){var a=n&-n;return a=(a&42)!==0?1:li(a),(a&(e.suspendedLanes|n))!==0?0:a}function li(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Aa(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function yn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Cn=Math.random().toString(36).slice(2),he="__reactFiber$"+Cn,j="__reactProps$"+Cn,tt="__reactContainer$"+Cn,ut="__reactEvents$"+Cn,wt="__reactListeners$"+Cn,fe="__reactHandles$"+Cn,je="__reactResources$"+Cn,Ge="__reactMarker$"+Cn;function Vs(e){delete e[he],delete e[j],delete e[ut],delete e[wt],delete e[fe]}function xi(e){var n=e[he];if(n)return n;for(var a=e.parentNode;a;){if(n=a[tt]||a[he]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[he])return a;e=C_(e)}return n}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[he]||e[tt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ni(e){var n=e[je];return n||(n=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[Ge]=!0}var Uo=new Set,Po={};function Di(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(Po[e]=n,e=0;e<n.length;e++)Uo.add(n[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function cu(e){return _e.call(Bo,e)?!0:_e.call(zo,e)?!1:jo.test(e)?Bo[e]=!0:(zo[e]=!0,!1)}function wa(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Nn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function De(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ks(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=ks(e)?"checked":"value";e._valueTracker=qo(e,n,""+e[n])}}function kr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ks(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lr=/[\n"\\]/g;function _n(e){return e.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ra(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qe(n)):e.value!==""+Qe(n)&&(e.value=""+Qe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ho(e,p,Qe(n)):a!=null?Ho(e,p,Qe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Qe(T):e.removeAttribute("name")}function hu(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}a=a!=null?""+Qe(a):"",n=n!=null?""+Qe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jt(e)}function Ho(e,n,a){n==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ls(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Qe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+Qe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Qe(a):""}function Us(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ie(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function vn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Go(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(e,f,n[f])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return Ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var Qo=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Vi=null;function Ur(e){var n=Gn(e);if(n&&(e=n.stateNode)){var a=e[j]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[j]||null;if(!h)throw Error(r(90));Ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&kr(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ls(e,!!a.multiple,n,!1)}}}var xa=!1;function zs(e,n,a){if(xa)return e(n,a);xa=!0;try{var o=e(n);return o}finally{if(xa=!1,(js!==null||Vi!==null)&&(oc(),js&&(n=js,e=Vi,Vi=js=null,Ur(n),e)))for(n=0;n<e.length;n++)Ur(e[n])}}function ci(e,n){var a=e.stateNode;if(a===null)return null;var o=a[j]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Kn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Pr=!1}var ki=null,Ko=null,jr=null;function Yo(){if(jr)return jr;var e,n=Ko,a=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return jr=h.slice(e,1<o?1-o:void 0)}function zr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function hi(){return!1}function Xe(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:hi,this.isPropagationStopped=hi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Xe(os),Bs=A({},os,{view:0,detail:0}),Xo=Xe(Bs),qs,Na,Ui,Da=A({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(qs=e.screenX-Ui.screenX,Na=e.screenY-Ui.screenY):Na=qs=0,Ui=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),$o=Xe(Da),Br=A({},Da,{dataTransfer:0}),gu=Xe(Br),pu=A({},Bs,{relatedTarget:0}),qr=Xe(pu),Jo=A({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Xe(Jo),Oa=A({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Xe(Oa),vu=A({},os,{data:0}),Pi=Xe(vu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Hs(){return Su}var dn=A({},Bs,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Xe(dn),wu=A({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Xe(wu),u=A({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=Xe(u),v=A({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Xe(v),U=A({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Xe(U),et=A({},os,{newState:0,oldState:0}),Ct=Xe(et),Se=[9,13,27,32],Qt=Kn&&"CompositionEvent"in window,pe=null;Kn&&"documentMode"in document&&(pe=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!pe,ji=Kn&&(!Qt||pe&&8<pe&&11>=pe),fi=" ",di=!1;function Hr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function j1(e,n){switch(e){case"compositionend":return Ma(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return e=n.data,e===fi&&di?null:e;default:return null}}function z1(e,n){if(Va)return e==="compositionend"||!Qt&&Hr(e,n)?(e=Yo(),jr=Ko=ki=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!B1[e.type]:n==="textarea"}function Og(e,n,a,o){js?Vi?Vi.push(o):Vi=[o]:js=o,n=mc(n,"onChange"),0<n.length&&(a=new Li("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Zo=null,Wo=null;function q1(e){m_(e,0)}function Ru(e){var n=xn(e);if(kr(n))return e}function Mg(e,n){if(e==="change")return n}var Vg=!1;if(Kn){var jh;if(Kn){var zh="oninput"in document;if(!zh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),zh=typeof kg.oninput=="function"}jh=zh}else jh=!1;Vg=jh&&(!document.documentMode||9<document.documentMode)}function Lg(){Zo&&(Zo.detachEvent("onpropertychange",Ug),Wo=Zo=null)}function Ug(e){if(e.propertyName==="value"&&Ru(Wo)){var n=[];Og(n,Wo,e,Qn(e)),zs(q1,n)}}function H1(e,n,a){e==="focusin"?(Lg(),Zo=n,Wo=a,Zo.attachEvent("onpropertychange",Ug)):e==="focusout"&&Lg()}function F1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Wo)}function G1(e,n){if(e==="click")return Ru(n)}function Q1(e,n){if(e==="input"||e==="change")return Ru(n)}function K1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:K1;function tl(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!Dn(e[h],n[h]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,n){var a=Pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function zg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Mi(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Y1=Kn&&"documentMode"in document&&11>=document.documentMode,ka=null,qh=null,el=null,Hh=!1;function qg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||ka==null||ka!==Mi(o)||(o=ka,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),el&&tl(el,o)||(el=o,o=mc(qh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ka)))}function Fr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var La={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Fh={},Hg={};Kn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Gr(e){if(Fh[e])return Fh[e];if(!La[e])return e;var n=La[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hg)return Fh[e]=n[a];return e}var Fg=Gr("animationend"),Gg=Gr("animationiteration"),Qg=Gr("animationstart"),X1=Gr("transitionrun"),$1=Gr("transitionstart"),J1=Gr("transitioncancel"),Kg=Gr("transitionend"),Yg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function mi(e,n){Yg.set(e,n),Di(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Ua=0,Qh=0;function Cu(){for(var e=Ua,n=Qh=Ua=0;n<e;){var a=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Xg(a,h,f)}}function xu(e,n,a,o){Xn[Ua++]=e,Xn[Ua++]=n,Xn[Ua++]=a,Xn[Ua++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return xu(e,n,a,o),Nu(e)}function Qr(e,n){return xu(e,null,null,n),Nu(e)}function Xg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ae(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Nu(e){if(50<Sl)throw Sl=0,id=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pa={};function Z1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,n,a,o){return new Z1(e,n,a,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,n){var a=e.alternate;return a===null?(a=On(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $g(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Yh(e)&&(p=1);else if(typeof e=="string")p=iS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=On(31,a,n,h),e.elementType=C,e.lanes=f,e;case rt:return Kr(a.children,h,f,n);case W:p=8,h|=24;break;case mt:return e=On(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case Yt:return e=On(13,a,n,h),e.elementType=Yt,e.lanes=f,e;case kt:return e=On(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case vt:p=9;break t;case Dt:p=11;break t;case x:p=14;break t;case w:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=On(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Kr(e,n,a,o){return e=On(7,e,o,n),e.lanes=a,e}function Xh(e,n,a){return e=On(6,e,null,n),e.lanes=a,e}function Jg(e){var n=On(18,null,null,0);return n.stateNode=e,n}function $h(e,n,a){return n=On(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zg=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var a=Zg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ss(n)},Zg.set(e,n),n)}return{value:e,source:n,stack:ss(n)}}var ja=[],za=0,Ou=null,nl=0,Jn=[],Zn=0,Fs=null,zi=1,Bi="";function cs(e,n){ja[za++]=nl,ja[za++]=Ou,Ou=e,nl=n}function Wg(e,n,a){Jn[Zn++]=zi,Jn[Zn++]=Bi,Jn[Zn++]=Fs,Fs=e;var o=zi;e=Bi;var h=32-ae(o)-1;o&=~(1<<h),a+=1;var f=32-ae(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,zi=1<<32-ae(n)+h|a<<h|o,Bi=f+e}else zi=1<<f|a<<h|o,Bi=e}function Jh(e){e.return!==null&&(cs(e,1),Wg(e,1,0))}function Zh(e){for(;e===Ou;)Ou=ja[--za],ja[za]=null,nl=ja[--za],ja[za]=null;for(;e===Fs;)Fs=Jn[--Zn],Jn[Zn]=null,Bi=Jn[--Zn],Jn[Zn]=null,zi=Jn[--Zn],Jn[Zn]=null}function tp(e,n){Jn[Zn++]=zi,Jn[Zn++]=Bi,Jn[Zn++]=Fs,zi=n.id,Bi=n.overflow,Fs=e}var $e=null,de=null,Bt=!1,Gs=null,Wn=!1,Wh=Error(r(519));function Qs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il($n(n,e)),Wh}function ep(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[he]=e,n[j]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Vt(wl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Us(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||__(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Qs(e,!0)}function np(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:$e=$e.return}}function Ba(e){if(e!==$e)return!1;if(!Bt)return np(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&de&&Qs(e),np(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=I_(e)}else n===27?(n=de,ar(e.type)?(e=Sd,Sd=null,de=e):de=n):de=$e?ei(e.stateNode.nextSibling):null;return!0}function Yr(){de=$e=null,Bt=!1}function tf(){var e=Gs;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),Gs=null),e}function il(e){Gs===null?Gs=[e]:Gs.push(e)}var ef=O(null),Xr=null,hs=null;function Ks(e,n,a){it(ef,n._currentValue),n._currentValue=a}function fs(e){e._currentValue=ef.current,K(ef)}function nf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),nf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),nf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function qa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;Dn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ot.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}h=h.return}e!==null&&sf(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $r(e){Xr=e,hs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return ip(Xr,e)}function Vu(e,n){return Xr===null&&$r(e),ip(e,n)}function ip(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},hs===null){if(e===null)throw Error(r(308));hs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else hs=hs.next=n;return a}var W1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},tb=s.unstable_scheduleCallback,eb=s.unstable_NormalPriority,Oe={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new W1,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&tb(eb,function(){e.controller.abort()})}var rl=null,af=0,Ha=0,Fa=null;function nb(e,n){if(rl===null){var a=rl=[];af=0,Ha=ud(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(sp,sp),n}function sp(){if(--af===0&&rl!==null){Fa!==null&&(Fa.status="fulfilled");var e=rl;rl=null,Ha=0,Fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ib(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rp=F.S;F.S=function(e,n){qy=Ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nb(e,n),rp!==null&&rp(e,n)};var Jr=O(null);function of(){var e=Jr.current;return e!==null?e:oe.pooledCache}function ku(e,n){n===null?it(Jr,Jr.current):it(Jr,n.pool)}function ap(){var e=of();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ga=Error(r(460)),lf=Error(r(474)),Lu=Error(r(542)),Uu={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ui,ui),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e;default:if(typeof n.status=="string")n.then(ui,ui);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e}throw Wr=n,Ga}}function Zr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Ga):a}}var Wr=null;function up(){if(Wr===null)throw Error(r(459));var e=Wr;return Wr=null,e}function cp(e){if(e===Ga||e===Lu)throw Error(r(483))}var Qa=null,al=0;function Pu(e){var n=al;return al+=1,Qa===null&&(Qa=[]),lp(Qa,e,n)}function ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=us(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,N,P,Y){return N===null||N.tag!==6?(N=Xh(P,k.mode,Y),N.return=k,N):(N=h(N,P),N.return=k,N)}function I(k,N,P,Y){var dt=P.type;return dt===rt?G(k,N,P.props.children,Y,P.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Zr(dt)===N.type)?(N=h(N,P.props),ol(N,P),N.return=k,N):(N=Du(P.type,P.key,P.props,null,k.mode,Y),ol(N,P),N.return=k,N)}function z(k,N,P,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=$h(P,k.mode,Y),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function G(k,N,P,Y,dt){return N===null||N.tag!==7?(N=Kr(P,k.mode,Y,dt),N.return=k,N):(N=h(N,P),N.return=k,N)}function $(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return P=Du(N.type,N.key,N.props,null,k.mode,P),ol(P,N),P.return=k,P;case X:return N=$h(N,k.mode,P),N.return=k,N;case w:return N=Zr(N),$(k,N,P)}if(Ie(N)||L(N))return N=Kr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return $(k,Pu(N),P);if(N.$$typeof===pt)return $(k,Vu(k,N),P);ju(k,N)}return null}function B(k,N,P,Y){var dt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(k,N,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===dt?I(k,N,P,Y):null;case X:return P.key===dt?z(k,N,P,Y):null;case w:return P=Zr(P),B(k,N,P,Y)}if(Ie(P)||L(P))return dt!==null?null:G(k,N,P,Y,null);if(typeof P.then=="function")return B(k,N,Pu(P),Y);if(P.$$typeof===pt)return B(k,N,Vu(k,P),Y);ju(k,P)}return null}function H(k,N,P,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(N,k,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return k=k.get(Y.key===null?P:Y.key)||null,I(N,k,Y,dt);case X:return k=k.get(Y.key===null?P:Y.key)||null,z(N,k,Y,dt);case w:return Y=Zr(Y),H(k,N,P,Y,dt)}if(Ie(Y)||L(Y))return k=k.get(P)||null,G(N,k,Y,dt,null);if(typeof Y.then=="function")return H(k,N,P,Pu(Y),dt);if(Y.$$typeof===pt)return H(k,N,P,Vu(N,Y),dt);ju(N,Y)}return null}function ot(k,N,P,Y){for(var dt=null,Ft=null,lt=N,Nt=N=0,Ut=null;lt!==null&&Nt<P.length;Nt++){lt.index>Nt?(Ut=lt,lt=null):Ut=lt.sibling;var Gt=B(k,lt,P[Nt],Y);if(Gt===null){lt===null&&(lt=Ut);break}e&&lt&&Gt.alternate===null&&n(k,lt),N=f(Gt,N,Nt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt,lt=Ut}if(Nt===P.length)return a(k,lt),Bt&&cs(k,Nt),dt;if(lt===null){for(;Nt<P.length;Nt++)lt=$(k,P[Nt],Y),lt!==null&&(N=f(lt,N,Nt),Ft===null?dt=lt:Ft.sibling=lt,Ft=lt);return Bt&&cs(k,Nt),dt}for(lt=o(lt);Nt<P.length;Nt++)Ut=H(lt,k,Nt,P[Nt],Y),Ut!==null&&(e&&Ut.alternate!==null&&lt.delete(Ut.key===null?Nt:Ut.key),N=f(Ut,N,Nt),Ft===null?dt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&lt.forEach(function(hr){return n(k,hr)}),Bt&&cs(k,Nt),dt}function yt(k,N,P,Y){if(P==null)throw Error(r(151));for(var dt=null,Ft=null,lt=N,Nt=N=0,Ut=null,Gt=P.next();lt!==null&&!Gt.done;Nt++,Gt=P.next()){lt.index>Nt?(Ut=lt,lt=null):Ut=lt.sibling;var hr=B(k,lt,Gt.value,Y);if(hr===null){lt===null&&(lt=Ut);break}e&&lt&&hr.alternate===null&&n(k,lt),N=f(hr,N,Nt),Ft===null?dt=hr:Ft.sibling=hr,Ft=hr,lt=Ut}if(Gt.done)return a(k,lt),Bt&&cs(k,Nt),dt;if(lt===null){for(;!Gt.done;Nt++,Gt=P.next())Gt=$(k,Gt.value,Y),Gt!==null&&(N=f(Gt,N,Nt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&cs(k,Nt),dt}for(lt=o(lt);!Gt.done;Nt++,Gt=P.next())Gt=H(lt,k,Nt,Gt.value,Y),Gt!==null&&(e&&Gt.alternate!==null&&lt.delete(Gt.key===null?Nt:Gt.key),N=f(Gt,N,Nt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&lt.forEach(function(mS){return n(k,mS)}),Bt&&cs(k,Nt),dt}function ie(k,N,P,Y){if(typeof P=="object"&&P!==null&&P.type===rt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var dt=P.key;N!==null;){if(N.key===dt){if(dt=P.type,dt===rt){if(N.tag===7){a(k,N.sibling),Y=h(N,P.props.children),Y.return=k,k=Y;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Zr(dt)===N.type){a(k,N.sibling),Y=h(N,P.props),ol(Y,P),Y.return=k,k=Y;break t}a(k,N);break}else n(k,N);N=N.sibling}P.type===rt?(Y=Kr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Du(P.type,P.key,P.props,null,k.mode,Y),ol(Y,P),Y.return=k,k=Y)}return p(k);case X:t:{for(dt=P.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(k,N.sibling),Y=h(N,P.children||[]),Y.return=k,k=Y;break t}else{a(k,N);break}else n(k,N);N=N.sibling}Y=$h(P,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return P=Zr(P),ie(k,N,P,Y)}if(Ie(P))return ot(k,N,P,Y);if(L(P)){if(dt=L(P),typeof dt!="function")throw Error(r(150));return P=dt.call(P),yt(k,N,P,Y)}if(typeof P.then=="function")return ie(k,N,Pu(P),Y);if(P.$$typeof===pt)return ie(k,N,Vu(k,P),Y);ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(k,N.sibling),Y=h(N,P),Y.return=k,k=Y):(a(k,N),Y=Xh(P,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,N)}return function(k,N,P,Y){try{al=0;var dt=ie(k,N,P,Y);return Qa=null,dt}catch(lt){if(lt===Ga||lt===Lu)throw lt;var Ft=On(29,lt,null,k.mode);return Ft.lanes=Y,Ft.return=k,Ft}}}var ta=hp(!0),fp=hp(!1),Ys=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $s(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Xg(e,null,a),n}return xu(e,o,n,a),Nu(e)}function ll(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Hn(e,a)}}function hf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ff=!1;function ul(){if(ff){var e=Fa;if(e!==null)throw e}}function cl(e,n,a,o){ff=!1;var h=e.updateQueue;Ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,G=z=I=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Lt&B)===B:(o&B)===B){B!==0&&B===Ha&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,yt=T;B=n;var ie=a;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){$=ot.call(ie,$,B);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,B=typeof ot=="function"?ot.call(ie,$,B):ot,B==null)break t;$=A({},$,B);break t;case 2:Ys=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,I=$):G=G.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),er|=p,e.lanes=p,e.memoizedState=$}}function dp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function mp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dp(a[e],n)}var Ka=O(null),zu=O(0);function gp(e,n){e=Es,it(zu,e),it(Ka,n),Es=e|n.baseLanes}function df(){it(zu,Es),it(Ka,Ka.current)}function mf(){Es=zu.current,K(Ka),K(zu)}var Mn=O(null),ti=null;function Js(e){var n=e.alternate;it(Ae,Ae.current&1),it(Mn,e),ti===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ti=e)}function gf(e){it(Ae,Ae.current),it(Mn,e),ti===null&&(ti=e)}function pp(e){e.tag===22?(it(Ae,Ae.current),it(Mn,e),ti===null&&(ti=e)):Zs()}function Zs(){it(Ae,Ae.current),it(Mn,Mn.current)}function Vn(e){K(Mn),ti===e&&(ti=null),K(Ae)}var Ae=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,xt=null,ee=null,Me=null,qu=!1,Ya=!1,ea=!1,Hu=0,hl=0,Xa=null,sb=0;function Ee(){throw Error(r(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dn(e[a],n[a]))return!1;return!0}function yf(e,n,a,o,h,f){return ds=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Wp:Of,ea=!1,f=a(o,h),ea=!1,Ya&&(f=_p(n,a,o,h)),yp(e),f}function yp(e){F.H=ml;var n=ee!==null&&ee.next!==null;if(ds=0,Me=ee=xt=null,qu=!1,hl=0,Xa=null,n)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&Mu(e)&&(Ve=!0))}function _p(e,n,a,o){xt=e;var h=0;do{if(Ya&&(Xa=null),hl=0,Ya=!1,25<=h)throw Error(r(301));if(h+=1,Me=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ty,f=n(a,o)}while(Ya);return f}function rb(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?fl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function _f(){var e=Hu!==0;return Hu=0,e}function vf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Tf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}ds=0,Me=ee=xt=null,Ya=!1,hl=Hu=0,Xa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xt.memoizedState=Me=e:Me=Me.next=e,Me}function we(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Me===null?xt.memoizedState:Me.next;if(n!==null)Me=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Me===null?xt.memoizedState=Me=e:Me=Me.next=e}return Me}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var n=hl;return hl+=1,Xa===null&&(Xa=[]),e=lp(Xa,e,n),n=xt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wp:Of),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===pt)return Je(e)}throw Error(r(438,String(e)))}function Ef(e){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function ms(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=we();return bf(n,ee,e)}function bf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Lt&$)===$:(ds&$)===$){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ha&&(G=!0);else if((ds&B)===B){z=z.next,B===Ha&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=$,p=f):I=I.next=$,xt.lanes|=B,er|=B;$=z.action,ea&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,p=f):I=I.next=B,xt.lanes|=$,er|=$;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!Dn(f,e.memoizedState)&&(Ve=!0,G&&(a=Fa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=we(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Dn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vp(e,n,a){var o=xt,h=we(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Dn((ee||h).memoizedState,a);if(p&&(h.memoizedState=a,Ve=!0),h=h.queue,Rf(bp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,$a(9,{destroy:void 0},Ep.bind(null,o,h,a,n),null),oe===null)throw Error(r(349));f||(ds&127)!==0||Tp(o,n,a)}return a}function Tp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=Fu(),xt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ep(e,n,a,o){n.value=a,n.getSnapshot=o,Sp(n)&&Ap(e)}function bp(e,n,a){return a(function(){Sp(n)&&Ap(e)})}function Sp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dn(e,a)}catch{return!0}}function Ap(e){var n=Qr(e,2);n!==null&&An(n,e,2)}function Af(e){var n=mn();if(typeof e=="function"){var a=e;if(e=a(),ea){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},n}function wp(e,n,a,o){return e.baseState=a,bf(e,ee,typeof o=="function"?o:ms)}function ab(e,n,a,o,h){if(Xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Rp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=a(h,o),I=F.S;I!==null&&I(p,T),Ip(e,n,T)}catch(z){wf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Ip(e,n,f)}catch(z){wf(e,n,z)}}function Ip(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cp(e,n,o)},function(o){return wf(e,n,o)}):Cp(e,n,a)}function Cp(e,n,a){n.status="fulfilled",n.value=a,xp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rp(e,a)))}function wf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,xp(n),n=n.next;while(n!==o)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Dp(e,n){if(Bt){var a=oe.formState;if(a!==null){t:{var o=xt;if(Bt){if(de){e:{for(var h=de,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=ei(h.nextSibling),o=h.data==="F!";break t}}Qs(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},a.queue=o,a=$p.bind(null,xt,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,xt,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=ab.bind(null,xt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Op(e){var n=we();return Mp(n,ee,e)}function Mp(e,n,a){if(n=bf(e,n,Np)[0],e=Qu(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(p){throw p===Ga?Lu:p}else o=n;n=we();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,$a(9,{destroy:void 0},ob.bind(null,h,a),null)),[o,f,e]}function ob(e,n){e.action=n}function Vp(e){var n=we(),a=ee;if(a!==null)return Mp(n,a,e);we(),n=n.memoizedState,a=we();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function $a(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Fu(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function kp(){return we().memoizedState}function Ku(e,n,a,o){var h=mn();xt.flags|=e,h.memoizedState=$a(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&pf(o,ee.memoizedState.deps)?h.memoizedState=$a(n,f,a,o):(xt.flags|=e,h.memoizedState=$a(1|n,f,a,o))}function Lp(e,n){Ku(8390656,8,e,n)}function Rf(e,n){Yu(2048,8,e,n)}function lb(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Fu(),xt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Up(e){var n=we().memoizedState;return lb({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return Yu(4,2,e,n)}function jp(e,n){return Yu(4,4,e,n)}function zp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,zp.bind(null,n,e),a)}function If(){}function qp(e,n){var a=we();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Hp(e,n){var a=we();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),ea){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(ds&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Fy(),xt.lanes|=e,er|=e,a)}function Fp(e,n,a,o){return Dn(a,n)?a:Ka.current!==null?(e=Cf(e,a,o),Dn(e,n)||(Ve=!0),e):(ds&42)===0||(ds&1073741824)!==0&&(Lt&261930)===0?(Ve=!0,e.memoizedState=a):(e=Fy(),xt.lanes|=e,er|=e,n)}function Gp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,Df(e,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=ib(I,o);dl(e,n,G,Un(e))}else dl(e,n,o,Un(e))}catch($){dl(e,n,{then:function(){},status:"rejected",reason:$},Un())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function ub(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Qp(e).queue;Gp(e,h,n,ht,a===null?ub:function(){return Kp(e),a(o)})}function Qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Qp(e);n.next===null&&(n=e.alternate.memoizedState),dl(e,n.next.queue,{},Un())}function Nf(){return Je(Nl)}function Yp(){return we().memoizedState}function Xp(){return we().memoizedState}function cb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();e=Xs(a);var o=$s(n,e,a);o!==null&&(An(o,n,a),ll(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function hb(e,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Jp(n,a):(a=Kh(e,n,a,o),a!==null&&(An(a,e,o),Zp(a,n,o)))}function $p(e,n,a){var o=Un();dl(e,n,a,o)}function dl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Jp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,p))return xu(e,n,h,0),oe===null&&Cu(),!1}catch{}if(a=Kh(e,n,h,o),a!==null)return An(a,e,o),Zp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(r(479))}else n=Kh(e,a,o,2),n!==null&&An(n,e,2)}function Xu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Jp(e,n){Ya=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Zp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Hn(e,a)}}var ml={readContext:Je,use:Gu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};ml.useEffectEvent=Ee;var Wp={readContext:Je,use:Gu,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:Lp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,zp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=mn();n=n===void 0?null:n;var o=e();if(ea){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=mn();if(a!==void 0){var h=a(n);if(ea){hn(!0);try{a(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=hb.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,a=$p.bind(null,xt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=mn();return Cf(a,e,n)},useTransition:function(){var e=Af(!1);return e=Gp.bind(null,xt,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=xt,h=mn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),oe===null)throw Error(r(349));(Lt&127)!==0||Tp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Lp(bp.bind(null,o,f,e),[e]),o.flags|=2048,$a(9,{destroy:void 0},Ep.bind(null,o,f,a,n),null),a},useId:function(){var e=mn(),n=oe.identifierPrefix;if(Bt){var a=Bi,o=zi;a=(o&~(1<<32-ae(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=sb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,xt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return mn().memoizedState=cb.bind(null,xt)},useEffectEvent:function(e){var n=mn(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:Je,use:Gu,useCallback:qp,useContext:Je,useEffect:Rf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:jp,useMemo:Hp,useReducer:Qu,useRef:kp,useState:function(){return Qu(ms)},useDebugValue:If,useDeferredValue:function(e,n){var a=we();return Fp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Qu(ms)[0],n=we().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Nf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var a=we();return wp(a,ee,e,n)},useMemoCache:Ef,useCacheRefresh:Xp};Of.useEffectEvent=Up;var ty={readContext:Je,use:Gu,useCallback:qp,useContext:Je,useEffect:Rf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:jp,useMemo:Hp,useReducer:Sf,useRef:kp,useState:function(){return Sf(ms)},useDebugValue:If,useDeferredValue:function(e,n){var a=we();return ee===null?Cf(a,e,n):Fp(a,ee.memoizedState,e,n)},useTransition:function(){var e=Sf(ms)[0],n=we().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Nf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var a=we();return ee!==null?wp(a,ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Xp};ty.useEffectEvent=Up;function Mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Un(),h=Xs(o);h.payload=n,a!=null&&(h.callback=a),n=$s(e,h,o),n!==null&&(An(n,e,o),ll(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Un(),h=Xs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=$s(e,h,o),n!==null&&(An(n,e,o),ll(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Un(),o=Xs(a);o.tag=2,n!=null&&(o.callback=n),n=$s(e,o,a),n!==null&&(An(n,e,a),ll(n,e,a))}};function ey(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!tl(a,o)||!tl(h,f):!0}function ny(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function na(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){Iu(e)}function sy(e){console.error(e)}function ry(e){Iu(e)}function $u(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,a){return a=Xs(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,n)},a}function oy(e){return e=Xs(e),e.tag=3,e}function ly(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ay(n,a,o),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function fb(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&qa(n,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?lc():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(e,o,h)),!1}throw Error(r(435,a.tag))}return ad(e,o,h),lc(),!1}if(Bt)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(r(422),{cause:o}),il($n(e,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),il($n(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,a),h=kf(e.stateNode,o,h),hf(e,h),be!==4&&(be=2)),!1;var f=Error(r(520),{cause:o});if(f=$n(f,a),bl===null?bl=[f]:bl.push(f),be!==4&&(be=2),n===null)return!0;o=$n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kf(a.stateNode,o,e),hf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),Ve=!1;function Ze(e,n,a,o){n.child=e===null?fp(n,null,a,o):ta(n,e.child,a,o)}function uy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return $r(n),o=yf(e,n,a,p,f,h),T=_f(),e!==null&&!Ve?(vf(e,n,h),gs(e,n,h)):(Bt&&T&&Jh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function cy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(e,n,f,o,h)):(e=Du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(p,o)&&e.ref===n.ref)return gs(e,n,h)}return n.flags|=1,e=us(f,o),e.ref=n.ref,e.return=n,n.child=e}function hy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(tl(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,gs(e,n,h)}return Uf(e,n,a,o,h)}function fy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?gp(n,f):df(),pp(n);else return o=n.lanes=536870912,dy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(n,f.cachePool),gp(n,f),Zs(),n.memoizedState=null):(e!==null&&ku(n,null),df(),Zs());return Ze(e,n,h,a),n.child}function gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(e,n,a,o,h){var f=of();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(n,null),df(),pp(n),e!==null&&qa(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function my(e,n,a){return ta(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,Vn(n),n.memoizedState=null,e}function db(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,gl(null,e);if(gf(n),(e=de)?(e=R_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Fs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Jg(e),a.return=n,n.child=a,$e=n,de=null)):e=null,e===null)throw Qs(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=my(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ve||qa(e,n,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(o=oe,o!==null&&(p=Ci(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Qr(e,p),An(o,e,p),Lf;lc(),n=my(e,n,a)}else e=f.treeContext,de=ei(p.nextSibling),$e=n,Bt=!0,Gs=null,Wn=!1,e!==null&&tp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=us(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return $r(n),a=yf(e,n,a,o,void 0,h),o=_f(),e!==null&&!Ve?(vf(e,n,h),gs(e,n,h)):(Bt&&o&&Jh(n),n.flags|=1,Ze(e,n,a,h),n.child)}function gy(e,n,a,o,h,f){return $r(n),n.updateQueue=null,a=_p(n,o,a,h),yp(e),o=_f(),e!==null&&!Ve?(vf(e,n,f),gs(e,n,f)):(Bt&&o&&Jh(n),n.flags|=1,Ze(e,n,a,f),n.child)}function py(e,n,a,o,h){if($r(n),n.stateNode===null){var f=Pa,p=a.contextType;typeof p=="object"&&p!==null&&(f=Je(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Je(p):Pa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=na(a,T);f.props=I;var z=f.context,G=a.contextType;p=Pa,typeof G=="object"&&G!==null&&(p=Je(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&ny(n,f,o,p),Ys=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),z=n.memoizedState,T||B!==z||Ys?(typeof $=="function"&&(Mf(n,a,$,o),z=n.memoizedState),(I=Ys||ey(n,a,I,o,B,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),p=n.memoizedProps,G=na(a,p),f.props=G,$=n.pendingProps,B=f.context,z=a.contextType,I=Pa,typeof z=="object"&&z!==null&&(I=Je(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==I)&&ny(n,f,o,I),Ys=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var H=n.memoizedState;p!==$||B!==H||Ys||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Mf(n,a,T,o),H=n.memoizedState),(G=Ys||ey(n,a,G,o,B,H,I)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ta(n,e.child,null,h),n.child=ta(n,null,a,h)):Ze(e,n,a,h),n.memoizedState=f.state,e=n.child):e=gs(e,n,h),e}function yy(e,n,a,o){return Yr(),n.flags|=256,Ze(e,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:ap()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ln),e}function _y(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Js(n):Zs(),(e=de)?(e=R_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Fs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Jg(e),a.return=n,n.child=a,$e=n,de=null)):e=null,e===null)throw Qs(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Zs(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Kr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=jf(a),o.childLanes=zf(e,p,a),n.memoizedState=Pf,gl(null,o)):(Js(n),Bf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(Zs(),n.child=e.child,n.flags|=128,n=null):(Zs(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Kr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,ta(n,e.child,null,a),o=n.child,o.memoizedState=jf(a),o.childLanes=zf(e,p,a),n.memoizedState=Pf,n=gl(null,o));else if(Js(n),bd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,il({value:o,source:null,stack:null}),n=qf(e,n,a)}else if(Ve||qa(e,n,a,!1),p=(a&e.childLanes)!==0,Ve||p){if(p=oe,p!==null&&(o=Ci(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Qr(e,o),An(p,e,o),Lf;Ed(T)||lc(),n=qf(e,n,a)}else Ed(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,de=ei(T.nextSibling),$e=n,Bt=!0,Gs=null,Wn=!1,e!==null&&tp(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Zs(),T=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=us(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=us(z,T):(T=Kr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,gl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=jf(a):(h=T.cachePool,h!==null?(I=Oe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ap(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=zf(e,p,a),n.memoizedState=Pf,gl(e.child,o)):(Js(n),a=e.child,e=a.sibling,a=us(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Bf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=On(22,e,null,n),e.lanes=0,e}function qf(e,n,a){return ta(n,e.child,null,a),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,a)}function Hf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Ty(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ae.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,it(Ae,p),Ze(e,n,o,a),o=Bt?nl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,n);else if(e.tag===19)vy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),er|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(qa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=us(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=us(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function mb(e,n,a){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),Ks(n,Oe,e.memoizedState.cache),Yr();break;case 27:case 5:ts(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:Ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(e,n,a):(Js(n),e=gs(e,n,a),e!==null?e.sibling:null);Js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(qa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ty(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,fy(e,n,a,n.pendingProps);case 24:Ks(n,Oe,e.memoizedState.cache)}return gs(e,n,a)}function Ey(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ff(e,a)&&(n.flags&128)===0)return Ve=!1,mb(e,n,a);Ve=(e.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Wg(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Zr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=na(e,o),n.tag=1,n=py(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=uy(null,n,e,o,a);break t}else if(h===x){n.tag=14,n=cy(null,n,e,o,a);break t}}throw n=se(e)||e,Error(r(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=na(o,n.pendingProps),py(e,n,o,h,a);case 3:t:{if(re(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),cl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Ks(n,Oe,o),o!==f.cache&&sf(n,[Oe],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(e,n,o,a);break t}else if(o!==h){h=$n(Error(r(424)),n),il(h),n=yy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=ei(e.firstChild),$e=n,Bt=!0,Gs=null,Wn=!0,a=fp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yr(),o===h){n=gs(e,n,a);break t}Ze(e,n,o,a)}n=n.child}return n;case 26:return Zu(e,n),e===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=gc(St.current).createElement(a),o[he]=n,o[j]=e,We(o,a,e),Ne(o),n.stateNode=o):n.memoizedState=O_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Bt&&(o=n.stateNode=x_(n.type,n.pendingProps,St.current),$e=n,Wn=!0,h=de,ar(n.type)?(Sd=h,de=ei(o.firstChild)):de=h),Ze(e,n,n.pendingProps.children,a),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=de)&&(o=Fb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,$e=n,de=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||Qs(n)),ts(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,rb,null,null,a),Nl._currentValue=h),Zu(e,n),Ze(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=de)&&(a=Gb(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,$e=n,de=null,e=!0):e=!1),e||Qs(n)),null;case 13:return _y(e,n,a);case 4:return re(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ta(n,null,o,a):Ze(e,n,o,a),n.child;case 11:return uy(e,n,n.type,n.pendingProps,a);case 7:return Ze(e,n,n.pendingProps,a),n.child;case 8:return Ze(e,n,n.pendingProps.children,a),n.child;case 12:return Ze(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ks(n,n.type,o.value),Ze(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$r(n),h=Je(h),o=o(h),n.flags|=1,Ze(e,n,o,a),n.child;case 14:return cy(e,n,n.type,n.pendingProps,a);case 15:return hy(e,n,n.type,n.pendingProps,a);case 19:return Ty(e,n,a);case 31:return db(e,n,a);case 22:return fy(e,n,a,n.pendingProps);case 24:return $r(n),o=Je(Oe),e===null?(h=of(),h===null&&(h=oe,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},uf(n),Ks(n,Oe,h)):((e.lanes&a)!==0&&(cf(e,n),cl(n,null,null,a),ul()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ks(n,Oe,o)):(o=f.cache,Ks(n,Oe,o),o!==h.cache&&sf(n,[Oe],a,!0))),Ze(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ps(e){e.flags|=4}function Gf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Wr=Uu,lf}else e.flags&=-16777217}function by(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(n))if(Yy())e.flags|=8192;else throw Wr=Uu,lf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Sa():536870912,e.lanes|=n,to|=n)}function pl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function gb(e,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),fs(Oe),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ba(n)?ps(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ps(n),f!==null?(me(n),by(n,f)):(me(n),Gf(n,h,null,o,a))):f?f!==e.memoizedState?(ps(n),me(n),by(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ps(n),me(n),Gf(n,h,e,o,a)),null;case 27:if(Si(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}e=st.current,Ba(n)?ep(n):(e=x_(h,o,a),n.stateNode=e,ps(n))}return me(n),null;case 5:if(Si(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}if(f=st.current,Ba(n))ep(n);else{var p=gc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[he]=n,f[j]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ps(n)}}return me(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,Ba(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[he]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Qs(n,!0)}else e=gc(e).createTextNode(o),e[he]=n,n.stateNode=e}return me(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ba(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[he]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else a=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[he]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),me(n),null);case 4:return ue(),e===null&&dd(n.stateNode.containerInfo),me(n),null;case 10:return fs(n.type),me(n),null;case 19:if(K(Ae),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)pl(o,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,pl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$g(a,e),a=a.sibling;return it(Ae,Ae.current&1|2),Bt&&cs(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ce()>rc&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return me(n),null}else 2*Ce()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ce(),e.sibling=null,a=Ae.current,it(Ae,h?a&1|2:a&1),Bt&&cs(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return Vn(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Jr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(Oe),me(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function pb(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fs(Oe),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Si(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(r(340));Yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ae),null;case 4:return ue(),null;case 10:return fs(n.type),null;case 22:case 23:return Vn(n),mf(),e!==null&&K(Jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fs(Oe),null;case 25:return null;default:return null}}function Sy(e,n){switch(Zh(n),n.tag){case 3:fs(Oe),ue();break;case 26:case 27:case 5:Si(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:K(Ae);break;case 10:fs(n.type);break;case 22:case 23:Vn(n),mf(),e!==null&&K(Jr);break;case 24:fs(Oe)}}function yl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function Ws(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=a,z=T;try{z()}catch(G){Wt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function Ay(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mp(n,a)}catch(o){Wt(e,e.return,o)}}}function wy(e,n,a){a.props=na(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function _l(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function qi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function Ry(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;Pb(o,e.type,a,n),o[j]=n}catch(h){Wt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ar(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&ar(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,a),e=e.sibling;e!==null;)Yf(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ar(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function Cy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,a),n[he]=e,n[j]=a}catch(f){Wt(e,e.return,f)}}var ys=!1,ke=!1,Xf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function yb(e,n){if(e=e.containerInfo,pd=bc,e=Bg(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,I=-1,z=0,G=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=p+h),$!==f||o!==0&&$.nodeType!==3||(I=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(T=p),B===f&&++G===o&&(I=p),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},bc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=na(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function Ny(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vs(e,a),o&4&&yl(5,a);break;case 1:if(vs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Wt(a,a.return,p)}else{var h=na(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Wt(a,a.return,p)}}o&64&&Ay(a),o&512&&_l(a,a.return);break;case 3:if(vs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mp(e,n)}catch(p){Wt(a,a.return,p)}}break;case 27:n===null&&o&4&&Cy(a);case 26:case 5:vs(e,a),n===null&&o&4&&Ry(a),o&512&&_l(a,a.return);break;case 12:vs(e,a);break;case 31:vs(e,a),o&4&&My(e,a);break;case 13:vs(e,a),o&4&&Vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Rb.bind(null,a),Qb(e,a))));break;case 22:if(o=a.memoizedState!==null||ys,!o){n=n!==null&&n.memoizedState!==null||ke,h=ys;var f=ke;ys=o,(ke=n)&&!f?Ts(e,a,(a.subtreeFlags&8772)!==0):vs(e,a),ys=h,ke=f}break;case 30:break;default:vs(e,a)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Vs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Tn=!1;function _s(e,n,a){for(a=a.child;a!==null;)Oy(e,n,a),a=a.sibling}function Oy(e,n,a){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:ke||qi(a,n),_s(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||qi(a,n);var o=ye,h=Tn;ar(a.type)&&(ye=a.stateNode,Tn=!1),_s(e,n,a),Il(a.stateNode),ye=o,Tn=h;break;case 5:ke||qi(a,n);case 6:if(o=ye,h=Tn,ye=null,_s(e,n,a),ye=o,Tn=h,ye!==null)if(Tn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{ye.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:ye!==null&&(Tn?(e=ye,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),lo(e)):A_(ye,a.stateNode));break;case 4:o=ye,h=Tn,ye=a.stateNode.containerInfo,Tn=!0,_s(e,n,a),ye=o,Tn=h;break;case 0:case 11:case 14:case 15:Ws(2,a,n),ke||Ws(4,a,n),_s(e,n,a);break;case 1:ke||(qi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,n,o)),_s(e,n,a);break;case 21:_s(e,n,a);break;case 22:ke=(o=ke)||a.memoizedState!==null,_s(e,n,a),ke=o;break;default:_s(e,n,a)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(a){Wt(n,n.return,a)}}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(a){Wt(n,n.return,a)}}function _b(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xy),n;default:throw Error(r(435,e.tag))}}function nc(e,n){var a=_b(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Ib.bind(null,e,o);o.then(h,h)}})}function En(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){ye=T.stateNode,Tn=!1;break t}break;case 5:ye=T.stateNode,Tn=!1;break t;case 3:case 4:ye=T.stateNode.containerInfo,Tn=!0;break t}T=T.return}if(ye===null)throw Error(r(160));Oy(f,p,h),ye=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,e),n=n.sibling}var gi=null;function ky(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(n,e),bn(e),o&4&&(Ws(3,e,e.return),yl(3,e),Ws(5,e,e.return));break;case 1:En(n,e),bn(e),o&512&&(ke||a===null||qi(a,a.return)),o&64&&ys&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=gi;if(En(n,e),bn(e),o&512&&(ke||a===null||qi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ge]||f[he]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,a),f[he]=e,Ne(f),o=f;break t;case"link":var p=k_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;case"meta":if(p=k_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[he]=e,Ne(f),o=f}e.stateNode=o}else L_(h,e.type,e.stateNode);else e.stateNode=V_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?L_(h,e.type,e.stateNode):V_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:En(n,e),bn(e),o&512&&(ke||a===null||qi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(En(n,e),bn(e),o&512&&(ke||a===null||qi(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ot){Wt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(En(n,e),bn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(_c=null,h=gi,gi=pc(n.containerInfo),En(n,e),gi=h,bn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}Xf&&(Xf=!1,Ly(e));break;case 4:o=gi,gi=pc(e.stateNode.containerInfo),En(n,e),bn(e),gi=o;break;case 12:En(n,e),bn(e);break;case 31:En(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:En(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=Ce()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=ys,G=ke;if(ys=z||h,ke=G||I,En(n,e),ke=G,ys=z,bn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||ys||ke||ia(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?w_(H,!0):w_(I.stateNode,!1)}catch(ot){Wt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:En(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:En(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);ec(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(vn(p,""),a.flags&=-33);var T=Kf(e);ec(e,T,p);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Kf(e);Yf(e,z,I);break;default:throw Error(r(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(e,n.alternate,n),n=n.sibling}function ia(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),ia(n);break;case 1:qi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),ia(n);break;case 27:Il(n.stateNode);case 26:case 5:qi(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}e=e.sibling}}function Ts(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ts(h,f,a),yl(4,f);break;case 1:if(Ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dp(I[h],T)}catch(z){Wt(o,o.return,z)}}a&&p&64&&Ay(f),_l(f,f.return);break;case 27:Cy(f);case 26:case 5:Ts(h,f,a),a&&o===null&&p&4&&Ry(f),_l(f,f.return);break;case 12:Ts(h,f,a);break;case 31:Ts(h,f,a),a&&p&4&&My(h,f);break;case 13:Ts(h,f,a),a&&p&4&&Vy(h,f);break;case 22:f.memoizedState===null&&Ts(h,f,a),_l(f,f.return);break;case 30:break;default:Ts(h,f,a)}n=n.sibling}}function $f(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e))}function pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(e,n,a,o),n=n.sibling}function Uy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,a,o),h&2048&&yl(9,n);break;case 1:pi(e,n,a,o);break;case 3:pi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){pi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else pi(e,n,a,o);break;case 31:pi(e,n,a,o);break;case 13:pi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,a,o):vl(e,n):f._visibility&2?pi(e,n,a,o):(f._visibility|=2,Ja(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(p,n);break;case 24:pi(e,n,a,o),h&2048&&Jf(n.alternate,n);break;default:pi(e,n,a,o)}}function Ja(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ja(f,p,T,I,h),yl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ja(f,p,T,I,h):vl(f,p):(G._visibility|=2,Ja(f,p,T,I,h)),h&&z&2048&&$f(p.alternate,p);break;case 24:Ja(f,p,T,I,h),h&&z&2048&&Jf(p.alternate,p);break;default:Ja(f,p,T,I,h)}n=n.sibling}}function vl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&$f(o.alternate,o);break;case 24:vl(a,o),h&2048&&Jf(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var Tl=8192;function Za(e,n,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Py(e,n,a),e=e.sibling}function Py(e,n,a){switch(e.tag){case 26:Za(e,n,a),e.flags&Tl&&e.memoizedState!==null&&sS(a,gi,e.memoizedState,e.memoizedProps);break;case 5:Za(e,n,a);break;case 3:case 4:var o=gi;gi=pc(e.stateNode.containerInfo),Za(e,n,a),gi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Tl,Tl=16777216,Za(e,n,a),Tl=o):Za(e,n,a));break;default:Za(e,n,a)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function El(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,By(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zy(e),e=e.sibling}function zy(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Ws(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):El(e);break;default:El(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,By(o,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function By(e,n){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:Ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ke=o;else t:for(a=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(Dy(o),o===a){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var vb={getCacheForType:function(e){var n=Je(Oe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Je(Oe).controller.signal}},Tb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,oe=null,Mt=null,Lt=0,Zt=0,kn=null,tr=!1,Wa=!1,Zf=!1,Es=0,be=0,er=0,sa=0,Wf=0,Ln=0,to=0,bl=null,Sn=null,td=!1,sc=0,qy=0,rc=1/0,ac=null,nr=null,ze=0,ir=null,eo=null,bs=0,ed=0,nd=null,Hy=null,Sl=0,id=null;function Un(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?ud():Aa()}function Fy(){if(Ln===0)if((Lt&536870912)===0||Bt){var e=Ii;Ii<<=1,(Ii&3932160)===0&&(Ii=262144),Ln=e}else Ln=536870912;return e=Mn.current,e!==null&&(e.flags|=32),Ln}function An(e,n,a){(e===oe&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(no(e,0),sr(e,Lt,Ln,!1)),rs(e,a),((Kt&2)===0||e!==oe)&&(e===oe&&((Kt&2)===0&&(sa|=a),be===4&&sr(e,Lt,Ln,!1)),Hi(e))}function Gy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||In(e,n),h=o?Sb(e,n):rd(e,n,!0),f=o;do{if(h===0){Wa&&!o&&sr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Eb(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(no(T,p).flags|=256),p=rd(T,p,!1),p!==2){if(Zf&&!I){T.errorRecoveryDisabledLanes|=f,sa|=f,h=4;break t}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){no(e,0),sr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:sr(o,n,Ln,!tr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-Ce(),10<h)){if(sr(o,n,Ln,!tr),Bn(o,0,!0)!==0)break t;bs=n,o.timeoutHandle=b_(Qy.bind(null,o,a,Sn,ac,td,n,Ln,sa,to,tr,f,"Throttled",-0,0),h);break t}Qy(o,a,Sn,ac,td,n,Ln,sa,to,tr,f,null,-0,0)}}break}while(!0);Hi(e)}function Qy(e,n,a,o,h,f,p,T,I,z,G,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Py(n,f,$);var ot=(f&62914560)===f?sc-Ce():(f&4194048)===f?qy-Ce():0;if(ot=rS($,ot),ot!==null){bs=f,e.cancelPendingCommit=ot(t_.bind(null,e,n,f,a,o,h,p,T,I,G,$,null,B,H)),sr(e,f,p,!z);return}}t_(e,n,f,a,o,h,p,T,I)}function Eb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n,a,o){n&=~Wf,n&=~sa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ae(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&rn(e,a,n)}function oc(){return(Kt&6)===0?(Al(0),!1):!0}function sd(){if(Mt!==null){if(Zt===0)var e=Mt.return;else e=Mt,hs=Xr=null,Tf(e),Qa=null,al=0,e=Mt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Mt=null}}function no(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bs=0,sd(),oe=e,Mt=a=us(e.current,null),Lt=n,Zt=0,kn=null,tr=!1,Wa=In(e,n),Zf=!1,to=Ln=Wf=sa=er=be=0,Sn=bl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ae(o),f=1<<h;n|=e[h],o&=~f}return Es=n,Cu(),a}function Ky(e,n){xt=null,F.H=ml,n===Ga||n===Lu?(n=up(),Zt=3):n===lf?(n=up(),Zt=4):Zt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,Mt===null&&(be=1,$u(e,$n(n,e.current)))}function Yy(){var e=Mn.current;return e===null?!0:(Lt&4194048)===Lt?ti===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===ti:!1}function Xy(){var e=F.H;return F.H=ml,e===null?ml:e}function $y(){var e=F.A;return F.A=vb,e}function lc(){be=4,tr||(Lt&4194048)!==Lt&&Mn.current!==null||(Wa=!0),(er&134217727)===0&&(sa&134217727)===0||oe===null||sr(oe,Lt,Ln,!1)}function rd(e,n,a){var o=Kt;Kt|=2;var h=Xy(),f=$y();(oe!==e||Lt!==n)&&(ac=null,no(e,n)),n=!1;var p=be;t:do try{if(Zt!==0&&Mt!==null){var T=Mt,I=kn;switch(Zt){case 8:sd(),p=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var z=Zt;if(Zt=0,kn=null,io(e,T,I,z),a&&Wa){p=0;break t}break;default:z=Zt,Zt=0,kn=null,io(e,T,I,z)}}bb(),p=be;break}catch(G){Ky(e,G)}while(!0);return n&&e.shellSuspendCounter++,hs=Xr=null,Kt=o,F.H=h,F.A=f,Mt===null&&(oe=null,Lt=0,Cu()),p}function bb(){for(;Mt!==null;)Jy(Mt)}function Sb(e,n){var a=Kt;Kt|=2;var o=Xy(),h=$y();oe!==e||Lt!==n?(ac=null,rc=Ce()+500,no(e,n)):Wa=In(e,n);t:do try{if(Zt!==0&&Mt!==null){n=Mt;var f=kn;e:switch(Zt){case 1:Zt=0,kn=null,io(e,n,f,1);break;case 2:case 9:if(op(f)){Zt=0,kn=null,Zy(n);break}n=function(){Zt!==2&&Zt!==9||oe!==e||(Zt=7),Hi(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:op(f)?(Zt=0,kn=null,Zy(n)):(Zt=0,kn=null,io(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?U_(p):T.stateNode.complete){Zt=0,kn=null;var I=T.sibling;if(I!==null)Mt=I;else{var z=T.return;z!==null?(Mt=z,uc(z)):Mt=null}break e}}Zt=0,kn=null,io(e,n,f,5);break;case 6:Zt=0,kn=null,io(e,n,f,6);break;case 8:sd(),be=6;break t;default:throw Error(r(462))}}Ab();break}catch(G){Ky(e,G)}while(!0);return hs=Xr=null,F.H=o,F.A=h,Kt=a,Mt!==null?0:(oe=null,Lt=0,Cu(),be)}function Ab(){for(;Mt!==null&&!ri();)Jy(Mt)}function Jy(e){var n=Ey(e.alternate,e,Es);e.memoizedProps=e.pendingProps,n===null?uc(e):Mt=n}function Zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gy(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=gy(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Tf(n);default:Sy(a,n),n=Mt=$g(n,Es),n=Ey(a,n,Es)}e.memoizedProps=e.pendingProps,n===null?uc(e):Mt=n}function io(e,n,a,o){hs=Xr=null,Tf(n),Qa=null,al=0;var h=n.return;try{if(fb(e,h,n,a,Lt)){be=1,$u(e,$n(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;be=1,$u(e,$n(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Wa||(Lt&536870912)!==0?e=!1:(tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,tr);return}e=n.return;var a=gb(n.alternate,n,Es);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);be===0&&(be=5)}function Wy(e,n){do{var a=pb(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);be=6,Mt=null}function t_(e,n,a,o,h,f,p,T,I){e.cancelPendingCommit=null;do cc();while(ze!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,Lo(e,a,f,p,T,I),e===oe&&(Mt=oe=null,Lt=0),eo=n,ir=e,bs=a,ed=f,nd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cb(oi,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=Kt,Kt|=4;try{yb(e,n,a)}finally{Kt=p,nt.p=h,F.T=o}}ze=1,e_(),n_(),i_()}}function e_(){if(ze===1){ze=0;var e=ir,n=eo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{ky(n,e);var f=yd,p=Bg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&zg(T.ownerDocument.documentElement,T)){if(I!==null&&Bh(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=T.textContent.length,yt=Math.min(I.start,ot),ie=I.end===void 0?yt:Math.min(I.end,ot);!H.extend&&yt>ie&&(p=ie,ie=yt,yt=p);var k=jg(T,yt),N=jg(T,ie);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),yt>ie?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!pd,yd=pd=null}finally{Kt=h,nt.p=o,F.T=a}}e.current=n,ze=2}}function n_(){if(ze===2){ze=0;var e=ir,n=eo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Ny(e,n.alternate,n)}finally{Kt=h,nt.p=o,F.T=a}}ze=3}}function i_(){if(ze===4||ze===3){ze=0,Ea();var e=ir,n=eo,a=bs,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,eo=ir=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(nr=null),Fn(a),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,nt.p=h}}(bs&3)!==0&&cc(),Hi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===id?Sl++:(Sl=0,id=e):Sl=0,Al(0)}}function s_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sl(n)))}function cc(){return e_(),n_(),i_(),r_()}function r_(){if(ze!==5)return!1;var e=ir,n=ed;ed=0;var a=Fn(bs),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=nd,nd=null;var f=ir,p=bs;if(ze=0,eo=ir=null,bs=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,zy(f.current),Uy(f,f.current,p,a),Kt=T,Al(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(pn,f)}catch{}return!0}finally{nt.p=h,F.T=o,s_(e,n)}}function a_(e,n,a){n=$n(a,n),n=kf(e.stateNode,n,2),e=$s(e,n,2),e!==null&&(rs(e,2),Hi(e))}function Wt(e,n,a){if(e.tag===3)a_(e,e,a);else for(;n!==null;){if(n.tag===3){a_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){e=$n(a,e),a=oy(2),o=$s(n,a,2),o!==null&&(ly(a,o,n,e),rs(o,2),Hi(o));break}}n=n.return}}function ad(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Tb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),e=wb.bind(null,e,n,a),n.then(e,e))}function wb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(Lt&a)===a&&(be===4||be===3&&(Lt&62914560)===Lt&&300>Ce()-sc?(Kt&2)===0&&no(e,0):Wf|=a,to===Lt&&(to=0)),Hi(e)}function o_(e,n){n===0&&(n=Sa()),e=Qr(e,n),e!==null&&(rs(e,n),Hi(e))}function Rb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),o_(e,a)}function Ib(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o_(e,a)}function Cb(e,n){return Et(e,n)}var hc=null,so=null,od=!1,fc=!1,ld=!1,rr=0;function Hi(e){e!==so&&e.next===null&&(so===null?hc=so=e:so=so.next=e),fc=!0,od||(od=!0,Nb())}function Al(e,n){if(!ld&&fc){ld=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=Lt,f=Bn(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||In(o,f)||(a=!0,h_(o,f));o=o.next}while(a);ld=!1}}function xb(){l_()}function l_(){fc=od=!1;var e=0;rr!==0&&zb()&&(e=rr);for(var n=Ce(),a=null,o=hc;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(so=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}ze!==0&&ze!==5||Al(e),rr!==0&&(rr=0)}function u_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ae(f),T=1<<p,I=h[p];I===-1?((T&a)===0||(T&o)!==0)&&(h[p]=ko(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,a=Lt,a=Bn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&zn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||In(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&zn(o),Fn(a)){case 2:case 8:a=Ri;break;case 32:a=oi;break;case 268435456:a=Mr;break;default:a=oi}return o=c_.bind(null,e),a=Et(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&zn(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Lt;return o=Bn(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,n),u_(e,Ce()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,n){if(cc())return null;Gy(e,n,!0)}function Nb(){qb(function(){(Kt&6)!==0?Et(ai,xb):l_()})}function ud(){if(rr===0){var e=Ha;e===0&&(e=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),rr=e}return rr}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function d_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Db(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[j]||null).action),p=o.submitter;p&&(n=(n=p[j]||null)?f_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Li("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rr!==0){var I=p?d_(h,p):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?d_(h,p):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],Ob=hd.toLowerCase(),Mb=hd[0].toUpperCase()+hd.slice(1);mi(Ob,"on"+Mb)}mi(Fg,"onAnimationEnd"),mi(Gg,"onAnimationIteration"),mi(Qg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(X1,"onTransitionRun"),mi($1,"onTransitionStart"),mi(J1,"onTransitionCancel"),mi(Kg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function m_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(T=o[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}}}}function Vt(e,n){var a=n[ut];a===void 0&&(a=n[ut]=new Set);var o=e+"__bubble";a.has(o)||(g_(n,e,2,!1),a.add(o))}function fd(e,n,a){var o=0;n&&(o|=4),g_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[dc]){e[dc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Vb.has(a)||fd(a,!1,e),fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,fd("selectionchange",!1,n))}}function g_(e,n,a,o){switch(F_(n)){case 2:var h=lS;break;case 8:h=uS;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function md(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=xi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}T=T.parentNode}}o=o.return}zs(function(){var z=f,G=Qn(a),$=[];t:{var B=Yg.get(e);if(B!==void 0){var H=Li,ot=e;switch(e){case"keypress":if(zr(a)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":ot="focus",H=qr;break;case"focusout":ot="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fg:case Gg:case Qg:H=yu;break;case Kg:H=E;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ls;break;case"toggle":case"beforetoggle":H=Ct}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),k=yt?B!==null?B+"Capture":null:B;yt=[];for(var N=z,P;N!==null;){var Y=N;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ci(N,k),Y!=null&&yt.push(Rl(N,Y,P))),ie)break;N=N.return}0<yt.length&&(B=new H(B,ot,null,a,G),$.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Qo&&(ot=a.relatedTarget||a.fromElement)&&(xi(ot)||ot[tt]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=z,ot=ot?xi(ot):null,ot!==null&&(ie=c(ot),yt=ot.tag,ot!==ie||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(yt=$o,Y="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ls,Y="onPointerLeave",k="onPointerEnter",N="pointer"),ie=H==null?B:xn(H),P=ot==null?B:xn(ot),B=new yt(Y,N+"leave",H,a,G),B.target=ie,B.relatedTarget=P,Y=null,xi(G)===z&&(yt=new yt(k,N+"enter",ot,a,G),yt.target=P,yt.relatedTarget=ie,Y=yt),ie=Y,H&&ot)e:{for(yt=kb,k=H,N=ot,P=0,Y=k;Y;Y=yt(Y))P++;Y=0;for(var dt=N;dt;dt=yt(dt))Y++;for(;0<P-Y;)k=yt(k),P--;for(;0<Y-P;)N=yt(N),Y--;for(;P--;){if(k===N||N!==null&&k===N.alternate){yt=k;break e}k=yt(k),N=yt(N)}yt=null}else yt=null;H!==null&&p_($,B,H,yt,!1),ot!==null&&ie!==null&&p_($,ie,ot,yt,!0)}}t:{if(B=z?xn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ft=Mg;else if(Dg(B))if(Vg)Ft=Q1;else{Ft=F1;var lt=H1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ia(z.elementType)&&(Ft=Mg):Ft=G1;if(Ft&&(Ft=Ft(e,z))){Og($,Ft,a,G);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(lt=z?xn(z):window,e){case"focusin":(Dg(lt)||lt.contentEditable==="true")&&(ka=lt,qh=z,el=null);break;case"focusout":el=qh=ka=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,qg($,a,G);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":qg($,a,G)}var Nt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Va?Hr(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(ji&&a.locale!=="ko"&&(Va||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Va&&(Nt=Yo()):(ki=G,Ko="value"in ki?ki.value:ki.textContent,Va=!0)),lt=mc(z,Ut),0<lt.length&&(Ut=new Pi(Ut,e,null,a,G),$.push({event:Ut,listeners:lt}),Nt?Ut.data=Nt:(Nt=Ma(a),Nt!==null&&(Ut.data=Nt)))),(Nt=Yn?j1(e,a):z1(e,a))&&(Ut=mc(z,"onBeforeInput"),0<Ut.length&&(lt=new Pi("onBeforeInput","beforeinput",null,a,G),$.push({event:lt,listeners:Ut}),lt.data=Nt)),Db($,e,z,a,G)}m_($,n)})}function Rl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(e,a),h!=null&&o.unshift(Rl(e,h,f)),h=ci(e,n),h!=null&&o.push(Rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function kb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function p_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ci(a,f),z!=null&&p.unshift(Rl(a,z,I))):h||(z=ci(a,f),z!=null&&p.push(Rl(a,z,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var Lb=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(Lb,`
`).replace(Ub,"")}function __(e,n){return n=y_(n),y_(e)===n}function ne(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":Nn(e,"class",o);break;case"tabIndex":Nn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(e,a,o);break;case"style":Go(e,o,f);break;case"data":if(n!=="object"){Nn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ui);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),wa(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,wa(e,a,o))}}function gd(e,n,a,o,h,f){switch(a){case"style":Go(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[j]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):wa(e,a,o)}}}function We(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,f,p,a,null)}}h&&ne(e,n,"srcSet",a.srcSet,a,null),o&&ne(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ne(e,n,o,G,a,null)}}hu(e,f,T,I,z,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ne(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?Ls(e,!!o,n,!1):a!=null&&Ls(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ne(e,n,p,T,a,null)}Us(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,I,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<wl.length;o++)Vt(wl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,z,o,a,null)}return;default:if(Ia(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&gd(e,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ne(e,n,T,o,a,null))}function Pb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ne(e,n,B,H,o,$)}}Ra(e,p,T,I,z,G,f,h);return;case"select":H=p=T=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&ne(e,n,h,f,o,I)}n=T,a=p,o=H,B!=null?Ls(e,!!a,B,!1):!!o!=!!a&&(n!=null?Ls(e,!!a,n,!0):Ls(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ne(e,n,p,h,o,f)}fu(e,B,H);return;case"option":for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ne(e,n,ot,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ne(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ne(e,n,z,B,o,H)}return;default:if(Ia(n)){for(var ie in a)B=a[ie],a.hasOwnProperty(ie)&&B!==void 0&&!o.hasOwnProperty(ie)&&gd(e,n,ie,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||gd(e,n,G,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ne(e,n,$,B,o,H)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&v_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>T)break;var G=I.transferSize,$=I.initiatorType;G&&v_($)&&(I=I.responseEnd,p+=G*(I<T?1:(T-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,yd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function zb(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(Hb)}:b_;function Hb(e){setTimeout(function(){throw e})}function ar(e){return e==="head"}function A_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),lo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ge]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Il(e.ownerDocument.body);a=h}while(a);lo(n)}function w_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ge])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function Gb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ei(e.nextSibling),e===null))return null;return e}function R_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return ei(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function x_(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Vs(e)}var ni=new Map,N_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=nt.d;nt.d={f:Kb,r:Yb,D:Xb,C:$b,L:Jb,m:Zb,X:tS,S:Wb,M:eS};function Kb(){var e=Ss.f(),n=oc();return e||n}function Yb(e){var n=Gn(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):Ss.r(e)}var ro=typeof document>"u"?null:document;function D_(e,n,a){var o=ro;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Xb(e){Ss.D(e),D_("dns-prefetch",e,null)}function $b(e,n){Ss.C(e,n),D_("preconnect",e,n)}function Jb(e,n,a){Ss.L(e,n,a);var o=ro;if(o&&e&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(e)+'"]';var f=h;switch(n){case"style":f=ao(e);break;case"script":f=oo(e)}ni.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cl(f))||n==="script"&&o.querySelector(xl(f))||(n=o.createElement("link"),We(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Zb(e,n){Ss.m(e,n);var a=ro;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oo(e)}if(!ni.has(f)&&(e=A({rel:"modulepreload",href:e},n),ni.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(f)))return}o=a.createElement("link"),We(o,"link",e),Ne(o),a.head.appendChild(o)}}}function Wb(e,n,a){Ss.S(e,n,a);var o=ro;if(o&&e){var h=Ni(o).hoistableStyles,f=ao(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(Cl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ni.get(f))&&Ad(e,a);var I=p=o.createElement("link");Ne(I),We(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function tS(e,n){Ss.X(e,n);var a=ro;if(a&&e){var o=Ni(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(xl(h)),f||(e=A({src:e,async:!0},n),(n=ni.get(h))&&wd(e,n),f=a.createElement("script"),Ne(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eS(e,n){Ss.M(e,n);var a=ro;if(a&&e){var o=Ni(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(xl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&wd(e,n),f=a.createElement("script"),Ne(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,n,a,o){var h=(h=St.current)?pc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ao(a.href),a=Ni(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ao(a.href);var f=Ni(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Cl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(e,a),f||nS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(a),a=Ni(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ao(e){return'href="'+_n(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",a),Ne(n),e.head.appendChild(n))}function oo(e){return'[src="'+_n(e)+'"]'}function xl(e){return"script[async]"+e}function V_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),We(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ao(a.href);var f=e.querySelector(Cl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=M_(a),(h=ni.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),We(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=oo(a.src),(h=e.querySelector(xl(f)))?(n.instance=h,Ne(h),h):(o=a,(h=ni.get(f))&&(o=A({},a),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function k_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ge]||f[he]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function L_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ao(o.href),f=n.querySelector(Cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ne(f);return}f=n.ownerDocument||n,o=M_(o),(h=ni.get(h))&&Ad(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),We(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rd=0;function rS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*jb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(aS,e),Tc=null,vc.call(e))}function aS(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Nl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function oS(e,n,a,o,h,f,p,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function P_(e,n,a,o,h,f,p,T,I,z,G,$){return e=new oS(e,n,a,p,I,z,G,$,T),n=1,f===!0&&(n|=24),f=On(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},uf(f),e}function j_(e){return e?(e=Pa,e):Pa}function z_(e,n,a,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=Xs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=$s(e,o,n),a!==null&&(An(a,e,n),ll(a,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=Qr(e,67108864);n!==null&&An(n,e,67108864),Id(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var n=Un();n=li(n);var a=Qr(e,n);a!==null&&An(a,e,n),Id(e,n)}}var bc=!0;function lS(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Cd(e,n,a,o)}finally{nt.p=f,F.T=h}}function uS(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Cd(e,n,a,o)}finally{nt.p=f,F.T=h}}function Cd(e,n,a,o){if(bc){var h=xd(o);if(h===null)md(e,n,o,Sc,a),G_(e,o);else if(hS(h,e,n,a,o))o.stopPropagation();else if(G_(e,o),n&4&&-1<cS.indexOf(e)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=fn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-ae(p);T.entanglements[1]|=I,p&=~I}Hi(f),(Kt&6)===0&&(rc=Ce()+500,Al(0))}}break;case 31:case 13:T=Qr(f,2),T!==null&&An(T,f,2),oc(),Id(f,2)}if(f=xd(o),f===null&&md(e,n,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,a)}}function xd(e){return e=Qn(e),Nd(e)}var Sc=null;function Nd(e){if(Sc=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wi()){case ai:return 2;case Ri:return 8;case oi:case Or:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var Dd=!1,or=null,lr=null,ur=null,Dl=new Map,Ol=new Map,cr=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,n){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hS(e,n,a,o,h){switch(n){case"focusin":return or=Ml(or,e,n,a,o,h),!0;case"dragenter":return lr=Ml(lr,e,n,a,o,h),!0;case"mouseover":return ur=Ml(ur,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ml(Dl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,e,n,a,o,h)),!0}return!1}function Q_(e){var n=xi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,yn(e.priority,function(){H_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,yn(e.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return n=Gn(a),n!==null&&q_(n),e.blockedOn=a,!1;n.shift()}return!0}function K_(e,n,a){Ac(e)&&a.delete(n)}function fS(){Dd=!1,or!==null&&Ac(or)&&(or=null),lr!==null&&Ac(lr)&&(lr=null),ur!==null&&Ac(ur)&&(ur=null),Dl.forEach(K_),Ol.forEach(K_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fS)))}var Rc=null;function Y_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=Gn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function lo(e){function n(I){return wc(I,e)}or!==null&&wc(or,e),lr!==null&&wc(lr,e),ur!==null&&wc(ur,e),Dl.forEach(n),Ol.forEach(n);for(var a=0;a<cr.length;a++){var o=cr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[j]||null;if(typeof f=="function")p||Y_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[j]||null)T=p.formAction;else if(Nd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Ic.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();z_(a,o,e,n,null,null)},Ic.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;z_(e.current,2,null,e,null,null),oc(),n[tt]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=Aa();e={blockedOn:null,target:e,priority:n};for(var a=0;a<cr.length&&n!==0&&n<cr[a].priority;a++);cr.splice(a,0,e),a===0&&Q_(e)}};var $_=t.version;if($_!=="19.2.3")throw Error(r(527,$_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{pn=Cc.inject(dS),xe=Cc}catch{}}return kl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=iy,f=sy,p=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=P_(e,1,!1,null,null,a,o,null,h,f,p,X_),e[tt]=n.current,dd(e),new Od(n)},kl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=iy,p=sy,T=ry,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=P_(e,1,!0,n,a??null,o,h,I,f,p,T,X_),n.context=j_(null),a=n.current,o=Un(),o=li(o),h=Xs(o),h.callback=null,$s(a,h,o),a=o,n.current.lanes=a,rs(n,a),Hi(n),e[tt]=n.current,dd(e),new Ic(n)},kl.version="19.2.3",kl}var a0;function SS(){if(a0)return kd.exports;a0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=bS(),kd.exports}var AS=SS();const wS=()=>{};var o0={};const Yv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},RS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),r.push(i[b],i[A],i[M],i[Q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Yv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):RS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new IS;const M=c<<2|g>>4;if(r.push(M),y!==64){const Q=g<<4&240|y>>2;if(r.push(Q),A!==64){const X=y<<6&192|A;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(s){const t=Yv(s);return Xv.encodeByteArray(t,!0)},Kc=function(s){return CS(s).replace(/\./g,"")},$v=function(s){try{return Xv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NS=()=>xS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof o0>"u")return;const s=o0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},OS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$v(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return wS()||NS()||DS()||OS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jv=s=>gh()?.emulatorHosts?.[s],MS=s=>{const t=Jv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Zv=()=>gh()?.config,Wv=s=>gh()?.[`_${s}`];class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tT(s){return(await fetch(s,{credentials:"include"})).ok}function kS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Bl={};function LS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?s.emulator.push(t):s.prod.push(t);return s}function US(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let l0=!1;function eT(s,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Bl[s]===t||Bl[s]||l0)return;Bl[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=LS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{l0=!0,d()},M}function b(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=US(r),Q=i("text"),X=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),mt=i("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;g(pt),b(W,rt);const Dt=y();_(vt,mt),pt.append(vt,X,W,Dt),document.body.appendChild(pt)}c?(X.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function jS(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function FS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const GS="FirebaseError";class bi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=GS,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?QS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new bi(l,g,r)}}function QS(s,t){return s.replace(KS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const KS=/\{\$([^}]+)}/g;function YS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function br(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(u0(c)&&u0(d)){if(!br(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function u0(s){return s!==null&&typeof s=="object"}function eu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function XS(s,t){const i=new $S(s,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");JS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}const ZS=1e3,WS=2,tA=14400*1e3,eA=.5;function c0(s,t=ZS,i=WS){const r=t*Math.pow(i,s),l=Math.round(eA*r*(Math.random()-.5)*2);return Math.min(tA,r+l)}function Pe(s){return s&&s._delegate?s._delegate:s}class Ei{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ra="[DEFAULT]";class nA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new VS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sA(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(s){return s===ra?void 0:s}function sA(s){return s.instantiationMode==="EAGER"}class rA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const aA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},oA=Pt.INFO,lA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},uA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=lA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ph{constructor(t){this.name=t,this._logLevel=oA,this._logHandler=uA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const cA=(s,t)=>t.some(i=>s instanceof i);let h0,f0;function hA(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,im=new WeakMap,aT=new WeakMap,zd=new WeakMap,Vm=new WeakMap;function dA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rT.set(i,s)}).catch(()=>{}),Vm.set(t,s),t}function mA(s){if(im.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||aT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function gA(s){sm=s(sm)}function pA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Bd(this),t,...i);return aT.set(r,t.sort?t.sort():[t]),yr(r)}:fA().includes(s)?function(...t){return s.apply(Bd(this),t),yr(rT.get(this))}:function(...t){return yr(s.apply(Bd(this),t))}}function yA(s){return typeof s=="function"?pA(s):(s instanceof IDBTransaction&&mA(s),cA(s,hA())?new Proxy(s,sm):s)}function yr(s){if(s instanceof IDBRequest)return dA(s);if(zd.has(s))return zd.get(s);const t=yA(s);return t!==s&&(zd.set(s,t),Vm.set(t,s)),t}const Bd=s=>Vm.get(s);function oT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=yr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(yr(d.result),_.oldVersion,_.newVersion,yr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],qd=new Map;function d0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=vA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||_A.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return qd.set(t,c),c}gA(s=>({...s,get:(t,i,r)=>d0(t,i)||s.get(t,i,r),has:(t,i)=>!!d0(t,i)||s.has(t,i)}));class TA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function EA(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",m0="0.14.6";const Is=new ph("@firebase/app"),bA="@firebase/app-compat",SA="@firebase/analytics-compat",AA="@firebase/analytics",wA="@firebase/app-check-compat",RA="@firebase/app-check",IA="@firebase/auth",CA="@firebase/auth-compat",xA="@firebase/database",NA="@firebase/data-connect",DA="@firebase/database-compat",OA="@firebase/functions",MA="@firebase/functions-compat",VA="@firebase/installations",kA="@firebase/installations-compat",LA="@firebase/messaging",UA="@firebase/messaging-compat",PA="@firebase/performance",jA="@firebase/performance-compat",zA="@firebase/remote-config",BA="@firebase/remote-config-compat",qA="@firebase/storage",HA="@firebase/storage-compat",FA="@firebase/firestore",GA="@firebase/ai",QA="@firebase/firestore-compat",KA="firebase",YA="12.6.0";const am="[DEFAULT]",XA={[rm]:"fire-core",[bA]:"fire-core-compat",[AA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[wA]:"fire-app-check-compat",[IA]:"fire-auth",[CA]:"fire-auth-compat",[xA]:"fire-rtdb",[NA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[OA]:"fire-fn",[MA]:"fire-fn-compat",[VA]:"fire-iid",[kA]:"fire-iid-compat",[LA]:"fire-fcm",[UA]:"fire-fcm-compat",[PA]:"fire-perf",[jA]:"fire-perf-compat",[zA]:"fire-rc",[BA]:"fire-rc-compat",[qA]:"fire-gcs",[HA]:"fire-gcs-compat",[FA]:"fire-fst",[QA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const Yc=new Map,$A=new Map,om=new Map;function g0(s,t){try{s.container.addComponent(t)}catch(i){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $i(s){const t=s.name;if(om.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const i of Yc.values())g0(i,s);for(const i of $A.values())g0(i,s);return!0}function _a(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function yi(s){return s==null?!1:s.settings!==void 0}const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new ya("app","Firebase",JA);class ZA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const xo=YA;function lT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:am,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw _r.create("bad-app-name",{appName:String(l)});if(i||(i=Zv()),!i)throw _r.create("no-options");const c=Yc.get(l);if(c){if(br(i,c.options)&&br(r,c.config))return c;throw _r.create("duplicate-app",{appName:l})}const d=new rA(l);for(const _ of om.values())d.addComponent(_);const g=new ZA(i,r,d);return Yc.set(l,g),g}function km(s=am){const t=Yc.get(s);if(!t&&s===am&&Zv())return lT();if(!t)throw _r.create("no-app",{appName:s});return t}function si(s,t,i){let r=XA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}$i(new Ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const WA="firebase-heartbeat-database",tw=1,Kl="firebase-heartbeat-store";let Hd=null;function uT(){return Hd||(Hd=oT(WA,tw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function ew(s){try{const i=(await uT()).transaction(Kl),r=await i.objectStore(Kl).get(cT(s));return await i.done,r}catch(t){if(t instanceof bi)Is.warn(t.message);else{const i=_r.create("idb-get",{originalErrorMessage:t?.message});Is.warn(i.message)}}}async function p0(s,t){try{const r=(await uT()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(t,cT(s)),await r.done}catch(i){if(i instanceof bi)Is.warn(i.message);else{const r=_r.create("idb-set",{originalErrorMessage:i?.message});Is.warn(r.message)}}}function cT(s){return`${s.name}!${s.options.appId}`}const nw=1024,iw=30;class sw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>iw){const l=ow(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:i,unsentEntries:r}=rw(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Is.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function rw(s,t=nw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class aw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ew(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function ow(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function lw(s){$i(new Ei("platform-logger",t=>new TA(t),"PRIVATE")),$i(new Ei("heartbeat",t=>new sw(t),"PRIVATE")),si(rm,m0,s),si(rm,m0,"esm2020"),si("fire-js","")}lw("");var uw="firebase",cw="12.7.0";si(uw,cw,"app");const hT="@firebase/installations",Lm="0.6.19";const fT=1e4,dT=`w:${Lm}`,mT="FIS_v2",hw="https://firebaseinstallations.googleapis.com/v1",fw=3600*1e3,dw="installations",mw="Installations";const gw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fa=new ya(dw,mw,gw);function gT(s){return s instanceof bi&&s.code.includes("request-failed")}function pT({projectId:s}){return`${hw}/projects/${s}/installations`}function yT(s){return{token:s.token,requestStatus:2,expiresIn:yw(s.expiresIn),creationTime:Date.now()}}async function _T(s,t){const r=(await t.json()).error;return fa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function pw(s,{refreshToken:t}){const i=vT(s);return i.append("Authorization",_w(t)),i}async function TT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function yw(s){return Number(s.replace("s","000"))}function _w(s){return`${mT} ${s}`}async function vw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=pT(s),l=vT(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:mT,appId:s.appId,sdkVersion:dT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await TT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:yT(y.authToken)}}else throw await _T("Create Installation",_)}function ET(s){return new Promise(t=>{setTimeout(t,s)})}function Tw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const Ew=/^[cdef][\w-]{21}$/,lm="";function bw(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Sw(s);return Ew.test(i)?i:lm}catch{return lm}}function Sw(s){return Tw(s).substr(0,22)}function yh(s){return`${s.appName}!${s.appId}`}const bT=new Map;function ST(s,t){const i=yh(s);AT(i,t),Aw(i,t)}function AT(s,t){const i=bT.get(s);if(i)for(const r of i)r(t)}function Aw(s,t){const i=ww();i&&i.postMessage({key:s,fid:t}),Rw()}let aa=null;function ww(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=s=>{AT(s.data.key,s.data.fid)}),aa}function Rw(){bT.size===0&&aa&&(aa.close(),aa=null)}const Iw="firebase-installations-database",Cw=1,da="firebase-installations-store";let Fd=null;function Um(){return Fd||(Fd=oT(Iw,Cw,{upgrade:(s,t)=>{t===0&&s.createObjectStore(da)}})),Fd}async function Xc(s,t){const i=yh(s),l=(await Um()).transaction(da,"readwrite"),c=l.objectStore(da),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&ST(s,t.fid),t}async function wT(s){const t=yh(s),r=(await Um()).transaction(da,"readwrite");await r.objectStore(da).delete(t),await r.done}async function _h(s,t){const i=yh(s),l=(await Um()).transaction(da,"readwrite"),c=l.objectStore(da),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&ST(s,g.fid),g}async function Pm(s){let t;const i=await _h(s.appConfig,r=>{const l=xw(r),c=Nw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===lm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function xw(s){const t=s||{fid:bw(),registrationStatus:0};return RT(t)}function Nw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(fa.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Dw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Ow(s)}:{installationEntry:t}}async function Dw(s,t){try{const i=await vw(s,t);return Xc(s.appConfig,i)}catch(i){throw gT(i)&&i.customData.serverCode===409?await wT(s.appConfig):await Xc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Ow(s){let t=await v0(s.appConfig);for(;t.registrationStatus===1;)await ET(100),t=await v0(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Pm(s);return r||i}return t}function v0(s){return _h(s,t=>{if(!t)throw fa.create("installation-not-found");return RT(t)})}function RT(s){return Mw(s)?{fid:s.fid,registrationStatus:0}:s}function Mw(s){return s.registrationStatus===1&&s.registrationTime+fT<Date.now()}async function Vw({appConfig:s,heartbeatServiceProvider:t},i){const r=kw(s,i),l=pw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:dT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await TT(()=>fetch(r,g));if(_.ok){const y=await _.json();return yT(y)}else throw await _T("Generate Auth Token",_)}function kw(s,{fid:t}){return`${pT(s)}/${t}/authTokens:generate`}async function jm(s,t=!1){let i;const r=await _h(s.appConfig,c=>{if(!IT(c))throw fa.create("not-registered");const d=c.authToken;if(!t&&Pw(d))return c;if(d.requestStatus===1)return i=Lw(s,t),c;{if(!navigator.onLine)throw fa.create("app-offline");const g=zw(c);return i=Uw(s,g),g}});return i?await i:r.authToken}async function Lw(s,t){let i=await T0(s.appConfig);for(;i.authToken.requestStatus===1;)await ET(100),i=await T0(s.appConfig);const r=i.authToken;return r.requestStatus===0?jm(s,t):r}function T0(s){return _h(s,t=>{if(!IT(t))throw fa.create("not-registered");const i=t.authToken;return Bw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Uw(s,t){try{const i=await Vw(s,t),r={...t,authToken:i};return await Xc(s.appConfig,r),i}catch(i){if(gT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await wT(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Xc(s.appConfig,r)}throw i}}function IT(s){return s!==void 0&&s.registrationStatus===2}function Pw(s){return s.requestStatus===2&&!jw(s)}function jw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+fw}function zw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function Bw(s){return s.requestStatus===1&&s.requestTime+fT<Date.now()}async function qw(s){const t=s,{installationEntry:i,registrationPromise:r}=await Pm(t);return r?r.catch(console.error):jm(t).catch(console.error),i.fid}async function Hw(s,t=!1){const i=s;return await Fw(i),(await jm(i,t)).token}async function Fw(s){const{registrationPromise:t}=await Pm(s);t&&await t}function Gw(s){if(!s||!s.options)throw Gd("App Configuration");if(!s.name)throw Gd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Gd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Gd(s){return fa.create("missing-app-config-values",{valueName:s})}const CT="installations",Qw="installations-internal",Kw=s=>{const t=s.getProvider("app").getImmediate(),i=Gw(t),r=_a(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Yw=s=>{const t=s.getProvider("app").getImmediate(),i=_a(t,CT).getImmediate();return{getId:()=>qw(i),getToken:l=>Hw(i,l)}};function Xw(){$i(new Ei(CT,Kw,"PUBLIC")),$i(new Ei(Qw,Yw,"PRIVATE"))}Xw();si(hT,Lm);si(hT,Lm,"esm2020");const $c="analytics",$w="firebase_id",Jw="origin",Zw=60*1e3,Ww="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zm="https://www.googletagmanager.com/gtag/js";const gn=new ph("@firebase/analytics");const t2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new ya("analytics","Analytics",t2);function e2(s){if(!s.startsWith(zm)){const t=jn.create("invalid-gtag-resource",{gtagURL:s});return gn.warn(t.message),""}return s}function xT(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function n2(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function i2(s,t){const i=n2("firebase-js-sdk-policy",{createScriptURL:e2}),r=document.createElement("script"),l=`${zm}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function s2(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function r2(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await xT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){gn.error(g)}s("config",l,c)}async function a2(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await xT(i);for(const _ of d){const y=g.find(A=>A.measurementId===_),b=y&&t[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){gn.error(c)}}function o2(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await a2(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await r2(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){gn.error(g)}}return l}function l2(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=o2(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function u2(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(zm)&&i.src.includes(s))return i;return null}const c2=30,h2=1e3;class f2{constructor(t={},i=h2){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const NT=new f2;function d2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function m2(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:d2(i)},l=Ww.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function g2(s,t=NT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw jn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw jn.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new _2;return setTimeout(async()=>{g.abort()},Zw),DT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function DT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=NT){const{appId:c,measurementId:d}=s;try{await p2(r,t)}catch(g){if(d)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await m2(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!y2(_)){if(l.deleteThrottleMetadata(c),d)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?c0(i,l.intervalMillis,c2):c0(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,b),gn.debug(`Calling attemptFetch again in ${y} millis`),DT(s,b,r,l)}}function p2(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(jn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function y2(s){if(!(s instanceof bi)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class _2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function v2(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function T2(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function E2(){if(iT())try{await sT()}catch(s){return gn.warn(jn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return gn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b2(s,t,i,r,l,c,d){const g=g2(s);g.then(M=>{i[M.measurementId]=M.appId,s.options.measurementId&&M.measurementId!==s.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>gn.error(M)),t.push(g);const _=E2().then(M=>{if(M)return r.getId()}),[y,b]=await Promise.all([g,_]);u2(c)||i2(c,y.measurementId),l("js",new Date);const A=d?.config??{};return A[Jw]="firebase",A.update=!0,b!=null&&(A[$w]=b),l("config",y.measurementId,A),y.measurementId}class S2{constructor(t){this.app=t}_delete(){return delete mo[this.app.options.appId],Promise.resolve()}}let mo={},E0=[];const b0={};let Qd="dataLayer",A2="gtag",S0,Bm,A0=!1;function w2(){const s=[];if(nT()&&s.push("This is a browser extension environment."),FS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=jn.create("invalid-analytics-context",{errorInfo:t});gn.warn(i.message)}}function R2(s,t,i){w2();const r=s.options.appId;if(!r)throw jn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(mo[r]!=null)throw jn.create("already-exists",{id:r});if(!A0){s2(Qd);const{wrappedGtag:c,gtagCore:d}=l2(mo,E0,b0,Qd,A2);Bm=c,S0=d,A0=!0}return mo[r]=b2(s,E0,b0,t,S0,Qd,i),new S2(s)}function I2(s=km()){s=Pe(s);const t=_a(s,$c);return t.isInitialized()?t.getImmediate():C2(s)}function C2(s,t={}){const i=_a(s,$c);if(i.isInitialized()){const l=i.getImmediate();if(br(t,i.getOptions()))return l;throw jn.create("already-initialized")}return i.initialize({options:t})}function x2(s,t,i){s=Pe(s),T2(Bm,mo[s.app.options.appId],t,i).catch(r=>gn.error(r))}function N2(s,t,i,r){s=Pe(s),v2(Bm,mo[s.app.options.appId],t,i,r).catch(l=>gn.error(l))}const w0="@firebase/analytics",R0="0.10.19";function D2(){$i(new Ei($c,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return R2(r,l,i)},"PUBLIC")),$i(new Ei("analytics-internal",s,"PRIVATE")),si(w0,R0),si(w0,R0,"esm2020");function s(t){try{const i=t.getProvider($c).getImmediate();return{logEvent:(r,l,c)=>N2(i,r,l,c),setUserProperties:(r,l)=>x2(i,r,l)}}catch(i){throw jn.create("interop-component-reg-failed",{reason:i})}}}D2();function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O2=OT,MT=new ya("auth","Firebase",OT());const Jc=new ph("@firebase/auth");function M2(s,...t){Jc.logLevel<=Pt.WARN&&Jc.warn(`Auth (${xo}): ${s}`,...t)}function Uc(s,...t){Jc.logLevel<=Pt.ERROR&&Jc.error(`Auth (${xo}): ${s}`,...t)}function Ji(s,...t){throw Hm(s,...t)}function vi(s,...t){return Hm(s,...t)}function qm(s,t,i){const r={...O2(),[t]:i};return new ya("auth","Firebase",r).create(t,{appName:s.name})}function ua(s){return qm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ji(s,"argument-error"),qm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return MT.create(s,...t)}function bt(s,t,...i){if(!s)throw Hm(t,...i)}function ws(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Uc(t),new Error(t)}function Cs(s,t){s||ws(t)}function um(){return typeof self<"u"&&self.location?.href||""}function k2(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function L2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||nT()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Cs(i>t,"Short delay should be less than long delay!"),this.isMobile=PS()||BS()}get(){return L2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(s,t){Cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class VT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z2=new nu(3e4,6e4);function Gm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function No(s,t,i,r,l={}){return kT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=eu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return zS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Co(s.emulatorConfig.host)&&(y.credentials="include"),VT.fetch()(await LT(s,s.config.apiHost,i,g),y)})}async function kT(s,t,i){s._canInitEmulator=!1;const r={...P2,...t};try{const l=new q2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qm(s,b,y);Ji(s,b)}}catch(l){if(l instanceof bi)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function B2(s,t,i,r,l={}){const c=await No(s,t,i,r,l);return"mfaPendingCredential"in c&&Ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function LT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Fm(s.config,l):`${s.config.apiScheme}://${l}`;return j2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),z2.get())})}}function xc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=vi(s,t,r);return l.customData._tokenResponse=i,l}async function H2(s,t){return No(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return No(s,"POST","/v1/accounts:lookup",t)}function ql(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F2(s,t=!1){const i=Pe(s),r=await i.getIdToken(t),l=Qm(r);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:ql(Kd(l.auth_time)),issuedAtTime:ql(Kd(l.iat)),expirationTime:ql(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Qm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C0(s){const t=Qm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Yl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof bi&&G2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function G2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Q2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const t=s.auth,i=await s.getIdToken(),r=await Yl(s,Zc(t,{idToken:i}));bt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?UT(l.providerUserInfo):[],d=Y2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function K2(s){const t=Pe(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function UT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function X2(s,t){const i=await kT(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await LT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Co(s.emulatorConfig.host)&&(_.credentials="include"),VT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $2(s,t){return No(s,"POST","/v2/accounts:revokeToken",Gm(s,t))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):C0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=C0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await X2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new go;return r&&(bt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ws("not implemented")}}function fr(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class _i{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return F2(this,t)}reload(){return K2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new _i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(ua(this.auth));const t=await this.getIdToken();return await Yl(this,H2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:X,stsTokenManager:rt}=i;bt(A&&rt,t,"internal-error");const W=go.fromJSON(this.name,rt);bt(typeof A=="string",t,"internal-error"),fr(r,t.name),fr(l,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof Q=="boolean",t,"internal-error"),fr(c,t.name),fr(d,t.name),fr(g,t.name),fr(_,t.name),fr(y,t.name),fr(b,t.name);const mt=new _i({uid:A,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:b});return X&&Array.isArray(X)&&(mt.providerData=X.map(vt=>({...vt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new go;l.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?UT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new go;g.updateFromIdToken(r);const _=new _i({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const x0=new Map;function Rs(s){Cs(s instanceof Function,"Expected a class definition");let t=x0.get(s);return t?(Cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,x0.set(s,t),t)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}PT.type="NONE";const N0=PT;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class po{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new po(Rs(N0),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Rs(N0);const d=Pc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Zc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await _i._fromGetAccountInfoResponse(t,M,b)}else A=_i._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new po(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new po(c,t,r))}}function D0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FT(t))return"Blackberry";if(GT(t))return"Webos";if(zT(t))return"Safari";if((t.includes("chrome/")||BT(t))&&!t.includes("edge/"))return"Chrome";if(HT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function jT(s=cn()){return/firefox\//i.test(s)}function zT(s=cn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function BT(s=cn()){return/crios\//i.test(s)}function qT(s=cn()){return/iemobile/i.test(s)}function HT(s=cn()){return/android/i.test(s)}function FT(s=cn()){return/blackberry/i.test(s)}function GT(s=cn()){return/webos/i.test(s)}function Km(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function J2(s=cn()){return Km(s)&&!!window.navigator?.standalone}function Z2(){return qS()&&document.documentMode===10}function QT(s=cn()){return Km(s)||HT(s)||GT(s)||FT(s)||/windows phone/i.test(s)||qT(s)}function KT(s,t=[]){let i;switch(s){case"Browser":i=D0(cn());break;case"Worker":i=`${D0(cn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${xo}/${r}`}class W2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tR(s,t={}){return No(s,"GET","/v2/passwordPolicy",Gm(s,t))}const eR=6;class nR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),r=await _i._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yi(this.app))return Promise.reject(ua(this));const i=t?Pe(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yi(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tR(this),i=new nR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ya("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await $2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Rs(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&M2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vh(s){return Pe(s)}class O0{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(s){Ym=s}function rR(s){return Ym.loadJS(s)}function aR(){return Ym.gapiScript}function oR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function lR(s,t){const i=_a(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(br(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function uR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function cR(s,t,i){const r=vh(s);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=YT(t),{host:d,port:g}=hR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(br(y,r.config.emulator)&&br(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Co(d)?(tT(`${c}//${d}${_}`),eT("Auth",!0)):fR()}function YT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function hR(s){const t=YT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:M0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:M0(d)}}}function M0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function fR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class XT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ws("not implemented")}_getIdTokenResponse(t){return ws("not implemented")}_linkToIdToken(t,i){return ws("not implemented")}_getReauthenticationResolver(t){return ws("not implemented")}}async function yo(s,t){return B2(s,"POST","/v1/accounts:signInWithIdp",Gm(s,t))}const dR="http://localhost";class ma extends XT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ma(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return yo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,yo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,yo(t,i)}buildRequest(){const t={requestUri:dR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=eu(i)}return t}}class Xm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class dr extends iu{constructor(){super("facebook.com")}static credential(t){return ma._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class As extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ma._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return As.credential(i,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class mr extends iu{constructor(){super("github.com")}static credential(t){return ma._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class gr extends iu{constructor(){super("twitter.com")}static credential(t,i){return ma._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return gr.credential(i,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await _i._fromIdTokenResponse(t,r,l),d=V0(r);return new To({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=V0(r);return new To({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function V0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends bi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new th(t,i,r,l)}}function $T(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,t,r):c})}async function mR(s,t,i=!1){const r=await Yl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return To._forOperation(s,"link",r)}async function gR(s,t,i=!1){const{auth:r}=s;if(yi(r.app))return Promise.reject(ua(r));const l="reauthenticate";try{const c=await Yl(s,$T(r,l,t,s),i);bt(c.idToken,r,"internal-error");const d=Qm(c.idToken);bt(d,r,"internal-error");const{sub:g}=d;return bt(s.uid===g,r,"user-mismatch"),To._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ji(r,"user-mismatch"),c}}async function pR(s,t,i=!1){if(yi(s.app))return Promise.reject(ua(s));const r="signIn",l=await $T(s,r,t),c=await To._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function yR(s,t,i,r){return Pe(s).onIdTokenChanged(t,i,r)}function _R(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function vR(s,t,i,r){return Pe(s).onAuthStateChanged(t,i,r)}function k0(s){return Pe(s).signOut()}const eh="__sak";class JT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TR=1e3,ER=10;class ZT extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Z2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ER):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZT.type="LOCAL";const bR=ZT;class WT extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}WT.type="SESSION";const tE=WT;function SR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Th(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await SR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function $m(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class AR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=$m("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function wR(s){Gi().location.href=s}function eE(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function RR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function CR(){return eE()?self:null}const nE="firebaseLocalStorageDb",xR=1,nh="firebaseLocalStorage",iE="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function NR(){const s=indexedDB.deleteDatabase(nE);return new su(s).toPromise()}function hm(){const s=indexedDB.open(nE,xR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nh,{keyPath:iE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nh)?t(r):(r.close(),await NR(),t(await hm()))})})}async function L0(s,t,i){const r=Eh(s,!0).put({[iE]:t,value:i});return new su(r).toPromise()}async function DR(s,t){const i=Eh(s,!1).get(t),r=await new su(i).toPromise();return r===void 0?null:r.value}function U0(s,t){const i=Eh(s,!0).delete(t);return new su(i).toPromise()}const OR=800,MR=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>MR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(CR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new AR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await L0(t,eh,"1"),await U0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>L0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>DR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>U0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new su(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const VR=sE;new nu(3e4,6e4);function rE(s,t){return t?Rs(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Jm extends XT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return yo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kR(s){return pR(s.auth,new Jm(s),s.bypassAuthState)}function LR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),gR(i,new Jm(s),s.bypassAuthState)}async function UR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),mR(i,new Jm(s),s.bypassAuthState)}class aE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kR;case"linkViaPopup":case"linkViaRedirect":return UR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:Ji(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PR=new nu(2e3,1e4);async function jR(s,t,i){if(yi(s.app))return Promise.reject(vi(s,"operation-not-supported-in-this-environment"));const r=vh(s);V2(s,t,Xm);const l=rE(r,i);return new oa(r,"signInViaPopup",t,l).executeNotNull()}class oa extends aE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PR.get())};t()}}oa.currentPopupAction=null;const zR="pendingRedirect",jc=new Map;class BR extends aE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const r=await qR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qR(s,t){const i=GR(t),r=FR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function HR(s,t){jc.set(s._key(),t)}function FR(s){return Rs(s._redirectPersistence)}function GR(s){return Pc(zR,s.config.apiKey,s.name)}async function QR(s,t,i=!1){if(yi(s.app))return Promise.reject(ua(s));const r=vh(s),l=rE(r,t),d=await new BR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const KR=600*1e3;class YR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!oE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(t))}saveEventToCache(t){this.cachedEventUids.add(P0(t)),this.lastProcessedEventTime=Date.now()}}function P0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function oE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function XR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(s);default:return!1}}async function $R(s,t={}){return No(s,"GET","/v1/projects",t)}const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function WR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await $R(s);for(const i of t)try{if(tI(i))return}catch{}Ji(s,"unauthorized-domain")}function tI(s){const t=um(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ZR.test(i))return!1;if(JR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const eI=new nu(3e4,6e4);function j0(){const s=Gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function nI(s){return new Promise((t,i)=>{function r(){j0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{j0(),i(vi(s,"network-request-failed"))},timeout:eI.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const l=oR("iframefcb");return Gi()[l]=()=>{gapi.load?r():i(vi(s,"network-request-failed"))},rR(`${aR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function iI(s){return zc=zc||nI(s),zc}const sI=new nu(5e3,15e3),rI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Fm(t,aI):`https://${s.config.authDomain}/${rI}`,r={apiKey:t.apiKey,appName:s.name,v:xo},l=lI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${eu(r).slice(1)}`}async function cI(s){const t=await iI(s),i=Gi().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:uI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=vi(s,"network-request-failed"),g=Gi().setTimeout(()=>{c(d)},sI.get());function _(){Gi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",gI="http://localhost";class z0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(s,t,i,r=fI,l=dI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...hI,width:r.toString(),height:l.toString(),top:c,left:d},y=cn().toLowerCase();i&&(g=BT(y)?mI:i),jT(y)&&(t=t||gI,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[Q,X])=>`${M}${Q}=${X},`,"");if(J2(y)&&g!=="_self")return yI(t||"",g),new z0(null);const A=window.open(t||"",g,b);bt(A,s,"popup-blocked");try{A.focus()}catch{}return new z0(A)}function yI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const _I="__/auth/handler",vI="emulator/auth/handler",TI=encodeURIComponent("fac");async function B0(s,t,i,r,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:xo,eventId:l};if(t instanceof Xm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",YS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof iu){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),y=_?`#${TI}=${encodeURIComponent(_)}`:"";return`${EI(s)}?${eu(g).slice(1)}${y}`}function EI({config:s}){return s.emulator?Fm(s,vI):`https://${s.authDomain}/${_I}`}const Yd="webStorageSupport";class bI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=QR,this._overrideRedirectResult=HR}async _openPopup(t,i,r,l){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await B0(t,i,r,um(),l);return pI(t,c,$m())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await B0(t,i,r,um(),l);return wR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await cI(t),r=new YR(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=WR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return QT()||zT()||Km()}}const SI=bI;var q0="@firebase/auth",H0="1.12.0";class AI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(s){$i(new Ei("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(s)},y=new iR(r,l,c,_);return uR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$i(new Ei("auth-internal",t=>{const i=vh(t.getProvider("auth").getImmediate());return(r=>new AI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(q0,H0,wI(s)),si(q0,H0,"esm2020")}const II=300,CI=Wv("authIdTokenMaxAge")||II;let F0=null;const xI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>CI)return;const l=i?.token;F0!==l&&(F0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NI(s=km()){const t=_a(s,"auth");if(t.isInitialized())return t.getImmediate();const i=lR(s,{popupRedirectResolver:SI,persistence:[VR,bR,tE]}),r=Wv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=xI(c.toString());_R(i,d,()=>d(i.currentUser)),yR(i,g=>d(g))}}const l=Jv("auth");return l&&cR(i,`http://${l}`),i}function DI(){return document.getElementsByTagName("head")?.[0]??document}sR({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=vi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",DI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,lE;(function(){var s;function t(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,D,L){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],D=x.g[2];let L=x.g[3],R;R=w+(L^C&(D^L))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(V[D++]=x.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=x[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[w++]=this.g[C]>>>V&255;return x};function c(x,w){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let V=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;V&&L==w||(C[D]=L,V=!1)}this.g=C}var g={};function _(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return W(y(-x));const w=[];let C=1;for(let V=0;x>=C;V++)w[V]=x/C|0,C*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return W(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=A;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var A=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-W(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(X(this))return"0";if(rt(this))return"-"+W(this).toString(x);const w=y(Math.pow(x,6));var C=this;let V="";for(;;){const D=Dt(C,w).g;C=mt(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,X(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function X(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function rt(x){return x.h==-1}s.l=function(x){return x=mt(this,x),rt(x)?-1:X(x)?0:1};function W(x){const w=x.g.length,C=[];for(let V=0;V<w;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}s.abs=function(){return rt(this)?W(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(x.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(x,w){return x.add(W(w))}s.j=function(x){if(X(this)||X(x))return A;if(rt(this))return rt(x)?W(this).j(W(x)):W(W(this).j(x));if(rt(x))return W(this.j(W(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,se=x.i(D)>>>16,Ie=x.i(D)&65535;C[2*V+2*D]+=R*Ie,vt(C,2*V+2*D),C[2*V+2*D+1]+=L*Ie,vt(C,2*V+2*D+1),C[2*V+2*D+1]+=R*se,vt(C,2*V+2*D+1),C[2*V+2*D+2]+=L*se,vt(C,2*V+2*D+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function vt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function pt(x,w){this.g=x,this.h=w}function Dt(x,w){if(X(w))throw Error("division by zero");if(X(x))return new pt(A,A);if(rt(x))return w=Dt(W(x),w),new pt(W(w.g),W(w.h));if(rt(w))return w=Dt(x,W(w)),new pt(W(w.g),w.h);if(x.g.length>30){if(rt(x)||rt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(x)<=0;)C=Yt(C),V=Yt(V);var D=kt(C,1),L=kt(V,1);for(V=kt(V,2),C=kt(C,2);!X(V);){var R=L.add(V);R.l(x)<=0&&(D=D.add(C),L=R),V=kt(V,1),C=kt(C,1)}return w=mt(x,D.j(w)),new pt(D,w)}for(D=A;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),R=L.j(w);rt(R)||R.l(x)>0;)C-=V,L=y(C),R=L.j(w);X(L)&&(L=M),D=D.add(L),x=mt(x,R)}return new pt(D,x)}s.B=function(x){return Dt(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function Yt(x){const w=x.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function kt(x,w){const C=w>>5;w%=32;const V=x.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=w>0?x.i(L+C)>>>w|x.i(L+C+1)<<32-w:x.i(L+C);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,vr=d}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,Ul,cE,Bc,fm,hE,fE,dE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in v))break t;v=v[U]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,U,q){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[U].apply(E,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function X(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=U[et]}else u.push(U)}}class rt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const E=pt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var pt=new rt(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,kt=!1,x=new vt,w=()=>{const u=Promise.resolve(void 0);Yt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=U,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qt(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(v in E)u[v]=E[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=St(u,m,E,U);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!E,U),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var E=u.g[v],U=Array.prototype.indexOf.call(E,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(E,U,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,E){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==E)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),re={};function ue(u,m,v,E,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ue(u,m[q],v,E,U);return null}return v=ss(v),u&&u[Ie]?u.J(m,v,g(E)?!!E.capture:!1,U):ts(u,m,v,!1,E,U)}function ts(u,m,v,E,U,q){if(!m)throw Error("Invalid event type");const et=g(U)?!!U.capture:!!U;let Ct=ns(u);if(Ct||(u[Ot]=Ct=new st(u)),v=Ct.add(m,v,E,et,q),v.proxy)return v;if(E=Si(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)L||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(sn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Si(){function u(v){return m.call(u.src,u.listener,v)}const m=Dr;return u}function Ai(u,m,v,E,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ai(u,m[q],v,E,U);else E=g(E)?!!E.capture:!!E,v=ss(v),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=St(m,v,E,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,E,U)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])Tt(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(sn(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=ns(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ot]=null)):ht(u)}}}function sn(u){return u in re?re[u]:re[u]="on"+u}function Dr(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&es(u),u=v.call(E,m)}return u}function ns(u){return u=u[Ot],u instanceof st?u:null}var is="__closure_events_fn_"+(Math.random()*1e9>>>0);function ss(u){return typeof u=="function"?u:(u[is]||(u[is]=function(m){return u.handleEvent(m)}),u[is])}function _e(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(_e,V),_e.prototype[Ie]=!0,_e.prototype.removeEventListener=function(u,m,v,E){Ai(this,u,m,v,E)};function Et(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(E,u),it(m,U)}U=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],U=zn(q,E,!0,m)&&U;if(q=m.g=u,U=zn(q,E,!0,m)&&U,U=zn(q,E,!1,m)&&U,v)for(et=0;et<v.length;et++)q=m.g=v[et],U=zn(q,E,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)ht(v[E]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},_e.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function zn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const Ct=et.listener,Se=et.ha||et.src;et.fa&&Tt(u.i,et),U=Ct.call(Se,E)!==!1&&U}}return U&&!E.defaultPrevented}function ri(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ea(u){u.g=ri(()=>{u.g=null,u.i&&(u.i=!1,Ea(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ce extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ea(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){V.call(this),this.h=u,this.g={}}A(wi,V);var ai=[];function Ri(u){qt(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}wi.prototype.N=function(){wi.Z.N.call(this),Ri(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,Or=d.JSON.parse,Mr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Vr(){}function Ds(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){D.call(this,"d")}A(xe,D);function hn(){D.call(this,"c")}A(hn,D);var ae={},Os=null;function Ms(){return Os=Os||new _e}ae.Ia="serverreachability";function ba(u){D.call(this,ae.Ia,u)}A(ba,D);function Fe(u){const m=Ms();Et(m,new ba(m))}ae.STAT_EVENT="statevent";function Ii(u,m){D.call(this,ae.STAT_EVENT,u),this.stat=m}A(Ii,D);function Te(u){const m=Ms();Et(m,new Ii(m,u))}ae.Ja="timingevent";function fn(u,m){D.call(this,ae.Ja,u),this.size=m}A(fn,D);function Bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function ko(u,m,v,E,U,q){u.info(function(){if(u.g)if(q){var et="",Ct=q.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var Se=Ct[Qt].split("=");if(Se.length>1){const pe=Se[0];Se=Se[1];const Yn=pe.split("_");et=Yn.length>=2&&Yn[1]=="type"?et+(pe+"="+Se+"&"):et+(pe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function Sa(u,m,v,E,U,q,et){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+et})}function qn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lo(u,v)+(E?" "+E:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function Lo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<E.length;et++)E[et]=""}}}}return oi(q)}catch{return m}}var rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function li(){}A(li,Vr),li.prototype.g=function(){return new XMLHttpRequest},Ci=new li;function Fn(u){return encodeURIComponent(String(u))}function Aa(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function yn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var he={},j={};function tt(u,m,v){u.M=1,u.A=kr(De(m)),u.u=v,u.R=!0,ut(u,null)}function ut(u,m){u.F=Date.now(),Ge(u),u.B=De(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Ia(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Cn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ce(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ai[0]=U.toString()),U=ai);for(let q=0;q<U.length;q++){const et=ue(v,U[q],E||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Fe(),ko(u.i,u.v,u.B,u.l,u.S,u.u)}yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},yn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=hi(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ct!=4||Se==7||(Se==8||Qt<=0?Fe(3):Fe(2)),xi(this);var m=this.g.ca();this.X=m;var v=wt(this);if(this.o=m==200,Sa(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var q=E;break e}}q=null}if(u=q)qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,Te(12),xn(this),Gn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=je(this,v),pe==j){Ct==4&&(this.m=4,Te(14),u=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==he){this.m=4,Te(15),qn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else qn(this.i,this.l,pe,null),Ni(this,pe);if(fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)qn(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(et),et.P=!0,Te(11))}}else qn(this.i,this.l,v,null),Ni(this,v);Ct==4&&xn(this),this.o&&!this.K&&(Ct==4?_u(this.j,this):(this.o=!1,Ge(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),xn(this),Gn(this)}}}catch{}};function wt(u){if(!fe(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const E=m.length,U=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function je(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?j:(v=Number(m.substring(v,E)),isNaN(v)?he:(E+=1,E+v>m.length?j:(m=m.slice(E,E+v),u.C=E+v,m)))}yn.prototype.cancel=function(){this.K=!0,xn(this)};function Ge(u){u.T=Date.now()+u.H,Vs(u,u.H)}function Vs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Bn(y(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(Fe(),Te(17)),xn(this),this.m=2,Gn(this)):Vs(this,this.T-u)};function Gn(u){u.j.I==0||u.K||_u(u.j,u)}function xn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ri(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Oa(v),qs(v);else break t;qr(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Bn(y(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Oa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const pe=Qt[0];if(!(pe<=v.K))if(v.K=pe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Yn=Qt[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const ji=Qt[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const fi=Qt[5];fi!=null&&typeof fi=="number"&&fi>0&&(E=1.5*fi,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const di=u.g;if(di){const Hr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var q=E.h;q.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jo(q,q.h),q.h=null))}if(E.G){const Ma=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(E.wa=Ma,Jt(E.J,E.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var et=u;if(E.na=Eu(E,E.L?E.ba:null,E.W),et.L){zo(E.h,et);var Ct=et,Se=E.O;Se&&(Ct.H=Se),Ct.D&&(xi(Ct),Ge(Ct)),E.g=et}else pu(E);v.i.length>0&&Ui(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Pi(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Pi(v,7):Xo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}Fe(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function Uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let U,q=null;E>=0?(U=u[v].substring(0,E),q=u[v].substring(E+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,Qe(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,qo(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Qe(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),ks(this,m[4]),this.h=Mi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,Ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Ra,!0),"@"),u.push(Fn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Lr(v,v.charAt(0)=="/"?Ho:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Lr(v,fu)),u.join("")},Nn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?Qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let et=0;et<U.length;){const Ct=U[et++];Ct=="."?E&&et==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&et==U.length&&q.push("")):(q.push(Ct),E=!0)}E=q.join("/")}else E=U}return v?m.h=E:v=u.i.toString()!=="",v?qo(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new Nn(u)}function Qe(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,v){m instanceof Us?(u.i=m,Ca(u.i,u.l)):(v||(m=Lr(m,Ls)),u.i=new Us(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function kr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ra=/[#\/\?@]/g,hu=/[#\?:]/g,Ho=/[#\?]/g,Ls=/[#\?@]/g,fu=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Us.prototype,s.add=function(u,m){vn(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){vn(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fo(u,m){return vn(u),m=Ps(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,E){v.forEach(function(U){u.call(m,U,E,this)},this)},this)};function Go(u,m){vn(u);let v=[];if(typeof m=="string")Fo(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=Ps(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Go(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const U=Fn(v);v=Go(this,v);for(let q=0;q<v.length;q++){let et=U;v[q]!==""&&(et+="="+Fn(v[q])),u.push(et)}}return this.i=u.join("&")};function mu(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ca(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,E){const U=E.toLowerCase();E!=U&&(du(this,E),Ia(this,U,v))},u)),u.j=m}function ui(u,m){const v=new In;if(d.Image){const E=new Image;E.onload=b(Qn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Qn,v,"TestLoadImage: error",!1,m,E),E.onabort=b(Qn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Qn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Qo(u,m){const v=new In,E=new AbortController,U=setTimeout(()=>{E.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(U),q.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(v)}catch{}}function js(){this.g=new Mr}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Vi,Vr),Vi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ur,_e),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ci(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return qt(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=Kn(v),typeof u=="string"?v!=null&&Fn(v):Jt(u,m,v))}function te(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,_e);var ki=/^https?$/i,Ko=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){jr(this,q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)v.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())v.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||E||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){jr(this,q)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yo(u),as(u)}function Yo(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Et(this,"complete"),Et(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},s.Xa=function(){zr(this)};function zr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Et(u,"readystatechange"),hi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=q===0){let et=String(u.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),E=!ki.test(et?et.toLowerCase():"")}v=E}if(v)Et(u,"complete"),Et(u,"success");else{u.o=6;try{var U=hi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Yo(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Et(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Or(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var v=Aa(u[E]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Xt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){Te(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=Eu(this,null,this.W),Ui(this)};function Xo(u){if(Na(u),u.I==3){var m=u.V++,v=De(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Br(u,v),m=new yn(u,u.j,m),m.M=2,m.A=kr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ge(m)}Tu(u)}function qs(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function Na(u){qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Yt||w(),kt||(Yt(),kt=!0),x.add(m,u),u.D=0}}function Da(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Bn(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new yn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,U,m),v=De(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Br(this,v),q&&(this.R?m="headers="+Fn(Kn(q))+"&"+m:this.u&&Pr(v,this.u,q)),jo(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,tt(U,v,null)):tt(U,v,m),this.I=2}}else this.I==3&&(u?$o(this,u):this.i.length==0||Po(this.h)||$o(this))};function $o(u,m){var v;m?v=m.l:v=u.V++;const E=De(u.J);Jt(E,"SID",u.M),Jt(E,"RID",v),Jt(E,"AID",u.K),Br(u,E),u.u&&u.o&&Pr(E,u.u,u.o),v=new yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jo(u.h,v),tt(v,E,m)}function Br(u,m){u.H&&qt(u.H,function(v,E){Jt(m,E,v)}),u.l&&qt({},function(v,E){Jt(m,E,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const Se=["count="+v];Ct==-1?v>0?(Ct=U[0].g,Se.push("ofs="+Ct)):Ct=0:Se.push("ofs="+Ct);let Qt=!0;for(let pe=0;pe<v;pe++){var q=U[pe].g;const Yn=U[pe].map;if(q-=Ct,q<0)Ct=Math.max(0,U[pe].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var et=Yn instanceof Map?Yn:Object.entries(Yn);for(const[ji,fi]of et){let di=fi;g(fi)&&(di=oi(fi)),Se.push(q+ji+"="+encodeURIComponent(di))}}catch(ji){throw Se.push(q+"type="+encodeURIComponent("_badmap")),ji}}catch{E&&E(Yn)}}if(Qt){et=Se.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Yt||w(),kt||(Yt(),kt=!0),x.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Bn(y(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Bn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),qs(this),yu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Br(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(De(m)),v.u=null,v.R=!0,ut(v,u)}s.Va=function(){this.C!=null&&(this.C=null,qs(this),qr(this),Te(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){Oa(u),Jo(u),u.g=null;var E=2}else if(Oi(u.h,m))v=m.G,zo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=Ms(),Et(E,new fn(E,v)),Ui(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&Da(u,m)||E==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const U=!E;E=new Nn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qe(E,"https"),kr(E),U?ui(E.toString(),v):Qo(E.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Bo(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var E=v instanceof Nn?De(v):new Nn(v);if(E.g!="")m&&(E.g=m+"."+E.g),ks(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Nn(null);E&&Qe(q,E),m&&(q.g=m),U&&ks(q,U),v&&(q.h=v),E=q}return v=u.G,m=u.wa,v&&m&&Jt(E,v,m),Jt(E,"VER",u.ka),Br(u,E),E}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Vi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){_e.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ls(this)}A(dn,_e),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xo(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=oi(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ui(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,dn.Z.N.call(this)};function Au(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,xe);function wu(){hn.call(this),this.status=1}A(wu,hn);function ls(u){this.g=u}A(ls,Su),ls.prototype.ra=function(){Et(this.g,"a")},ls.prototype.qa=function(u){Et(this.g,new Au(u))},ls.prototype.pa=function(u){Et(this.g,new wu)},ls.prototype.oa=function(){Et(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,dE=function(){return new Hs},fE=function(){return Ms()},hE=ae,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,Bc=rn,Hn.COMPLETE="complete",cE=Hn,Ds.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Ul=Ds,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,uE=te}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",K0="4.9.3";let ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Do="12.7.0";const ga=new ph("@firebase/firestore");function uo(){return ga.logLevel}function at(s,...t){if(ga.logLevel<=Pt.DEBUG){const i=t.map(Zm);ga.debug(`Firestore (${Do}): ${s}`,...i)}}function xs(s,...t){if(ga.logLevel<=Pt.ERROR){const i=t.map(Zm);ga.error(`Firestore (${Do}): ${s}`,...i)}}function Eo(s,...t){if(ga.logLevel<=Pt.WARN){const i=t.map(Zm);ga.warn(`Firestore (${Do}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,mE(s,r,i)}function mE(s,t,i){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw xs(r),new Error(r)}function $t(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||mE(t,l,r)}function It(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends bi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class gE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VI{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ca,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ca)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new gE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class kI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=PI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function jt(s,t){return s<t?-1:s>t?1:0}function dm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Xd(l)===Xd(c)?jt(l,c):Xd(l)?1:-1}return jt(s.length,t.length)}const jI=55296,zI=57343;function Xd(s){const t=s.charCodeAt(0);return t>=jI&&t<=zI}function bo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const X0="__name__";class Fi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Fi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const r=Fi.isNumericId(t),l=Fi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(t).compare(Fi.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vr.fromString(t.substring(4,t.length-2))}}class ge extends Fi{construct(t,i,r){return new ge(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ge(i)}static emptyPath(){return new ge([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fi{construct(t,i,r){return new en(t,i,r)}static isValidIdentifier(t){return BI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new en([X0])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ge.fromString(t))}static fromName(t){return new gt(ge.fromString(t).popFirst(5))}static empty(){return new gt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ge.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ge(t.slice()))}}function pE(s,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qI(s,t,i,r){if(t===!0&&r===!0)throw new ct(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $0(s){if(!gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){if(gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function tg(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Tr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tg(s);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function ru(s,t){if(!yE(s))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const Z0=-62135596800,W0=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*W0);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Z0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ue("string",le._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function HI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new Sr(l,gt.empty(),t)}function FI(s){return new Sr(s.readTime,s.key,Xl)}class Sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Sr(At.min(),gt.empty(),Xl)}static max(){return new Sr(At.max(),gt.empty(),Xl)}}function GI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Oo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==QI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&r(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function YI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Mo(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const eg=-1;function Sh(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function XI(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _E="";function $I(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=tv(t)),t=JI(s.get(i),t);return tv(t)}function JI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case _E:i+="";break;default:i+=c}}return i}function tv(s){return s+_E+""}function ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function xr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function vE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new tn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Pn([])}unionWith(t){let i=new He(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new TE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=ZI.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const EE="server_timestamp",bE="__type__",SE="__previous_value__",AE="__local_write_time__";function ng(s){return(s?.mapValue?.fields||{})[bE]?.stringValue===EE}function Ah(s){const t=s.mapValue.fields[SE];return ng(t)?Ah(t):t}function $l(s){const t=Ar(s.mapValue.fields[AE].timestampValue);return new le(t.seconds,t.nanos)}class WI{constructor(t,i,r,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const sh="(default)";class Jl{constructor(t,i){this.projectId=t,this.database=i||sh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}const wE="__type__",tC="__max__",Oc={mapValue:{}},RE="__vector__",rh="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ng(s)?4:nC(s)?9007199254740991:eC(s)?10:11:_t(28295,{value:s})}function Zi(s,t){if(s===t)return!0;const i=Rr(s);if(i!==Rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return $l(s).isEqual($l(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ar(l.timestampValue),g=Ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return wr(l.bytesValue).isEqual(wr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),g=Re(c.doubleValue);return d===g?ih(d)===ih(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return bo(s.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(d)!==ev(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zi(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Zl(s,t){return(s.values||[]).find((i=>Zi(i,t)))!==void 0}function So(s,t){if(s===t)return 0;const i=Rr(s),r=Rr(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Re(c.integerValue||c.doubleValue),_=Re(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return iv(s.timestampValue,t.timestampValue);case 4:return iv($l(s),$l(t));case 5:return dm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=wr(c),_=wr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=jt(g[y],_[y]);if(b!==0)return b}return jt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(Re(c.latitude),Re(d.latitude));return g!==0?g:jt(Re(c.longitude),Re(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return sv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[rh]?.arrayValue,b=_[rh]?.arrayValue,A=jt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:sv(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const M=dm(_[A],b[A]);if(M!==0)return M;const Q=So(g[_[A]],y[b[A]]);if(Q!==0)return Q}return jt(_.length,b.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=Ar(s),r=Ar(t),l=jt(i.seconds,r.seconds);return l!==0?l:jt(i.nanos,r.nanos)}function sv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=So(i[l],r[l]);if(c)return c}return jt(i.length,r.length)}function Ao(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ar(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function qc(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return xr(r.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function ig(s){return!!s&&"arrayValue"in s}function rv(s){return!!s&&"nullValue"in s}function av(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function eC(s){return(s?.mapValue?.fields||{})[wE]?.stringValue===RE}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Hl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return t}return{...s}}function nC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(i)}setAll(t){let i=en.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Hl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){xr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Rn(Hl(this.value))}}function IE(s){const t=[];return xr(s.fields,((i,r)=>{const l=new en([i]);if(Hc(r)){const c=IE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Pn(t)}class un{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),Rn.empty(),0)}static newFoundDocument(t,i,r,l){return new un(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new un(t,2,i,At.min(),At.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,At.min(),At.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function ov(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=So(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],t.position[i]))return!1;return!0}class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function iC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class CE{}class Be extends CE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new rC(t,i,r):i==="array-contains"?new lC(t,r):i==="in"?new uC(t,r):i==="not-in"?new cC(t,r):i==="array-contains-any"?new hC(t,r):new Be(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new aC(t,r):new oC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(So(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(So(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends CE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wi(t,i)}matches(t){return xE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(s){return s.op==="and"}function NE(s){return sC(s)&&xE(s)}function sC(s){for(const t of s.filters)if(t instanceof Wi)return!1;return!0}function pm(s){if(s instanceof Be)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(NE(s))return s.filters.map((t=>pm(t))).join(",");{const t=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${t})`}}function DE(s,t){return s instanceof Be?(function(r,l){return l instanceof Be&&r.op===l.op&&r.field.isEqual(l.field)&&Zi(r.value,l.value)})(s,t):s instanceof Wi?(function(r,l){return l instanceof Wi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&DE(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function OE(s){return s instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ao(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(OE).join(" ,")+"}"})(s):"Filter"}class rC extends Be{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class aC extends Be{constructor(t,i){super(t,"in",i),this.keys=ME("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class oC extends Be{constructor(t,i){super(t,"not-in",i),this.keys=ME("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ME(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class lC extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ig(i)&&Zl(i.arrayValue,this.value)}}class uC extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class cC extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class hC extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class fC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function uv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new fC(s,t,i,r,l,c,d)}function sg(s){const t=It(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>pm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ao(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ao(r))).join(",")),t.Te=i}return t.Te}function rg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!iC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!DE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!lv(s.startAt,t.startAt)&&lv(s.endAt,t.endAt)}function ym(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dC(s,t,i,r,l,c,d,g){return new wh(s,t,i,r,l,c,d,g)}function ag(s){return new wh(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mC(s){return s.collectionGroup!==null}function Fl(s){const t=It(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new He(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new oh(c,r))})),i.has(en.keyField().canonicalString())||t.Ie.push(new oh(en.keyField(),r))}return t.Ie}function Qi(s){const t=It(s);return t.Ee||(t.Ee=gC(t,Fl(s))),t.Ee}function gC(s,t){if(s.limitType==="F")return uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return uv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function _m(s,t,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return rg(Qi(s),Qi(t))&&s.limitType===t.limitType}function VE(s){return`${sg(Qi(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>OE(l))).join(", ")}]`),Sh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ao(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ao(l))).join(",")),`Target(${r})`})(Qi(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Fl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=ov(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(d,g,_){const y=ov(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Fl(r),l))})(s,t)}function pC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kE(s){return(t,i)=>{let r=!1;for(const l of Fl(s)){const c=yC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function yC(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?So(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class va{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const _C=new ve(gt.comparator);function Ns(){return _C}const LE=new ve(gt.comparator);function Pl(...s){let t=LE;for(const i of s)t=t.insert(i.key,i);return t}function UE(s){let t=LE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function la(){return Gl()}function PE(){return Gl()}function Gl(){return new va((s=>s.toString()),((s,t)=>s.isEqual(t)))}const vC=new ve(gt.comparator),TC=new He(gt.comparator);function zt(...s){let t=TC;for(const i of s)t=t.add(i);return t}const EC=new He(jt);function bC(){return EC}function og(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function jE(s){return{integerValue:""+s}}function SC(s,t){return XI(t)?jE(t):og(s,t)}class Ch{constructor(){this._=void 0}}function AC(s,t,i){return s instanceof lh?(function(l,c){const d={fields:{[bE]:{stringValue:EE},[AE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Ah(c)),c&&(d.fields[SE]=c),{mapValue:d}})(i,t):s instanceof Wl?BE(s,t):s instanceof tu?qE(s,t):(function(l,c){const d=zE(l,c),g=hv(d)+hv(l.Ae);return gm(d)&&gm(l.Ae)?jE(g):og(l.serializer,g)})(s,t)}function wC(s,t,i){return s instanceof Wl?BE(s,t):s instanceof tu?qE(s,t):i}function zE(s,t){return s instanceof uh?(function(r){return gm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class lh extends Ch{}class Wl extends Ch{constructor(t){super(),this.elements=t}}function BE(s,t){const i=HE(t);for(const r of s.elements)i.some((l=>Zi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Ch{constructor(t){super(),this.elements=t}}function qE(s,t){let i=HE(t);for(const r of s.elements)i=i.filter((l=>!Zi(l,r)));return{arrayValue:{values:i}}}class uh extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function hv(s){return Re(s.integerValue||s.doubleValue)}function HE(s){return ig(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function RC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Wl&&l instanceof Wl||r instanceof tu&&l instanceof tu?bo(r.elements,l.elements,Zi):r instanceof uh&&l instanceof uh?Zi(r.Ae,l.Ae):r instanceof lh&&l instanceof lh})(s.transform,t.transform)}class IC{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class xh{}function FE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new lg(s.key,Ti.none()):new au(s.key,s.data,Ti.none());{const i=s.data,r=Rn.empty();let l=new He(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Nr(s.key,r,new Pn(l.toArray()),Ti.none())}}function CC(s,t,i){s instanceof au?(function(l,c,d){const g=l.value.clone(),_=dv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Nr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=dv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(GE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ql(s,t,i,r){return s instanceof au?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const y=c.value.clone(),b=mv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Nr?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const y=mv(c.fieldTransforms,_,d),b=d.data;return b.setAll(GE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function xC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=zE(r.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function fv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&bo(r,l,((c,d)=>RC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends xh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends xh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function dv(s,t,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,wC(d,g,i[l]))}return r}function mv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,AC(c,d,t))}return r}class lg extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&CC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=PE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=FE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,((i,r)=>fv(i,r)))&&bo(this.baseMutations,t.baseMutations,((i,r)=>fv(i,r)))}}class ug{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return vC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ug(t,i,r,l)}}class OC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,Ht;function VC(s){switch(s){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function QE(s){if(s===void 0)return xs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Le.OK:return Z.OK;case Le.CANCELLED:return Z.CANCELLED;case Le.UNKNOWN:return Z.UNKNOWN;case Le.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Le.INTERNAL:return Z.INTERNAL;case Le.UNAVAILABLE:return Z.UNAVAILABLE;case Le.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Le.NOT_FOUND:return Z.NOT_FOUND;case Le.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Le.ABORTED:return Z.ABORTED;case Le.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Le.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:s})}}(Ht=Le||(Le={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function kC(){return new TextEncoder}const LC=new vr([4294967295,4294967295],0);function gv(s){const t=kC().encode(s),i=new lE;return i.update(t),new Uint8Array(i.digest())}function pv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new vr([i,r],0),new vr([l,c],0)]}class cg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=vr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(vr.fromNumber(r)));return l.compare(LC)===1&&(l=new vr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=gv(t),[r,l]=pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new cg(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=gv(t),[r,l]=pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Nh(At.min(),l,new ve(jt),Ns(),zt())}}class ou{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ou(r,i,zt(),zt(),zt())}}class Gc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class KE{constructor(t,i){this.targetId=t,this.Ce=i}}class YE{constructor(t,i,r=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class yv{constructor(){this.ve=0,this.Fe=_v(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=_v()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ns(),this.Je=Mc(),this.He=Mc(),this.Ye=new ve(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(r===0){const d=new gt(c.path);this.et(i,d,un.newNoDocument(d,At.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=wr(r).toUint8Array()}catch(_){if(_ instanceof TE)return Eo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new cg(d,l,c)}catch(_){return Eo(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const _=new gt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,un.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Nh(t,i,this.Ye,this.je,r);return this.je=Ns(),this.Je=Mc(),this.He=Mc(),this.Ye=new ve(jt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new yv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new He(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new He(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ve(gt.comparator)}function _v(){return new ve(gt.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},jC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"};class BC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(s,t){return s.useProto3Json||Sh(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function qC(s,t){return ch(s,t.toTimestamp())}function Ki(s){return $t(!!s,49232),At.fromTimestamp((function(i){const r=Ar(i);return new le(r.seconds,r.nanos)})(s))}function hg(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const i=(function(l){return new ge(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function $E(s){const t=ge.fromString(s);return $t(e1(t),10190,{key:t.toString()}),t}function Em(s,t){return hg(s.databaseId,t.path)}function $d(s,t){const i=$E(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(ZE(i))}function JE(s,t){return hg(s.databaseId,t)}function HC(s){const t=$E(s);return t.length===4?ge.emptyPath():ZE(t)}function bm(s){return new ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ZE(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vv(s,t,i){return{name:Em(s,t),fields:i.value.mapValue.fields}}function FC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?($t(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:QE(y.code);return new ct(b,y.message||"")})(d);i=new YE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=$d(s,r.document.name),c=Ki(r.document.updateTime),d=r.document.createTime?Ki(r.document.createTime):At.min(),g=new Rn({mapValue:{fields:r.document.fields}}),_=un.newFoundDocument(l,c,d,g),y=r.targetIds||[],b=r.removedTargetIds||[];i=new Gc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=$d(s,r.document),c=r.readTime?Ki(r.readTime):At.min(),d=un.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Gc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=$d(s,r.document),c=r.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new MC(l,c),g=r.targetId;i=new KE(g,d)}}return i}function GC(s,t){let i;if(t instanceof au)i={update:vv(s,t.key,t.value)};else if(t instanceof lg)i={delete:Em(s,t.key)};else if(t instanceof Nr)i={update:vv(s,t.key,t.data),updateMask:tx(t.fieldMask)};else{if(!(t instanceof NC))return _t(16599,{Vt:t.type});i={verify:Em(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function QC(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ki(l.updateTime):Ki(c);return d.isEqual(At.min())&&(d=Ki(c)),new IC(d,l.transformResults||[])})(i,t)))):[]}function KC(s,t){return{documents:[JE(s,t.path)]}}function YC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=JE(s,l);const c=(function(y){if(y.length!==0)return t1(Wi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:ho(M.field),direction:JC(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function XC(s){let t=HC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$t(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=WE(A);return M instanceof Wi&&NE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(X){return new oh(fo(X.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,Sh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,Q=A.values||[];return new ah(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,Q=A.values||[];return new ah(Q,M)})(i.endAt)),dC(t,l,d,c,g,"F",_,y)}function $C(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=fo(i.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fo(i.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(i.unaryFilter.field);return Be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fo(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Be.create(fo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((r=>WE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function JC(s){return PC[s]}function ZC(s){return jC[s]}function WC(s){return zC[s]}function ho(s){return{fieldPath:s.canonicalString()}}function fo(s){return en.fromServerFormat(s.fieldPath)}function t1(s){return s instanceof Be?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(i.field),op:ZC(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const r=i.getFilters().map((l=>t1(l)));return r.length===1?r[0]:{compositeFilter:{op:WC(i.op),filters:r}}})(s):_t(54877,{filter:s})}function tx(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function e1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class pr{constructor(t,i,r,l,c=At.min(),d=At.min(),g=nn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ex{constructor(t){this.yt=t}}function nx(s){const t=XC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(t,t.limit,"L"):t}class ix{constructor(){this.Cn=new sx}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Sr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class sx{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new He(ge.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new He(ge.comparator)).toArray()}}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(n1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}const Ev="LruGarbageCollector",rx=1048576;function bv([s,t],[i,r]){const l=jt(s,i);return l===0?jt(t,r):l}class ax{constructor(t){this.Ir=t,this.buffer=new He(bv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();bv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ox{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Mo(i)?at(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await Oo(i)}await this.Vr(3e5)}))}}class lx{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(bh.ce);const r=new ax(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Tv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),uo()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function ux(s,t){return new lx(s,t)}class cx{constructor(){this.changes=new va((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class fx{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ql(r.mutation,l,Pn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=la();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Pl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=la();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=Ns();const d=Gl(),g=(function(){return Gl()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Nr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ql(b.mutation,y,b.mutation.getFieldMask(),le.now())):d.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new hx(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Gl();let l=new ve(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Pn.empty();b=g.applyToLocalView(y,b),r.set(_,b);const A=(l.get(g.batchId)||zt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,A=PE();b.forEach((M=>{if(!c.has(M)){const Q=FE(i.get(M),r.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(la());let g=Xl,_=c;return d.next((y=>J.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((b=>({batchId:g,changes:UE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(_=>{const y=(function(A,M){return new wh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,un.newInvalidDocument(b)))}));let g=Pl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ql(b.mutation,y,Pn.empty(),le.now()),Ih(i,y)&&(g=g.insert(_,y))})),g}))}}class dx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ki(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:nx(l.bundledQuery),readTime:Ki(l.readTime)}})(i)),J.resolve()}}class mx{constructor(){this.overlays=new ve(gt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=la();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=la(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ve(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=la(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=la(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return J.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new OC(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class gx{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class fg{constructor(){this.Qr=new He(Ye.$r),this.Ur=new He(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ye(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new ge([])),r=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ge([])),r=new Ye(i,t),l=new Ye(i,t+1);let c=zt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class px{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ye.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ye(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new He(jt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new gt(c),0);let g=new He(jt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ye(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yx{constructor(t){this.ri=t,this.docs=(function(){return new ve(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let r=Ns();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Ns();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||GI(FI(b),r)<=0||(l.has(b.key)||Ih(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new _x(this)}getSize(t){return J.resolve(this.size)}}class _x extends cx{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class vx{constructor(t){this.persistence=t,this.si=new va((i=>sg(i)),rg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=wo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new wo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class i1{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new gx,this.referenceDelegate=t(this),this.Pi=new vx(this),this.indexManager=new ix,this.remoteDocumentCache=(function(l){return new yx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ex(i),this.Ii=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new mx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new px(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new Tx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Tx extends KI{constructor(t){super(),this.currentSequenceNumber=t}}class dg{constructor(t){this.persistence=t,this.Ri=new fg,this.Vi=null}static mi(t){return new dg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new va((r=>$I(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=ux(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mg(t,i.fromCache,r,l)}}class Ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class bx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:YI(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ex;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(uo()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",co(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(uo()<=Pt.DEBUG&&at("QueryEngine","Query:",co(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(uo()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",co(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qi(i))):J.resolve())}ys(t,i){if(cv(i))return J.resolve(null);let r=Qi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),r=Qi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,_m(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return cv(i)||l.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(uo()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),co(i)),this.vs(t,d,i,HI(l,Xl)).next((g=>g)))}))}Ds(t,i){let r=new He(kE(t));return i.forEach(((l,c)=>{Ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return uo()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",co(i)),this.ps.getDocumentsMatchingQuery(t,i,Sr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gg="LocalStore",Sx=3e8;class Ax{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ve(jt),this.xs=new va((c=>sg(c)),rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function wx(s,t,i,r){return new Ax(s,t,i,r)}async function s1(s,t){const i=It(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Rx(s,t){const i=It(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const A=y.batch,M=A.keys();let Q=J.resolve();return M.forEach((X=>{Q=Q.next((()=>b.getEntry(_,X))).next((rt=>{const W=y.docVersions.get(X);$t(W!==null,48541),rt.version.compareTo(W)<0&&(A.applyToRemoteDocument(rt,y),rt.isValidDocument()&&(rt.setReadTime(y.commitVersion),b.addEntry(rt)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function r1(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Ix(s,t){const i=It(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(nn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(A,Q),(function(rt,W,mt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=Sx?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,Q,b)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=Ns(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(Cx(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!r.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function Cx(s,t,i){let r=zt(),l=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=Ns();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(gg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function xx(s,t){const i=It(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=eg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Nx(s,t){const i=It(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new pr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Sm(s,t,i){const r=It(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Mo(d))throw d;at(gg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Sv(s,t,i){const r=It(s);let l=At.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=It(_),M=A.xs.get(b);return M!==void 0?J.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,b)})(r,d,Qi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:zt()))).next((g=>(Dx(r,pC(t),g),{documents:g,Qs:c})))))}function Dx(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Av{constructor(){this.activeTargetIds=bC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ox{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Mx{Oo(t){}shutdown(){}}const wv="ConnectivityMonitor";class Rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Am(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Jd="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Am(),g=this.zo(t,i.toUriEncodedString());at(Jd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=Co(y);return this.Jo(t,g,_,r,b).then((A=>(at(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Eo(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=Vx[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Lx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class Ux extends kx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Am();return new Promise(((g,_)=>{const y=new uE;y.setWithCredentials(!0),y.listenOnce(cE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const A=y.getResponseJson();at(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Bc.TIMEOUT:at(on,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=y.getStatus();if(at(on,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const X=Q?.error;if(X&&X.status&&X.message){const rt=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})(X.status);_(new ct(rt,X.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(on,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(on,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(t,i,r){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=dE(),g=fE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=c.join("");at(on,`Creating RPC '${t}' stream ${l}: ${b}`,_);const A=d.createWebChannel(b,_);this.I_(A);let M=!1,Q=!1;const X=new Lx({Yo:W=>{Q?at(on,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(at(on,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(on,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),rt=(W,mt,vt)=>{W.listen(mt,(pt=>{try{vt(pt)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return rt(A,Ul.EventType.OPEN,(()=>{Q||(at(on,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),rt(A,Ul.EventType.CLOSE,(()=>{Q||(Q=!0,at(on,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(A))})),rt(A,Ul.EventType.ERROR,(W=>{Q||(Q=!0,Eo(on,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),X.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),rt(A,Ul.EventType.MESSAGE,(W=>{if(!Q){const mt=W.data[0];$t(!!mt,16349);const vt=mt,pt=vt?.error||vt[0]?.error;if(pt){at(on,`RPC '${t}' stream ${l} received error:`,pt);const Dt=pt.status;let Yt=(function(w){const C=Le[w];if(C!==void 0)return QE(C)})(Dt),kt=pt.message;Yt===void 0&&(Yt=Z.INTERNAL,kt="Unknown error status: "+Dt+" with message "+pt.message),Q=!0,X.a_(new ct(Yt,kt)),A.close()}else at(on,`RPC '${t}' stream ${l} received:`,mt),X.u_(mt)}})),rt(g,hE.STAT_EVENT,(W=>{W.stat===fm.PROXY?at(on,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===fm.NOPROXY&&at(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zd(){return typeof document<"u"?document:null}function Dh(s){return new BC(s,!0)}class a1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Iv="PersistentStream";class o1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(xs(i.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Px extends o1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=FC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ki(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=ym(_)?{documents:KC(c,_)}:{query:YC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=ch(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=$C(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.q_(i)}}class jx extends o1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=QC(t.writeResults,t.commitTime),r=Ki(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>GC(this.serializer,r)))};this.q_(i)}}class zx{}class Bx extends zx{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Tm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Tm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class Hx{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ta(this)&&(at(pa,"Restarting streams for network reachability change."),await(async function(_){const y=It(_);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Ra=new qx(r,l)}}async function Oh(s){if(Ta(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function l1(s,t){const i=It(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),vg(i)?_g(i):Vo(i).O_()&&yg(i,t))}function pg(s,t){const i=It(s),r=Vo(i);i.Ia.delete(t),r.O_()&&u1(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ta(i)&&i.Ra.set("Unknown"))}function yg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Vo(s).Y_(t)}function u1(s,t){s.Va.Ue(t),Vo(s).Z_(t)}function _g(s){s.Va=new UC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Ra.ua()}function vg(s){return Ta(s)&&!Vo(s).x_()&&s.Ia.size>0}function Ta(s){return It(s).Ea.size===0}function c1(s){s.Va=void 0}async function Fx(s){s.Ra.set("Online")}async function Gx(s){s.Ia.forEach(((t,i)=>{yg(s,t)}))}async function Qx(s,t){c1(s),vg(s)?(s.Ra.ha(t),_g(s)):s.Ra.set("Unknown")}async function Kx(s,t,i){if(s.Ra.set("Online"),t instanceof YE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(s,r)}else if(t instanceof Gc?s.Va.Ze(t):t instanceof KE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await r1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),u1(c,_);const A=new pr(b.target,_,y,b.sequenceNumber);yg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(pa,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,t,i){if(!Mo(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>r1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function h1(s,t){return t().catch((i=>fh(s,i,t)))}async function Mh(s){const t=It(s),i=Ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:eg;for(;Yx(t);)try{const l=await xx(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,Xx(t,l)}catch(l){await fh(t,l)}f1(t)&&d1(t)}function Yx(s){return Ta(s)&&s.Ta.length<10}function Xx(s,t){s.Ta.push(t);const i=Ir(s);i.O_()&&i.X_&&i.ea(t.mutations)}function f1(s){return Ta(s)&&!Ir(s).x_()&&s.Ta.length>0}function d1(s){Ir(s).start()}async function $x(s){Ir(s).ra()}async function Jx(s){const t=Ir(s);for(const i of s.Ta)t.ea(i.mutations)}async function Zx(s,t,i){const r=s.Ta.shift(),l=ug.from(r,t,i);await h1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function Wx(s,t){t&&Ir(s).X_&&await(async function(r,l){if((function(d){return VC(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();Ir(r).B_(),await h1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(r)}})(s,t),f1(s)&&d1(s)}async function Cv(s,t){const i=It(s);i.asyncQueue.verifyOperationInProgress(),at(pa,"RemoteStore received new credentials");const r=Ta(i);i.Ea.add(3),await lu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function tN(s,t){const i=It(s);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Vo(s){return s.ma||(s.ma=(function(i,r,l){const c=It(i);return c.sa(),new Px(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:Fx.bind(null,s),t_:Gx.bind(null,s),r_:Qx.bind(null,s),H_:Kx.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),vg(s)?_g(s):s.Ra.set("Unknown")):(await s.ma.stop(),c1(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,r,l){const c=It(i);return c.sa(),new jx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$x.bind(null,s),r_:Wx.bind(null,s),ta:Jx.bind(null,s),na:Zx.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Tg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new Tg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(s,t){if(xs("AsyncQueue",`${t}: ${s}`),Mo(s))return new ct(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new _o;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class xv{constructor(){this.ga=new ve(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ro{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ro(t,i,_o.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class eN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nN{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=It(i),c=l.queries;l.queries=Nv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function Nv(){return new va((s=>VE(s)),Rh)}async function iN(s,t){const i=It(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new eN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Eg(d,`Initialization of query '${co(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&bg(i)}async function sN(s,t){const i=It(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function rN(s,t){const i=It(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&bg(i)}function aN(s,t,i){const r=It(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function bg(s){s.Ca.forEach((t=>{t.next()}))}var wm,Dv;(Dv=wm||(wm={})).Ma="default",Dv.Cache="cache";class oN{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class m1{constructor(t){this.key=t}}class g1{constructor(t){this.key=t}}class lN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=kE(t),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),Q=Ih(this.query,A)?A:null,X=!!M&&this.mutatedKeys.has(M.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;M&&Q?M.data.isEqual(Q.data)?X!==rt&&(r.track({type:3,doc:Q}),W=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),W=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!M&&Q?(r.track({type:0,doc:Q}),W=!0):M&&!Q&&(r.track({type:1,doc:M}),W=!0,(_||y)&&(g=!0)),W&&(Q?(d=d.add(Q),c=rt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,X){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return rt(Q)-rt(X)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ro(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new g1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new m1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class uN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class cN{constructor(t){this.key=t,this.hu=!1}}class hN{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((g=>VE(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(gt.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(s,t,i=!0){const r=E1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await p1(r,t,i,!0),l}async function dN(s,t){const i=E1(s);await p1(i,t,!0,!1)}async function p1(s,t,i,r){const l=await Nx(s.localStore,Qi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await mN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&l1(s.remoteStore,l),g}async function mN(s,t,i,r,l){s.pu=(A,M,Q)=>(async function(rt,W,mt,vt){let pt=W.view.ru(mt);pt.Cs&&(pt=await Sv(rt.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,pt))));const Dt=vt&&vt.targetChanges.get(W.targetId),Yt=vt&&vt.targetMismatches.get(W.targetId)!=null,kt=W.view.applyChanges(pt,rt.isPrimaryClient,Dt,Yt);return Mv(rt,W.targetId,kt.au),kt.snapshot})(s,A,M,Q);const c=await Sv(s.localStore,t,!0),d=new lN(t,c.Qs),g=d.ru(c.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);Mv(s,i,y.au);const b=new uN(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function gN(s,t,i){const r=It(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&pg(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(Oo)):(Rm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function pN(s,t){const i=It(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pg(i.remoteStore,r.targetId))}async function yN(s,t,i){const r=AN(s);try{const l=await(function(d,g){const _=It(d),y=le.now(),b=g.reduce(((Q,X)=>Q.add(X.key)),zt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let X=Ns(),rt=zt();return _.Ns.getEntries(Q,b).next((W=>{X=W,X.forEach(((mt,vt)=>{vt.isValidDocument()||(rt=rt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,X))).next((W=>{A=W;const mt=[];for(const vt of g){const pt=xC(vt,A.get(vt.key).overlayedDocument);pt!=null&&mt.push(new Nr(vt.key,pt,IE(pt.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,mt,g)})).next((W=>{M=W;const mt=W.applyToLocalDocumentSet(A,rt);return _.documentOverlayCache.saveOverlays(Q,W.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:UE(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ve(jt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await uu(r,l.changes),await Mh(r.remoteStore)}catch(l){const c=Eg(l,"Failed to persist write");i.reject(c)}}async function y1(s,t){const i=It(s);try{const r=await Ix(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await uu(i,r,t)}catch(r){await Oo(r)}}function Ov(s,t,i){const r=It(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=It(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(g)&&(y=!0)})),y&&bg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _N(s,t,i){const r=It(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ve(gt.comparator);d=d.insert(c,un.newNoDocument(c,At.min()));const g=zt().add(c),_=new Nh(At.min(),new Map,new ve(jt),d,g);await y1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Ag(r)}else await Sm(r.localStore,t,!1).then((()=>Rm(r,t,i))).catch(Oo)}async function vN(s,t){const i=It(s),r=t.batch.batchId;try{const l=await Rx(i.localStore,t);v1(i,r,null),_1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uu(i,l)}catch(l){await Oo(l)}}async function TN(s,t,i){const r=It(s);try{const l=await(function(d,g){const _=It(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>($t(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,t);v1(r,t,i),_1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await uu(r,l)}catch(l){await Oo(l)}}function _1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function v1(s,t,i){const r=It(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Rm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||T1(s,r)}))}function T1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(pg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Ag(s))}function Mv(s,t,i){for(const r of i)r instanceof m1?(s.Ru.addReference(r.key,t),EN(s,r)):r instanceof g1?(at(Sg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||T1(s,r.key)):_t(19791,{wu:r})}function EN(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Sg,"New document in limbo: "+i),s.Eu.add(r),Ag(s))}function Ag(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(ge.fromString(t)),r=s.fu.next();s.Au.set(r,new cN(i)),s.du=s.du.insert(i,r),l1(s.remoteStore,new pr(Qi(ag(i.path)),r,"TargetPurposeLimboResolution",bh.ce))}}async function uu(s,t,i){const r=It(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=mg.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const b=It(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(M=>J.forEach(M.Es,(Q=>b.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>J.forEach(M.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!Mo(A))throw A;at(gg,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const Q=b.Ms.get(M),X=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(X);b.Ms=b.Ms.insert(M,rt)}}})(r.localStore,c))}async function bN(s,t){const i=It(s);if(!i.currentUser.isEqual(t)){at(Sg,"User change. New user:",t.toKey());const r=await s1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(i,r.Ls)}}function SN(s,t){const i=It(s),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function E1(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_N.bind(null,t),t.Pu.H_=rN.bind(null,t.eventManager),t.Pu.yu=aN.bind(null,t.eventManager),t}function AN(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TN.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return wx(this.persistence,new bx,t.initialUser,this.serializer)}Cu(t){return new i1(dg.mi,this.serializer)}Du(t){return new Ox}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class wN extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ox(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new i1((r=>hh.mi(r,i)),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nN})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),r=(function(c){return new Ux(c)})(t.databaseInfo);return(function(c,d,g,_){return new Bx(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new Hx(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Ov(this.syncEngine,i,0)),(function(){return Rv.v()?new Rv:new Mx})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const A=new hN(l,c,d,g,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);at(pa,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class RN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Cr="FirestoreClient";class IN{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Eg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Wd(s,t){s.asyncQueue.verifyOperationInProgress(),at(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await s1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Vv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await CN(s);at(Cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Cv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Cv(t.remoteStore,l))),s._onlineComponents=t}async function CN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Cr,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Eo("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new dh)}}else at(Cr,"Using default OfflineComponentProvider"),await Wd(s,new wN(void 0));return s._offlineComponents}async function b1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Cr,"Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(at(Cr,"Using default OnlineComponentProvider"),await Vv(s,new Im))),s._onlineComponents}function xN(s){return b1(s).then((t=>t.syncEngine))}async function kv(s){const t=await b1(s),i=t.eventManager;return i.onListen=fN.bind(null,t.syncEngine),i.onUnlisten=gN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=dN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=pN.bind(null,t.syncEngine),i}function S1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Lv=new Map;const A1="firestore.googleapis.com",Uv=!0;class Pv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A1,this.ssl=Uv}else this.host=t.host,this.ssl=t.ssl??Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rx)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OI;switch(r.type){case"firstParty":return new LI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Lv.get(i);r&&(at("ComponentProvider","Removing Datastore"),Lv.delete(i),r.terminate())})(this),Promise.resolve()}}function NN(s,t,i,r={}){s=Tr(s,Vh);const l=Co(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(tT(`https://${g}`),eT("Firestore",!0)),c.host!==A1&&c.host!==g&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!br(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=ln.MOCK_USER;else{y=kS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(A)}s._authCredentials=new MI(new gE(y,b))}}class kh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class qe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ru(i,qe._jsonSchema))return new qe(t,r||null,new gt(ge.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ue("string",qe._jsonSchemaVersion),referencePath:Ue("string")};class Er extends kh{constructor(t,i,r){super(t,i,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new gt(t))}withConverter(t){return new Er(this.firestore,t,this._path)}}function kc(s,t,...i){if(s=Pe(s),pE("collection","path",t),s instanceof Vh){const r=ge.fromString(t,...i);return J0(r),new Er(s,null,r)}{if(!(s instanceof qe||s instanceof Er))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ge.fromString(t,...i));return J0(r),new Er(s.firestore,null,r)}}function Cm(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=Wm.newId()),pE("doc","path",t),s instanceof Vh){const r=ge.fromString(t,...i);return $0(r),new qe(s,null,new gt(r))}{if(!(s instanceof qe||s instanceof Er))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ge.fromString(t,...i));return $0(r),new qe(s.firestore,s instanceof Er?s.converter:null,new gt(r))}}const jv="AsyncQueue";class zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a1(this,"async_queue_retry"),this._c=()=>{const r=Zd();r&&at(jv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;at(jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",Bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Tg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Bv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function qv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Io extends Vh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function DN(s,t){const i=typeof s=="object"?s:km(),r=typeof s=="string"?s:sh,l=_a(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=MS("firestore");c&&NN(l,...c)}return l}function w1(s){if(s._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ON(s),s._firestoreClient}function ON(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new WI(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,S1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new IN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(nn.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ii(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Ue("string",ii._jsonSchemaVersion),bytes:Ue("string")};class Lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wg{constructor(t){this._methodName=t}}class Yi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Ue("string",Yi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Xi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Ue("string",Xi._jsonSchemaVersion),vectorValues:Ue("object")};const MN=/^__.*__$/;class VN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}class R1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function I1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Rg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&MN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Dh(t)}Cc(t,i,r,l=!1){return new Rg({Ac:t,methodName:i,Dc:r,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(s){const t=s._freezeSettings(),i=Dh(s._databaseId);return new kN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function LN(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ig("Data must be an object, but it was:",d,r);const g=x1(r,d);let _,y;if(c.merge)_=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=xm(t,A,i);if(!d.contains(M))throw new ct(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);D1(b,M)||b.push(M)}_=new Pn(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new VN(new Rn(g),_,y)}class Uh extends wg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function UN(s,t,i,r){const l=s.Cc(1,t,i);Ig("Data must be an object, but it was:",l,r);const c=[],d=Rn.empty();xr(r,((_,y)=>{const b=Cg(t,_,i);y=Pe(y);const A=l.yc(b);if(y instanceof Uh)c.push(b);else{const M=Ph(y,A);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Pn(c);return new R1(d,g,l.fieldTransforms)}function PN(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[xm(t,r,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(xm(t,c[M])),_.push(c[M+1]);const y=[],b=Rn.empty();for(let M=g.length-1;M>=0;--M)if(!D1(y,g[M])){const Q=g[M];let X=_[M];X=Pe(X);const rt=d.yc(Q);if(X instanceof Uh)y.push(Q);else{const W=Ph(X,rt);W!=null&&(y.push(Q),b.set(Q,W))}}const A=new Pn(y);return new R1(b,A,d.fieldTransforms)}function Ph(s,t){if(N1(s=Pe(s)))return Ig("Unsupported field value:",t,s),x1(s,t);if(s instanceof wg)return(function(r,l){if(!I1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Ph(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=le.fromDate(r);return{timestampValue:ch(l.serializer,c)}}if(r instanceof le){const c=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:XE(l.serializer,r._byteString)};if(r instanceof qe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Xi)return(function(d,g){return{mapValue:{fields:{[wE]:{stringValue:RE},[rh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return og(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${tg(r)}`)})(s,t)}function x1(s,t){const i={};return vE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(s,((r,l)=>{const c=Ph(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function N1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Yi||s instanceof ii||s instanceof qe||s instanceof wg||s instanceof Xi)}function Ig(s,t,i){if(!N1(i)||!yE(i)){const r=tg(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function xm(s,t,i){if((t=Pe(t))instanceof Lh)return t._internalPath;if(typeof t=="string")return Cg(s,t);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const jN=new RegExp("[~\\*/\\[\\]]");function Cg(s,t,i){if(t.search(jN)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Lh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,g+s+_)}function D1(s,t){return s.some((i=>i.isEqual(t)))}class O1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(M1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zN extends O1{data(){return super.data()}}function M1(s,t){return typeof t=="string"?Cg(s,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}function BN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qN{convertValue(t,i="none"){switch(Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return xr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((r=>Re(r.doubleValue)));return new Xi(i)}convertGeoPoint(t){return new Yi(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ah(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){const i=Ar(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ge.fromString(t);$t(e1(r),9688,{name:t});const l=new Jl(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||xs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function HN(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class zl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ha extends O1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(M1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Ue("string",ha._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Qc extends ha{data(t={}){return super.data(t)}}class vo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Qc(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:FN(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Ue("string",vo._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class V1 extends qN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function GN(s,t,i,...r){s=Tr(s,qe);const l=Tr(s.firestore,Io),c=C1(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Lh?PN(c,"updateDoc",s._key,t,i,r):UN(c,"updateDoc",s._key,t),xg(l,[d.toMutation(s._key,Ti.exists(!0))])}function QN(s){return xg(Tr(s.firestore,Io),[new lg(s._key,Ti.none())])}function KN(s,t){const i=Tr(s.firestore,Io),r=Cm(s),l=HN(s.converter,t);return xg(i,[LN(C1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function tm(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||qv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof qe)d=Tr(s.firestore,Io),g=ag(s._key.path),c={next:_=>{t[r]&&t[r](YN(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=Tr(s,kh);d=Tr(_.firestore,Io),g=_._query;const y=new V1(d);c={next:b=>{t[r]&&t[r](new vo(d,y,_,b))},error:t[r+1],complete:t[r+2]},BN(s._query)}return(function(y,b,A,M){const Q=new RN(M),X=new oN(b,Q,A);return y.asyncQueue.enqueueAndForget((async()=>iN(await kv(y),X))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>sN(await kv(y),X)))}})(w1(d),g,l,c)}function xg(s,t){return(function(r,l){const c=new ca;return r.asyncQueue.enqueueAndForget((async()=>yN(await xN(r),l,c))),c.promise})(w1(s),t)}function YN(s,t,i){const r=i.docs.get(t._key),l=new V1(s);return new ha(s,l,t._key,r,new zl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Do=l})(xo),$i(new Ei("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Io(new VI(r.getProvider("auth-internal")),new UI(d,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),si(Q0,K0,t),si(Q0,K0,"esm2020")})();const XN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$N=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Hv=s=>{const t=$N(s);return t.charAt(0).toUpperCase()+t.slice(1)},k1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),JN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WN=ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>ft.createElement("svg",{ref:_,...ZN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:k1("lucide",l),...!c&&!JN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>ft.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ce=(s,t)=>{const i=ft.forwardRef(({className:r,...l},c)=>ft.createElement(WN,{ref:c,iconNode:t,className:k1(`lucide-${XN(Hv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Hv(s),i};const tD=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],eD=ce("arrow-down-right",tD);const nD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],iD=ce("arrow-up-right",nD);const sD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],rD=ce("banknote",sD);const aD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oD=ce("calendar",aD);const lD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Fv=ce("chart-pie",lD);const uD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nm=ce("check",uD);const cD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hD=ce("chevron-left",cD);const fD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],em=ce("chevron-right",fD);const dD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L1=ce("circle-alert",dD);const mD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gD=ce("credit-card",mD);const pD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yD=ce("funnel",pD);const _D=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],Gv=ce("hand-coins",_D);const vD=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],TD=ce("landmark",vD);const ED=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bD=ce("list",ED);const SD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AD=ce("lock",SD);const wD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RD=ce("log-out",wD);const ID=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CD=ce("moon",ID);const xD=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ND=ce("piggy-bank",xD);const DD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nm=ce("plus",DD);const OD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],MD=ce("smartphone",OD);const VD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kD=ce("sun",VD);const LD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qv=ce("target",LD);const UD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PD=ce("trash-2",UD);const jD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zD=ce("user",jD);const BD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],U1=ce("wallet",BD);const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kv=ce("x",qD),Dm={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},P1="vivekdn2504@gmail.com",Om=Dm.apiKey!=="YOUR_API_KEY",HD=Om?Dm:typeof __firebase_config<"u"?JSON.parse(__firebase_config):Dm,Ng=lT(HD);typeof window<"u"&&I2(Ng);const Lc=NI(Ng),Ll=DN(Ng),FD=({message:s,type:t,onClose:i})=>{ft.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-rose-500 shadow-rose-500/30":"bg-indigo-600 shadow-indigo-500/30";return S.jsxs("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-2xl shadow-xl text-white font-medium text-sm flex items-center gap-3 z-[90] animate-in slide-in-from-top-5 duration-300 ${r}`,children:[t==="error"?S.jsx(L1,{className:"w-5 h-5"}):S.jsx(Nm,{className:"w-5 h-5"}),s]})},GD=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?S.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsx("div",{className:`w-full max-w-xs p-6 rounded-[2rem] shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white ring-1 ring-white/10":"bg-white text-gray-900"}`,children:S.jsxs("div",{className:"flex flex-col items-center text-center",children:[S.jsx("div",{className:"w-14 h-14 bg-rose-100 text-rose-500 rounded-full flex items-center justify-center mb-4 shadow-inner",children:S.jsx(PD,{className:"w-7 h-7"})}),S.jsx("h3",{className:"text-xl font-bold mb-2",children:t}),S.jsx("p",{className:`text-sm mb-8 font-medium leading-relaxed ${c?"text-gray-400":"text-gray-500"}`,children:i}),S.jsxs("div",{className:"flex gap-3 w-full",children:[S.jsx("button",{onClick:l,className:`flex-1 py-3.5 rounded-2xl font-bold text-sm transition-all active:scale-95 ${c?"bg-gray-800 hover:bg-gray-700 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Cancel"}),S.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-2xl font-bold text-sm bg-rose-500 hover:bg-rose-600 text-white shadow-lg shadow-rose-500/30 transition-all active:scale-95",children:"Delete"})]})]})})}):null,QD=({onLogin:s,error:t})=>S.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#F2F4F7] p-4 font-sans relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"}),S.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-2xl shadow-indigo-500/10 max-w-sm w-full text-center border border-white/50 relative z-10",children:[S.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-indigo-500 to-purple-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30 transform -rotate-3",children:S.jsx(U1,{className:"w-10 h-10"})}),S.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 tracking-tight",children:"FinManager"}),S.jsx("p",{className:"text-gray-500 mb-8 text-sm font-medium",children:"Your personal finance companion"}),t&&S.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 text-xs rounded-2xl flex items-start gap-2 text-left font-medium",children:[S.jsx(L1,{className:"w-4 h-4 shrink-0 mt-0.5"}),t]}),S.jsxs("button",{onClick:s,className:"w-full bg-[#1a1a1a] hover:bg-black text-white font-bold py-4 rounded-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-3 shadow-xl shadow-gray-200",children:[S.jsx("div",{className:"bg-white rounded-full p-1",children:S.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-4 h-4",alt:"G"})}),"Sign in with Google"]}),S.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[S.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Authorized Account"}),S.jsx("p",{className:"text-xs text-indigo-600 font-medium mt-1 bg-indigo-50 inline-block px-3 py-1 rounded-full",children:P1})]})]})]}),KD=()=>S.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:S.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[S.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:S.jsx(AD,{className:"w-6 h-6"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),S.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),S.jsx("p",{className:"text-gray-300",children:"Firebase Console > Project Settings."})]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),S.jsx("p",{className:"text-gray-300",children:"Update lines 26-33."})]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),S.jsx("p",{className:"text-gray-300",children:"Update line 40."})]})]})]})});function YD(){const[s,t]=ft.useState(null),[i,r]=ft.useState([]),[l,c]=ft.useState([]),[d,g]=ft.useState([]),[_,y]=ft.useState(!0),[b,A]=ft.useState(null),[M,Q]=ft.useState(null),[X,rt]=ft.useState(()=>localStorage.getItem("theme")==="dark"),[W,mt]=ft.useState(!1),[vt,pt]=ft.useState({isOpen:!1,id:null,collection:"expenses"}),[Dt,Yt]=ft.useState("transactions"),[kt,x]=ft.useState("date"),[w,C]=ft.useState("month"),[V,D]=ft.useState(new Date),[L,R]=ft.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().slice(0,10),end:new Date().toISOString().slice(0,10)}),[se,Ie]=ft.useState(""),[F,nt]=ft.useState("All"),[ht,qt]=ft.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[Xt,O]=ft.useState(!1),[K,it]=ft.useState(()=>{try{return JSON.parse(localStorage.getItem("cat_budgets"))||{}}catch{return{}}}),[st,Tt]=ft.useState(!1),St=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],Ot=["Salary","Bonus","Freelance","Other"],[re,ue]=ft.useState(()=>{try{const j=localStorage.getItem("custom_categories");return j?JSON.parse(j):[]}catch{return[]}}),[ts,Si]=ft.useState(!1),[Ai,es]=ft.useState(""),[sn,Dr]=ft.useState(()=>{try{const j=localStorage.getItem("payment_modes");return j?JSON.parse(j):["Cash","UPI","Bank Account","Credit Card"]}catch{return["Cash","UPI","Bank Account","Credit Card"]}}),[ns,is]=ft.useState(!1),[ss,_e]=ft.useState(""),[Et,zn]=ft.useState("expense"),[ri,Ea]=ft.useState(null),[Ce,wi]=ft.useState(""),[ai,Ri]=ft.useState(""),[oi,Or]=ft.useState(""),[Mr,Vr]=ft.useState(""),[Ds,pn]=ft.useState(new Date().toISOString().split("T")[0]),[xe,hn]=ft.useState(""),[ae,Os]=ft.useState("borrowed");ft.useEffect(()=>{document.documentElement.classList.toggle("dark",X),localStorage.setItem("theme",X?"dark":"light")},[X]),ft.useEffect(()=>{if(!Om){y(!1);return}const j=vR(Lc,tt=>{y(!1),tt?tt.email===P1?(t(tt),A(null)):(k0(Lc),A(`Access Denied: ${tt.email} is not authorized.`)):t(null)});return()=>j()},[]),ft.useEffect(()=>{if(!s)return;const j=tm(kc(Ll,"users",s.uid,"expenses"),wt=>{const fe=wt.docs.map(je=>({id:je.id,...je.data(),date:je.data().date?.toDate()||new Date}));fe.sort((je,Ge)=>Ge.date-je.date),r(fe)}),tt=tm(kc(Ll,"users",s.uid,"goals"),wt=>{c(wt.docs.map(fe=>({id:fe.id,...fe.data()})))}),ut=tm(kc(Ll,"users",s.uid,"debts"),wt=>{g(wt.docs.map(fe=>({id:fe.id,...fe.data(),date:fe.data().date?.toDate()||new Date})))});return()=>{j(),tt(),ut()}},[s]),ft.useEffect(()=>{localStorage.setItem("monthly_budget",ht)},[ht]),ft.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(re))},[re]),ft.useEffect(()=>{localStorage.setItem("payment_modes",JSON.stringify(sn))},[sn]),ft.useEffect(()=>{localStorage.setItem("cat_budgets",JSON.stringify(K))},[K]);const Ms=async()=>{try{A(null);const j=new As;await jR(Lc,j)}catch(j){A(j.message)}},ba=async()=>await k0(Lc),Fe=(j,tt="success")=>Q({message:j,type:tt}),Ii=j=>{const tt=new Date(V);w==="month"?tt.setMonth(tt.getMonth()+j):w==="year"&&tt.setFullYear(tt.getFullYear()+j),D(tt)},Te=()=>{if(w==="custom")return{start:new Date(L.start),end:new Date(new Date(L.end).setHours(23,59,59))};const j=V.getFullYear(),tt=V.getMonth();return w==="year"?{start:new Date(j,0,1),end:new Date(j,11,31,23,59,59)}:{start:new Date(j,tt,1),end:new Date(j,tt+1,0,23,59,59)}},fn=(j=null,tt=null)=>{Ea(j?.id||null);let ut=tt||(Dt==="goals"?"goal":Dt==="debt"?"debt":"expense");j?.type&&(ut=j.type),zn(ut),wi(j?.amount||""),Ri(j?.category||j?.title||j?.person||""),hn(j?.targetAmount||""),Os(j?.debtType||"borrowed"),Or(j?.paymentMode||"Cash"),Vr(j?.description||""),pn(j?.date?new Date(j.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]),mt(!0)},Bn=async j=>{if(j.preventDefault(),!Ce||!s)return;let tt="expenses",ut={amount:parseFloat(Ce),description:Mr,updatedAt:le.now()};Et==="goal"?(tt="goals",ut={...ut,title:ai,targetAmount:parseFloat(xe),savedAmount:parseFloat(Ce)}):Et==="debt"?(tt="debts",ut={...ut,person:ai,debtType:ae,date:new Date(Ds)}):ut={...ut,type:Et,category:ai||(Et==="expense"?St[0]:Ot[0]),paymentMode:oi||"Cash",date:new Date(Ds)};try{const wt=kc(Ll,"users",s.uid,tt);ri?(await GN(Cm(wt,ri),ut),Fe("Updated successfully")):(ut.createdAt=le.now(),await KN(wt,ut),Fe("Added successfully")),mt(!1)}catch(wt){console.error(wt),Fe("Save failed","error")}},In=(j,tt)=>pt({isOpen:!0,id:j,collection:tt}),ko=async()=>{if(!(!s||!vt.id))try{await QN(Cm(Ll,"users",s.uid,vt.collection,vt.id)),Fe("Deleted"),mt(!1)}catch{Fe("Delete failed","error")}finally{pt({isOpen:!1,id:null,collection:"expenses"})}},Sa=()=>{if(Ai.trim()){const j=Ai.trim();[...St,...Ot,...re].includes(j)||(ue([...re,j]),Ri(j),Fe("Category added")),es(""),Si(!1)}},qn=()=>{if(ss.trim()){const j=ss.trim();sn.includes(j)||(Dr([...sn,j]),Or(j),Fe("Payment method added")),_e(""),is(!1)}},rs=Et==="expense"?[...St,...re]:Ot,Lo=ft.useMemo(()=>[...new Set([...St,...re])],[re]),rn=Te(),Hn=ft.useMemo(()=>{const{start:j,end:tt}=rn;return i.filter(wt=>{const fe=wt.date>=j&&wt.date<=tt,je=se.toLowerCase(),Ge=!je||wt.category.toLowerCase().includes(je)||(wt.description||"").toLowerCase().includes(je)||(wt.paymentMode||"").toLowerCase().includes(je),Vs=F==="All"||wt.category===F||F==="Income"&&wt.type==="income";return fe&&Ge&&Vs}).sort((wt,fe)=>kt==="amount"?fe.amount-wt.amount:fe.date-wt.date)},[i,rn,se,F,kt]),Ci=ft.useMemo(()=>{let j=0,tt=0;Hn.forEach(fe=>{fe.type==="income"?j+=fe.amount:tt+=fe.amount});const ut=Math.abs(rn.end-rn.start),wt=Math.ceil(ut/(1e3*60*60*24))+1;return{income:j,expense:tt,balance:j-tt,dailyAvg:wt>0?Math.round(tt/wt):0}},[Hn,rn]),li=ft.useMemo(()=>{const j={};let tt=0;return Hn.forEach(ut=>{ut.type!=="income"&&(j[ut.category]=(j[ut.category]||0)+ut.amount,tt+=ut.amount)}),Object.entries(j).map(([ut,wt])=>({name:ut,value:wt,pct:tt>0?wt/tt*100:0})).sort((ut,wt)=>wt.value-ut.value)},[Hn]),Fn=ft.useMemo(()=>{const j={};return Hn.forEach(tt=>{const ut=tt.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});j[ut]||(j[ut]=[]),j[ut].push(tt)}),j},[Hn]),Aa=ft.useMemo(()=>{const j=new Set(i.filter(tt=>tt.date>=rn.start&&tt.date<=rn.end).map(tt=>tt.category));return["All",...Array.from(j)]},[i,rn]),yn=j=>{const tt=(j||"").toLowerCase();return tt.includes("food")||tt.includes("dine")?"":tt.includes("shop")?"":tt.includes("transport")||tt.includes("fuel")?"":tt.includes("rent")?"":tt.includes("health")?"":tt.includes("entertain")?"":tt.includes("grocer")?"":""},Cn=j=>{const tt=(j||"").toLowerCase();return tt.includes("card")||tt.includes("credit")||tt.includes("debit")?S.jsx(gD,{className:"w-3 h-3 text-indigo-400"}):tt.includes("bank")||tt.includes("transfer")?S.jsx(TD,{className:"w-3 h-3 text-blue-400"}):tt.includes("upi")||tt.includes("gpay")||tt.includes("paytm")?S.jsx(MD,{className:"w-3 h-3 text-purple-400"}):S.jsx(rD,{className:"w-3 h-3 text-emerald-500"})},he=({icon:j,label:tt,active:ut,onClick:wt})=>S.jsxs("button",{onClick:wt,className:`flex flex-col items-center gap-1 py-2 px-4 rounded-xl transition-all duration-300 ${ut?"bg-indigo-50 dark:bg-white/10 text-indigo-600 dark:text-indigo-400 scale-105":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"}`,children:[S.jsx(j,{className:`w-5 h-5 ${ut?"fill-current":""}`,strokeWidth:ut?2.5:2}),S.jsx("span",{className:"text-[10px] font-bold",children:tt})]});return Om?_?S.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:S.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?S.jsxs("div",{className:`min-h-screen font-sans pb-32 transition-colors duration-300 ${X?"bg-[#09090b] text-gray-100":"bg-[#F8FAFC] text-slate-900"}`,children:[M&&S.jsx(FD,{message:M.message,type:M.type,onClose:()=>Q(null)}),S.jsx(GD,{isOpen:vt.isOpen,title:"Delete Item?",message:"Cannot be undone.",onConfirm:ko,onCancel:()=>pt({...vt,isOpen:!1}),isDarkMode:X}),S.jsxs("div",{className:`sticky top-0 z-30 px-6 py-4 flex justify-between items-center backdrop-blur-xl border-b transition-all duration-300 ${X?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-tr from-indigo-600 to-violet-600 flex items-center justify-center text-white shadow-lg shadow-indigo-500/20 transform hover:rotate-6 transition-transform",children:S.jsx(U1,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-bold text-lg tracking-tight leading-none",children:"FinManager"}),S.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest",children:"Premium"})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>rt(!X),className:`w-10 h-10 flex items-center justify-center rounded-xl transition-all ${X?"bg-white/10 text-yellow-400 hover:bg-white/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:X?S.jsx(kD,{className:"w-5 h-5"}):S.jsx(CD,{className:"w-5 h-5"})}),S.jsx("button",{onClick:ba,className:"w-10 h-10 flex items-center justify-center rounded-xl bg-rose-50 text-rose-500 hover:bg-rose-100 transition-colors",children:S.jsx(RD,{className:"w-5 h-5"})})]})]}),S.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-8 mb-20",children:[Dt==="transactions"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] p-8 shadow-2xl shadow-indigo-600/30 group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-purple-700 transition-all duration-500 group-hover:scale-105"}),S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-black/10 rounded-full blur-2xl translate-y-1/3 -translate-x-1/4"}),S.jsxs("div",{className:"relative z-10 text-white",children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-indigo-100 text-xs font-bold uppercase tracking-widest mb-1 opacity-80",children:"Total Balance"}),S.jsxs("h2",{className:"text-5xl font-bold tracking-tighter",children:[S.jsx("span",{className:"text-indigo-200 text-3xl align-top mr-1",children:""}),Ci.balance.toLocaleString("en-IN")]})]}),S.jsxs("div",{className:"text-right bg-white/10 px-3 py-2 rounded-2xl backdrop-blur-md border border-white/10",children:[S.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-widest mb-0.5",children:"Daily Avg"}),S.jsxs("p",{className:"text-lg font-bold",children:["",Ci.dailyAvg]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 backdrop-blur-md border border-white/5 transition-transform hover:scale-105",children:[S.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[S.jsx("div",{className:"p-1 bg-emerald-500/20 rounded-full",children:S.jsx(eD,{className:"w-3 h-3"})}),S.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),S.jsxs("p",{className:"font-semibold text-xl tracking-tight",children:["",Ci.income.toLocaleString("en-IN")]})]}),S.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur-md border border-white/10 transition-transform hover:scale-105",children:[S.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[S.jsx("div",{className:"p-1 bg-rose-500/20 rounded-full",children:S.jsx(iD,{className:"w-3 h-3"})}),S.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),S.jsxs("p",{className:"font-semibold text-xl tracking-tight",children:["",Ci.expense.toLocaleString("en-IN")]})]})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:`flex-1 flex items-center justify-between p-2 rounded-2xl border backdrop-blur-md transition-all ${X?"bg-[#18181b]/80 border-white/10":"bg-white/80 border-slate-200 shadow-sm"}`,children:[S.jsx("button",{onClick:()=>Ii(-1),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl transition-colors",children:S.jsx(hD,{className:"w-4 h-4 text-gray-500"})}),S.jsxs("span",{className:"text-sm font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[S.jsx(oD,{className:"w-4 h-4 text-indigo-500"}),w==="month"?V.toLocaleDateString("en-IN",{month:"short",year:"numeric"}):V.getFullYear()]}),S.jsx("button",{onClick:()=>Ii(1),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl transition-colors",children:S.jsx(em,{className:"w-4 h-4 text-gray-500"})})]}),S.jsxs("select",{value:w,onChange:j=>C(j.target.value),className:`px-4 py-2 rounded-2xl text-xs font-bold border outline-none appearance-none cursor-pointer transition-all ${X?"bg-[#18181b] border-white/10 text-white hover:bg-white/5":"bg-white border-slate-200 text-gray-900 hover:bg-gray-50"}`,children:[S.jsx("option",{value:"month",children:"Month"}),S.jsx("option",{value:"year",children:"Year"}),S.jsx("option",{value:"custom",children:"Custom"})]})]}),S.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 no-scrollbar -mx-5 px-5",children:Aa.map(j=>S.jsx("button",{onClick:()=>nt(j),className:`whitespace-nowrap px-5 py-2 rounded-full text-xs font-bold border transition-all duration-300 shadow-sm ${F===j?"bg-indigo-600 border-indigo-600 text-white shadow-indigo-500/30 transform scale-105":X?"bg-[#18181b] border-white/10 text-gray-400 hover:bg-white/5":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:j},j))})]}),S.jsxs("div",{className:"space-y-8",children:[Object.entries(Fn).map(([j,tt])=>S.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[S.jsxs("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4 px-1 flex items-center gap-2",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),j]}),S.jsx("div",{className:"space-y-3",children:tt.map(ut=>S.jsx("div",{onClick:()=>fn(ut),className:`group relative p-4 rounded-3xl border transition-all duration-300 cursor-pointer active:scale-[0.98] ${X?"bg-[#18181b] border-white/5 hover:border-white/10 hover:bg-white/5":"bg-white border-slate-100 hover:border-indigo-100 shadow-sm hover:shadow-md"}`,children:S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-xl shadow-inner ${ut.type==="income"?"bg-emerald-500/10 text-emerald-600":X?"bg-black/30":"bg-slate-50"}`,children:yn(ut.category)}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("h5",{className:`font-bold text-sm truncate ${X?"text-gray-200":"text-gray-800"}`,children:ut.category}),S.jsxs("span",{className:`font-bold font-mono tracking-tight ${ut.type==="income"?"text-emerald-500":X?"text-gray-200":"text-slate-900"}`,children:[ut.type==="income"?"+":"-","",ut.amount.toLocaleString("en-IN")]})]}),S.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[S.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-md text-[10px] font-medium ${X?"bg-white/5 text-gray-400":"bg-gray-100 text-gray-600"}`,children:[Cn(ut.paymentMode),ut.paymentMode||"Cash"]}),S.jsx("span",{className:"truncate max-w-[120px] opacity-70",children:ut.description})]})]})]})},ut.id))})]},j)),Object.keys(Fn).length===0&&S.jsxs("div",{className:"text-center py-20 opacity-40",children:[S.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(yD,{className:"w-8 h-8 text-gray-400"})}),S.jsx("p",{className:"font-medium text-sm",children:"No transactions found"})]})]})]}),Dt==="insights"&&S.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-10 duration-300",children:S.jsxs("div",{className:`p-6 rounded-[2rem] border ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[S.jsx(Fv,{className:"w-5 h-5 text-indigo-500"})," Budgets"]}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Track spending limits per category"})]}),S.jsx("button",{onClick:()=>Tt(!st),className:`text-xs font-bold px-4 py-2 rounded-xl transition-colors ${st?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-indigo-50 dark:bg-white/10 text-indigo-600 dark:text-indigo-400"}`,children:st?"Done":"Edit Limits"})]}),S.jsxs("div",{className:"space-y-6",children:[(st?Lo:li.map(j=>j.name)).map(j=>{const tt=li.find(Ge=>Ge.name===j),ut=tt?tt.value:0,wt=K[j]||0,fe=wt>0?Math.min(ut/wt*100,100):tt?tt.pct:0,je=wt>0&&ut>wt;return!st&&ut===0&&wt===0?null:S.jsxs("div",{className:"group",children:[S.jsxs("div",{className:"flex justify-between text-xs font-medium items-end mb-2",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-base ${X?"bg-white/5":"bg-gray-50"}`,children:yn(j)}),S.jsxs("div",{children:[S.jsx("div",{className:`font-bold ${X?"text-gray-200":"text-gray-900"}`,children:j}),!st&&wt>0&&S.jsx("div",{className:`text-[10px] mt-0.5 font-bold ${je?"text-rose-500":"text-gray-400"}`,children:je?`Over by ${(ut-wt).toLocaleString()}`:`Limit: ${wt.toLocaleString()}`})]})]}),S.jsx("div",{className:"text-right",children:st?S.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-black/30 rounded-lg px-2 py-1 border border-transparent focus-within:border-indigo-500 transition-colors",children:[S.jsx("span",{className:"text-gray-400",children:""}),S.jsx("input",{type:"number",className:`w-16 bg-transparent outline-none text-sm font-bold text-right ${X?"text-white":"text-gray-900"}`,placeholder:"0",value:K[j]||"",onChange:Ge=>it({...K,[j]:parseFloat(Ge.target.value)})})]}):S.jsxs("div",{className:"font-bold text-sm",children:["",ut.toLocaleString("en-IN")]})})]}),!st&&S.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:S.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${je?"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.5)]":"bg-gradient-to-r from-indigo-500 to-purple-500"}`,style:{width:`${fe}%`}})})]},j)}),!st&&li.length===0&&S.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"No expense data available"})]})]})}),Dt==="goals"&&S.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-10 duration-300",children:[l.map(j=>{const tt=Math.min(j.savedAmount/j.targetAmount*100,100);return S.jsxs("div",{onClick:()=>fn(j),className:`p-6 rounded-[2rem] border relative overflow-hidden transition-all hover:scale-[1.02] cursor-pointer ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg mb-1",children:j.title}),S.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Target: ",S.jsxs("span",{className:X?"text-gray-300":"text-gray-900",children:["",j.targetAmount.toLocaleString()]})]})]}),S.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:S.jsx(Qv,{className:"w-6 h-6"})})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[S.jsxs("span",{className:"text-emerald-500",children:["",j.savedAmount.toLocaleString()," Saved"]}),S.jsxs("span",{className:"text-gray-400",children:[Math.round(tt),"%"]})]}),S.jsx("div",{className:"h-3 w-full bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(16,185,129,0.4)]",style:{width:`${tt}%`}})})]})]},j.id)}),l.length===0&&S.jsxs("div",{className:"text-center py-20 opacity-50",children:[S.jsx(ND,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),S.jsx("p",{children:"No savings goals yet."})]})]}),Dt==="debt"&&S.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-10 duration-300",children:[d.map(j=>S.jsxs("div",{onClick:()=>fn(j),className:`p-5 rounded-[2rem] border flex items-center justify-between transition-all hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer ${X?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-inner ${j.debtType==="lent"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:S.jsx(zD,{className:"w-7 h-7"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg",children:j.person}),S.jsx("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider mt-1 ${j.debtType==="lent"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:j.debtType==="lent"?"Owes You":"You Owe"})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:`text-xl font-bold font-mono tracking-tight ${j.debtType==="lent"?"text-emerald-600":"text-rose-600"}`,children:["",j.amount.toLocaleString()]}),S.jsx("p",{className:"text-[10px] font-medium text-gray-400 mt-1",children:new Date(j.date).toLocaleDateString()})]})]},j.id)),d.length===0&&S.jsxs("div",{className:"text-center py-20 opacity-50",children:[S.jsx(Gv,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),S.jsx("p",{children:"No debts recorded."})]})]})]}),S.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-white/90 dark:bg-[#18181b]/90 backdrop-blur-xl border border-white/20 dark:border-white/10 p-1.5 rounded-full shadow-2xl shadow-indigo-500/10 flex items-center gap-1 z-40 transition-all duration-300 hover:scale-[1.02]",children:[S.jsx(he,{icon:bD,label:"Home",active:Dt==="transactions",onClick:()=>Yt("transactions")}),S.jsx(he,{icon:Fv,label:"Insights",active:Dt==="insights",onClick:()=>Yt("insights")}),S.jsx("button",{onClick:()=>fn(),className:"mx-2 h-14 w-14 bg-gradient-to-tr from-indigo-600 to-purple-600 rounded-full text-white shadow-lg shadow-indigo-600/40 flex items-center justify-center hover:scale-110 active:scale-95 transition-all border-4 border-white dark:border-[#18181b]",children:S.jsx(nm,{className:"w-7 h-7",strokeWidth:3})}),S.jsx(he,{icon:Qv,label:"Goals",active:Dt==="goals",onClick:()=>Yt("goals")}),S.jsx(he,{icon:Gv,label:"Debt",active:Dt==="debt",onClick:()=>Yt("debt")})]}),W&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 animate-in fade-in duration-300",onClick:()=>mt(!1)}),S.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-8 rounded-t-[2.5rem] z-[60] transition-transform duration-500 cubic-bezier(0.32, 0.72, 0, 1) animate-in slide-in-from-bottom duration-500 ${X?"bg-[#1c1c1f] border-t border-white/10":"bg-white shadow-[0_-10px_40px_rgba(0,0,0,0.1)]"}`,children:[S.jsx("div",{className:"w-16 h-1.5 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-8 opacity-50"}),S.jsxs("form",{onSubmit:Bn,className:"space-y-7",children:[S.jsx("div",{className:"text-center mb-6",children:S.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-[0.2em]",children:[ri?"Edit":"Add"," ",Et==="goal"?"Goal":Et==="debt"?"Debt":Et]})}),(Et==="expense"||Et==="income")&&!ri&&S.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1.5 rounded-2xl mb-6",children:[S.jsx("button",{type:"button",onClick:()=>zn("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all shadow-sm ${Et==="expense"?"bg-white dark:bg-white/10 text-rose-500 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Expense"}),S.jsx("button",{type:"button",onClick:()=>zn("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all shadow-sm ${Et==="income"?"bg-white dark:bg-white/10 text-emerald-500 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Income"})]}),Et==="debt"&&S.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1.5 rounded-2xl mb-6",children:[S.jsx("button",{type:"button",onClick:()=>Os("borrowed"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ae==="borrowed"?"bg-white dark:bg-white/10 text-rose-500 shadow-sm":"text-gray-500"}`,children:"Borrowed"}),S.jsx("button",{type:"button",onClick:()=>Os("lent"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${ae==="lent"?"bg-white dark:bg-white/10 text-emerald-500 shadow-sm":"text-gray-500"}`,children:"Lent"})]}),S.jsxs("div",{className:"text-center relative py-4",children:[S.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest absolute top-0 left-1/2 -translate-x-1/2",children:Et==="goal"?"Current Saved":"Amount"}),S.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[S.jsx("span",{className:`text-4xl font-bold ${Et==="income"||ae==="lent"||Et==="goal"?"text-emerald-500":"text-rose-500"}`,children:""}),S.jsx("input",{autoFocus:!0,type:"number",value:Ce,onChange:j=>wi(j.target.value),placeholder:"0",className:`text-6xl font-bold bg-transparent outline-none w-64 text-center placeholder-gray-200 dark:placeholder-white/10 ${X?"text-white":"text-gray-900"}`})]})]}),Et==="goal"&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Target Amount"}),S.jsx("input",{type:"number",value:xe,onChange:j=>hn(j.target.value),className:`w-full p-4 rounded-2xl border outline-none text-sm font-medium transition-all focus:ring-2 focus:ring-indigo-500/20 ${X?"bg-black/20 border-white/10 focus:border-indigo-500/50":"bg-gray-50 border-gray-200 focus:border-indigo-500"}`})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:Et==="goal"?"Goal Name":Et==="debt"?"Person":"Category"}),Et==="expense"||Et==="income"?ts?S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Ai,onChange:j=>es(j.target.value),placeholder:"New...",className:`w-full p-4 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),S.jsx("button",{type:"button",onClick:Sa,className:"bg-indigo-600 text-white p-4 rounded-2xl",children:S.jsx(Nm,{className:"w-4 h-4"})}),S.jsx("button",{type:"button",onClick:()=>Si(!1),className:"bg-gray-200 dark:bg-white/10 p-4 rounded-2xl",children:S.jsx(Kv,{className:"w-4 h-4"})})]}):S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative w-full",children:[S.jsxs("select",{value:ai,onChange:j=>Ri(j.target.value),className:`w-full p-4 rounded-2xl border outline-none text-sm appearance-none font-medium ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[S.jsx("option",{value:"",disabled:!0,children:"Select..."}),rs.map(j=>S.jsx("option",{value:j,children:j},j))]}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-50",children:S.jsx(em,{className:"w-4 h-4 rotate-90"})})]}),Et==="expense"&&S.jsx("button",{type:"button",onClick:()=>Si(!0),className:"p-4 bg-gray-100 dark:bg-white/5 rounded-2xl hover:bg-gray-200 transition-colors",children:S.jsx(nm,{className:"w-4 h-4 text-gray-500"})})]}):S.jsx("input",{type:"text",value:ai,onChange:j=>Ri(j.target.value),placeholder:Et==="debt"?"e.g. Rahul":"e.g. New Phone",className:`w-full p-4 rounded-2xl border outline-none text-sm font-medium ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),S.jsx("input",{type:"date",value:Ds,onChange:j=>pn(j.target.value),className:`w-full p-4 rounded-2xl border outline-none text-sm font-medium ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),(Et==="expense"||Et==="income")&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Payment Method"}),ns?S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:ss,onChange:j=>_e(j.target.value),placeholder:"e.g. HDFC Credit Card",className:`w-full p-4 rounded-2xl border outline-none text-sm ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),S.jsx("button",{type:"button",onClick:qn,className:"bg-indigo-600 text-white p-4 rounded-2xl",children:S.jsx(Nm,{className:"w-4 h-4"})}),S.jsx("button",{type:"button",onClick:()=>is(!1),className:"bg-gray-200 dark:bg-white/10 p-4 rounded-2xl",children:S.jsx(Kv,{className:"w-4 h-4"})})]}):S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative w-full",children:[S.jsx("select",{value:oi,onChange:j=>Or(j.target.value),className:`w-full p-4 rounded-2xl border outline-none text-sm appearance-none font-medium ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:sn.map(j=>S.jsx("option",{value:j,children:j},j))}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-50",children:S.jsx(em,{className:"w-4 h-4 rotate-90"})})]}),S.jsx("button",{type:"button",onClick:()=>is(!0),className:"p-4 bg-gray-100 dark:bg-white/5 rounded-2xl border border-transparent dark:border-white/5 hover:bg-gray-200 transition-colors",children:S.jsx(nm,{className:"w-4 h-4 text-gray-500"})})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Note"}),S.jsx("input",{type:"text",placeholder:"Optional description...",value:Mr,onChange:j=>Vr(j.target.value),className:`w-full p-4 rounded-2xl border outline-none text-sm font-medium ${X?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),S.jsxs("div",{className:"pt-4 space-y-3",children:[S.jsxs("button",{type:"submit",className:`w-full font-bold py-4 rounded-2xl text-white active:scale-[0.98] transition-all text-lg shadow-lg ${Et==="income"||ae==="lent"?"bg-emerald-600 shadow-emerald-500/30":"bg-indigo-600 shadow-indigo-500/30"}`,children:[ri?"Update":"Save"," Transaction"]}),ri&&S.jsx("button",{type:"button",onClick:()=>In(ri,Et==="goal"?"goals":Et==="debt"?"debts":"expenses"),className:"w-full py-4 text-rose-500 font-bold text-sm bg-rose-500/10 rounded-2xl hover:bg-rose-500/20 transition-colors",children:"Delete"})]})]})]})]})]}):S.jsx(QD,{onLogin:Ms,error:b}):S.jsx(KD,{})}AS.createRoot(document.getElementById("root")).render(S.jsx(ft.StrictMode,{children:S.jsx(YD,{})}));
