(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},Il={};var Y_;function fA(){if(Y_)return Il;Y_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=t,Il.jsx=i,Il.jsxs=i,Il}var X_;function dA(){return X_||(X_=1,xd.exports=fA()),xd.exports}var U=dA(),Od={exports:{}},At={};var $_;function mA(){if($_)return At;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function mt(x,Y,nt){this.props=x,this.context=Y,this.refs=W,this.updater=nt||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function pt(x,Y,nt){this.props=x,this.context=Y,this.refs=W,this.updater=nt||Z}var Nt=pt.prototype=new vt;Nt.constructor=pt,st(Nt,mt.prototype),Nt.isPureReactComponent=!0;var re=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,Y,nt){var it=nt.ref;return{$$typeof:s,type:x,key:Y,ref:it!==void 0?it:null,props:nt}}function M(x,Y){return I(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function le(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function me(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Mt,Mt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Y,nt,it,ft){var yt=typeof x;(yt==="undefined"||yt==="boolean")&&(x=null);var Dt=!1;if(x===null)Dt=!0;else switch(yt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(x.$$typeof){case s:case t:Dt=!0;break;case E:return Dt=x._init,H(Dt(x._payload),Y,nt,it,ft)}}if(Dt)return ft=ft(x),Dt=it===""?"."+le(x,0):it,re(ft)?(nt="",Dt!=null&&(nt=Dt.replace(w,"$&/")+"/"),H(ft,Y,nt,"",function(mi){return mi})):ft!=null&&(N(ft)&&(ft=M(ft,nt+(ft.key==null||x&&x.key===ft.key?"":(""+ft.key).replace(w,"$&/")+"/")+Dt)),Y.push(ft)),1;Dt=0;var ge=it===""?".":it+":";if(re(x))for(var Wt=0;Wt<x.length;Wt++)it=x[Wt],yt=ge+le(it,Wt),Dt+=H(it,Y,nt,yt,ft);else if(Wt=G(x),typeof Wt=="function")for(x=Wt.call(x),Wt=0;!(it=x.next()).done;)it=it.value,yt=ge+le(it,Wt++),Dt+=H(it,Y,nt,yt,ft);else if(yt==="object"){if(typeof x.then=="function")return H(me(x),Y,nt,it,ft);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function et(x,Y,nt){if(x==null)return x;var it=[],ft=0;return H(x,it,"","",function(yt){return Y.call(nt,yt,ft++)}),it}function lt(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ft={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=A,At.Children=Ft,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=pt,At.StrictMode=r,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=st({},x.props),ft=x.key;if(Y!=null)for(yt in Y.key!==void 0&&(ft=""+Y.key),Y)!S.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||(it[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)it.children=nt;else if(1<yt){for(var Dt=Array(yt),ge=0;ge<yt;ge++)Dt[ge]=arguments[ge+2];it.children=Dt}return I(x.type,ft,it)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,Y,nt){var it,ft={},yt=null;if(Y!=null)for(it in Y.key!==void 0&&(yt=""+Y.key),Y)S.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ft[it]=Y[it]);var Dt=arguments.length-2;if(Dt===1)ft.children=nt;else if(1<Dt){for(var ge=Array(Dt),Wt=0;Wt<Dt;Wt++)ge[Wt]=arguments[Wt+2];ft.children=ge}if(x&&x.defaultProps)for(it in Dt=x.defaultProps,Dt)ft[it]===void 0&&(ft[it]=Dt[it]);return I(x,yt,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:g,render:x}},At.isValidElement=N,At.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:lt}},At.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},At.startTransition=function(x){var Y=C.T,nt={};C.T=nt;try{var it=x(),ft=C.S;ft!==null&&ft(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Mt,zt)}catch(yt){zt(yt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(x){return C.H.use(x)},At.useActionState=function(x,Y,nt){return C.H.useActionState(x,Y,nt)},At.useCallback=function(x,Y){return C.H.useCallback(x,Y)},At.useContext=function(x){return C.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},At.useEffect=function(x,Y){return C.H.useEffect(x,Y)},At.useEffectEvent=function(x){return C.H.useEffectEvent(x)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(x,Y,nt){return C.H.useImperativeHandle(x,Y,nt)},At.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},At.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},At.useMemo=function(x,Y){return C.H.useMemo(x,Y)},At.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},At.useReducer=function(x,Y,nt){return C.H.useReducer(x,Y,nt)},At.useRef=function(x){return C.H.useRef(x)},At.useState=function(x){return C.H.useState(x)},At.useSyncExternalStore=function(x,Y,nt){return C.H.useSyncExternalStore(x,Y,nt)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var J_;function Dm(){return J_||(J_=1,Od.exports=mA()),Od.exports}var wt=Dm(),Md={exports:{}},Cl={},Vd={exports:{}},kd={};var Z_;function gA(){return Z_||(Z_=1,(function(s){function t(H,et){var lt=H.length;H.push(et);t:for(;0<lt;){var zt=lt-1>>>1,Ft=H[zt];if(0<l(Ft,et))H[zt]=et,H[lt]=Ft,lt=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],lt=H.pop();if(lt!==et){H[0]=lt;t:for(var zt=0,Ft=H.length,x=Ft>>>1;zt<x;){var Y=2*(zt+1)-1,nt=H[Y],it=Y+1,ft=H[it];if(0>l(nt,lt))it<Ft&&0>l(ft,nt)?(H[zt]=ft,H[it]=lt,zt=it):(H[zt]=nt,H[Y]=lt,zt=Y);else if(it<Ft&&0>l(ft,lt))H[zt]=ft,H[it]=lt,zt=it;else break t}}return et}function l(H,et){var lt=H.sortIndex-et.sortIndex;return lt!==0?lt:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,A=null,O=3,G=!1,Z=!1,st=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Nt(H){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=H)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function re(H){if(st=!1,Nt(H),!Z)if(i(_)!==null)Z=!0,Mt||(Mt=!0,k());else{var et=i(y);et!==null&&me(re,et.startTime-H)}}var Mt=!1,C=-1,S=5,I=-1;function M(){return W?!0:!(s.unstable_now()-I<S)}function N(){if(W=!1,Mt){var H=s.unstable_now();I=H;var et=!0;try{t:{Z=!1,st&&(st=!1,vt(C),C=-1),G=!0;var lt=O;try{e:{for(Nt(H),A=i(_);A!==null&&!(A.expirationTime>H&&M());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,O=A.priorityLevel;var Ft=zt(A.expirationTime<=H);if(H=s.unstable_now(),typeof Ft=="function"){A.callback=Ft,Nt(H),et=!0;break e}A===i(_)&&r(_),Nt(H)}else r(_);A=i(_)}if(A!==null)et=!0;else{var x=i(y);x!==null&&me(re,x.startTime-H),et=!1}}break t}finally{A=null,O=lt,G=!1}et=void 0}}finally{et?k():Mt=!1}}}var k;if(typeof pt=="function")k=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,le=w.port2;w.port1.onmessage=N,k=function(){le.postMessage(null)}}else k=function(){mt(N,0)};function me(H,et){C=mt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var lt=O;O=et;try{return H()}finally{O=lt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=O;O=H;try{return et()}finally{O=lt}},s.unstable_scheduleCallback=function(H,et,lt){var zt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=lt+Ft,H={id:E++,callback:et,priorityLevel:H,startTime:lt,expirationTime:Ft,sortIndex:-1},lt>zt?(H.sortIndex=lt,t(y,H),i(_)===null&&H===i(y)&&(st?(vt(C),C=-1):st=!0,me(re,lt-zt))):(H.sortIndex=Ft,t(_,H),Z||G||(Z=!0,Mt||(Mt=!0,k()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var et=O;return function(){var lt=O;O=et;try{return H.apply(this,arguments)}finally{O=lt}}}})(kd)),kd}var W_;function pA(){return W_||(W_=1,Vd.exports=gA()),Vd.exports}var Ud={exports:{}},tn={};var tv;function yA(){if(tv)return tn;tv=1;var s=Dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},tn.flushSync=function(_){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=E,r.d.f()}},tn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},tn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},tn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:G}):E==="script"&&r.d.X(_,{crossOrigin:A,integrity:O,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},tn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},tn.requestFormReset=function(_){r.d.r(_)},tn.unstable_batchedUpdates=function(_,y){return _(y)},tn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var ev;function _A(){if(ev)return Ud.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=yA(),Ud.exports}var nv;function vA(){if(nv)return Cl;nv=1;var s=pA(),t=Dm(),i=_A();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case re:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function x(e){return{current:e}}function Y(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function nt(e,n){Ft++,zt[Ft]=e.current,e.current=n}var it=x(null),ft=x(null),yt=x(null),Dt=x(null);function ge(e,n){switch(nt(yt,n),nt(ft,e),nt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),nt(it,e)}function Wt(){Y(it),Y(ft),Y(yt)}function mi(e){e.memoizedState!==null&&nt(Dt,e);var n=it.current,a=__(n,e.type);n!==a&&(nt(ft,e),nt(it,a))}function Qn(e){ft.current===e&&(Y(it),Y(ft)),Dt.current===e&&(Y(Dt),Al._currentValue=lt)}var Ki,Kn;function vn(e){if(Ki===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ki=n&&n[1]||"",Kn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+e+Kn}var Yi=!1;function gi(e,n){if(!e||Yi)return"";Yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Yi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vn(a):""}function Xi(e,n){switch(e.tag){case 26:case 27:case 5:return vn(e.type);case 16:return vn("Lazy");case 13:return e.child!==n&&n!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return gi(e.type,!1);case 11:return gi(e.type.render,!1);case 1:return gi(e.type,!0);case 31:return vn("Activity");default:return""}}function Tr(e){try{var n="",a=null;do n+=Xi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,te=s.unstable_scheduleCallback,Yn=s.unstable_cancelCallback,da=s.unstable_shouldYield,ma=s.unstable_requestPaint,Be=s.unstable_now,$i=s.unstable_getCurrentPriorityLevel,Er=s.unstable_ImmediatePriority,br=s.unstable_UserBlockingPriority,pi=s.unstable_NormalPriority,Io=s.unstable_LowPriority,Xn=s.unstable_IdlePriority,Ji=s.log,Ar=s.unstable_setDisableYieldValue,Tn=null,Ue=null;function un(e){if(typeof Ji=="function"&&Ar(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Tn,e)}catch{}}var Q=Math.clz32?Math.clz32:Yt,Tt=Math.log,gt=Math.LN2;function Yt(e){return e>>>=0,e===0?32:31-(Tt(e)/gt|0)|0}var Gt=256,$n=262144,we=4194304;function yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=yi(o):(p&=T,p!==0?h=yi(p):a||(a=T&~e,a!==0&&(h=yi(a))))):(T=o&~f,T!==0?h=yi(T):p!==0?h=yi(p):a||(a=o&~e,a!==0&&(h=yi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function vi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-Q(a),X=1<<F;T[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function wr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Q(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Co(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Q(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function No(e,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function Zn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Wn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Wn,qe="__reactProps$"+Wn,Ti="__reactContainer$"+Wn,ga="__reactEvents$"+Wn,Uh="__reactListeners$"+Wn,su="__reactHandles$"+Wn,ru="__reactResources$"+Wn,Ei="__reactMarker$"+Wn;function pa(e){delete e[Re],delete e[qe],delete e[ga],delete e[Uh],delete e[su]}function bi(e){var n=e[Re];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ti]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Re])return a;e=w_(e)}return n}e=a,a=e.parentNode}return null}function On(e){if(e=e[Re]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ai(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[Ei]=!0}var Do=new Set,xo={};function Si(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(xo[e]=n,e=0;e<n.length;e++)Do.add(n[e])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function au(e){return ye.call(Vo,e)?!0:ye.call(Mo,e)?!1:Oo.test(e)?Vo[e]=!0:(Mo[e]=!0,!1)}function ya(e,n,a){if(au(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function bn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ce(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ko(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=ko(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function cn(e){return e.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Uo(e,p,He(n)):a!=null?Uo(e,p,He(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function ou(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}a=a!=null?""+He(a):"",n=n!=null?""+He(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),$t(e)}function Uo(e,n,a){n==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,a){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+He(a):""}function Rs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(me(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=He(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),$t(e)}function hn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||uu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Po(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Lo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(e,f,n[f])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var zo=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Ii=null;function Nr(e){var n=On(e);if(n&&(e=n.stateNode)){var a=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(r(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Ir(o)}break t;case"textarea":lu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ws(e,!!a.multiple,n,!1)}}}var Ea=!1;function Ns(e,n,a){if(Ea)return e(n,a);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(Cs!==null||Ii!==null)&&(ic(),Cs&&(n=Cs,e=Ii,Ii=Cs=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function ei(e,n){var a=e.stateNode;if(a===null)return null;var o=a[qe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Vn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Dr=!1}var Ci=null,jo=null,xr=null;function Bo(){if(xr)return xr;var e,n=jo,a=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function ni(){return!1}function Qe(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:ni,this.isPropagationStopped=ni,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Qe(ts),Ds=A({},ts,{view:0,detail:0}),qo=Qe(Ds),xs,ba,Di,Aa=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(xs=e.screenX-Di.screenX,ba=e.screenY-Di.screenY):ba=xs=0,Di=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Ho=Qe(Aa),Mr=A({},Aa,{dataTransfer:0}),hu=Qe(Mr),fu=A({},Ds,{relatedTarget:0}),Vr=Qe(fu),Fo=A({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Qe(Fo),Sa=A({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Qe(Sa),gu=A({},ts,{data:0}),xi=Qe(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Os(){return vu}var an=A({},Ds,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Qe(an),Eu=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Qe(Eu),u=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Qe(u),v=A({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(v),L=A({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(L),tt=A({},ts,{newState:0,oldState:0}),Rt=Qe(tt),Te=[9,13,27,32],Qt=Vn&&"CompositionEvent"in window,fe=null;Vn&&"documentMode"in document&&(fe=document.documentMode);var kn=Vn&&"TextEvent"in window&&!fe,Oi=Vn&&(!Qt||fe&&8<fe&&11>=fe),ii=" ",si=!1;function kr(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function U1(e,n){switch(e){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function L1(e,n){if(Ra)return e==="compositionend"||!Qt&&kr(e,n)?(e=Bo(),xr=jo=Ci=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P1[e.type]:n==="textarea"}function Ng(e,n,a,o){Cs?Ii?Ii.push(o):Ii=[o]:Cs=o,n=cc(n,"onChange"),0<n.length&&(a=new Ni("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Go=null,Qo=null;function z1(e){h_(e,0)}function bu(e){var n=En(e);if(Ir(n))return e}function Dg(e,n){if(e==="change")return n}var xg=!1;if(Vn){var Lh;if(Vn){var Ph="oninput"in document;if(!Ph){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Ph=typeof Og.oninput=="function"}Lh=Ph}else Lh=!1;xg=Lh&&(!document.documentMode||9<document.documentMode)}function Mg(){Go&&(Go.detachEvent("onpropertychange",Vg),Qo=Go=null)}function Vg(e){if(e.propertyName==="value"&&bu(Qo)){var n=[];Ng(n,Qo,e,Mn(e)),Ns(z1,n)}}function j1(e,n,a){e==="focusin"?(Mg(),Go=n,Qo=a,Go.attachEvent("onpropertychange",Vg)):e==="focusout"&&Mg()}function B1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Qo)}function q1(e,n){if(e==="click")return bu(n)}function H1(e,n){if(e==="input"||e==="change")return bu(n)}function F1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:F1;function Ko(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!An(e[h],n[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ri(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ri(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G1=Vn&&"documentMode"in document&&11>=document.documentMode,Ia=null,jh=null,Yo=null,Bh=!1;function zg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||Ia==null||Ia!==Ri(o)||(o=Ia,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Ko(Yo,o)||(Yo=o,o=cc(jh,"onSelect"),0<o.length&&(n=new Ni("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ia)))}function Ur(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ca={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},qh={},jg={};Vn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Lr(e){if(qh[e])return qh[e];if(!Ca[e])return e;var n=Ca[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jg)return qh[e]=n[a];return e}var Bg=Lr("animationend"),qg=Lr("animationiteration"),Hg=Lr("animationstart"),Q1=Lr("transitionrun"),K1=Lr("transitionstart"),Y1=Lr("transitioncancel"),Fg=Lr("transitionend"),Gg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ri(e,n){Gg.set(e,n),Si(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],Na=0,Fh=0;function Su(){for(var e=Na,n=Fh=Na=0;n<e;){var a=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Qg(a,h,f)}}function wu(e,n,a,o){Un[Na++]=e,Un[Na++]=n,Un[Na++]=a,Un[Na++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return wu(e,n,a,o),Ru(e)}function Pr(e,n){return wu(e,null,null,n),Ru(e)}function Qg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Q(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ru(e){if(50<pl)throw pl=0,ed=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function X1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,a,o){return new X1(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ns(e,n){var a=e.alternate;return a===null?(a=Sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=tA(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Sn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return zr(a.children,h,f,n);case W:p=8,h|=24;break;case mt:return e=Sn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case re:return e=Sn(13,a,n,h),e.elementType=re,e.lanes=f,e;case Mt:return e=Sn(19,a,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case vt:p=9;break t;case Nt:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Sn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zr(e,n,a,o){return e=Sn(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=Sn(6,e,null,n),e.lanes=a,e}function Yg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xg=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Tr(n)},Xg.set(e,n),n)}return{value:e,source:n,stack:Tr(n)}}var xa=[],Oa=0,Cu=null,Xo=0,Pn=[],zn=0,Ms=null,Mi=1,Vi="";function is(e,n){xa[Oa++]=Xo,xa[Oa++]=Cu,Cu=e,Xo=n}function $g(e,n,a){Pn[zn++]=Mi,Pn[zn++]=Vi,Pn[zn++]=Ms,Ms=e;var o=Mi;e=Vi;var h=32-Q(o)-1;o&=~(1<<h),a+=1;var f=32-Q(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-Q(n)+h|a<<h|o,Vi=f+e}else Mi=1<<f|a<<h|o,Vi=e}function Xh(e){e.return!==null&&(is(e,1),$g(e,1,0))}function $h(e){for(;e===Cu;)Cu=xa[--Oa],xa[Oa]=null,Xo=xa[--Oa],xa[Oa]=null;for(;e===Ms;)Ms=Pn[--zn],Pn[zn]=null,Vi=Pn[--zn],Pn[zn]=null,Mi=Pn[--zn],Pn[zn]=null}function Jg(e,n){Pn[zn++]=Mi,Pn[zn++]=Vi,Pn[zn++]=Ms,Mi=n.id,Vi=n.overflow,Ms=e}var Ke=null,ue=null,jt=!1,Vs=null,jn=!1,Jh=Error(r(519));function ks(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Ln(n,e)),Jh}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Re]=e,n[qe]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<_l.length;a++)Ot(_l[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||g_(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||ks(e,!0)}function Wg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function Ma(e){if(e!==Ke)return!1;if(!jt)return Wg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ue&&ks(e),Wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ue=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ue=S_(e)}else n===27?(n=ue,Xs(e.type)?(e=Ed,Ed=null,ue=e):ue=n):ue=Ke?qn(e.stateNode.nextSibling):null;return!0}function jr(){ue=Ke=null,jt=!1}function Zh(){var e=Vs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Vs=null),e}function $o(e){Vs===null?Vs=[e]:Vs.push(e)}var Wh=x(null),Br=null,ss=null;function Us(e,n,a){nt(Wh,n._currentValue),n._currentValue=a}function rs(e){e._currentValue=Wh.current,Y(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),tf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;An(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return tp(Br,e)}function Du(e,n){return Br===null&&qr(e),tp(e,n)}function tp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ss===null){if(e===null)throw Error(r(308));ss=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ss=ss.next=n;return a}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},J1=s.unstable_scheduleCallback,Z1=s.unstable_NormalPriority,Ne={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new $1,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&J1(Z1,function(){e.controller.abort()})}var Zo=null,sf=0,ka=0,Ua=null;function W1(e,n){if(Zo===null){var a=Zo=[];sf=0,ka=od(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(ep,ep),n}function ep(){if(--sf===0&&Zo!==null){Ua!==null&&(Ua.status="fulfilled");var e=Zo;Zo=null,ka=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=H.S;H.S=function(e,n){zy=Be(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W1(e,n),np!==null&&np(e,n)};var Hr=x(null);function rf(){var e=Hr.current;return e!==null?e:ae.pooledCache}function xu(e,n){n===null?nt(Hr,Hr.current):nt(Hr,n.pool)}function ip(){var e=rf();return e===null?null:{parent:Ne._currentValue,pool:e}}var La=Error(r(460)),af=Error(r(474)),Ou=Error(r(542)),Mu={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ti,ti),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e}throw Gr=n,La}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,La):a}}var Gr=null;function ap(){if(Gr===null)throw Error(r(459));var e=Gr;return Gr=null,e}function op(e){if(e===La||e===Ou)throw Error(r(483))}var Pa=null,Wo=0;function Vu(e){var n=Wo;return Wo+=1,Pa===null&&(Pa=[]),rp(Pa,e,n)}function tl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=ns(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,P,K){return D===null||D.tag!==6?(D=Kh(P,V.mode,K),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,K){var ct=P.type;return ct===st?F(V,D,P.props.children,K,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Fr(ct)===D.type)?(D=h(D,P.props),tl(D,P),D.return=V,D):(D=Iu(P.type,P.key,P.props,null,V.mode,K),tl(D,P),D.return=V,D)}function z(V,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,V.mode,K),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function F(V,D,P,K,ct){return D===null||D.tag!==7?(D=zr(P,V.mode,K,ct),D.return=V,D):(D=h(D,P),D.return=V,D)}function X(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Iu(D.type,D.key,D.props,null,V.mode,P),tl(P,D),P.return=V,P;case Z:return D=Yh(D,V.mode,P),D.return=V,D;case S:return D=Fr(D),X(V,D,P)}if(me(D)||k(D))return D=zr(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return X(V,Vu(D),P);if(D.$$typeof===pt)return X(V,Du(V,D),P);ku(V,D)}return null}function j(V,D,P,K){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:T(V,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ct?R(V,D,P,K):null;case Z:return P.key===ct?z(V,D,P,K):null;case S:return P=Fr(P),j(V,D,P,K)}if(me(P)||k(P))return ct!==null?null:F(V,D,P,K,null);if(typeof P.then=="function")return j(V,D,Vu(P),K);if(P.$$typeof===pt)return j(V,D,Du(V,P),K);ku(V,P)}return null}function q(V,D,P,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(P)||null,T(D,V,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return V=V.get(K.key===null?P:K.key)||null,R(D,V,K,ct);case Z:return V=V.get(K.key===null?P:K.key)||null,z(D,V,K,ct);case S:return K=Fr(K),q(V,D,P,K,ct)}if(me(K)||k(K))return V=V.get(P)||null,F(D,V,K,ct,null);if(typeof K.then=="function")return q(V,D,P,Vu(K),ct);if(K.$$typeof===pt)return q(V,D,P,Du(D,K),ct);ku(D,K)}return null}function at(V,D,P,K){for(var ct=null,qt=null,ot=D,Ct=D=0,kt=null;ot!==null&&Ct<P.length;Ct++){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var Ht=j(V,ot,P[Ct],K);if(Ht===null){ot===null&&(ot=kt);break}e&&ot&&Ht.alternate===null&&n(V,ot),D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,ot=kt}if(Ct===P.length)return a(V,ot),jt&&is(V,Ct),ct;if(ot===null){for(;Ct<P.length;Ct++)ot=X(V,P[Ct],K),ot!==null&&(D=f(ot,D,Ct),qt===null?ct=ot:qt.sibling=ot,qt=ot);return jt&&is(V,Ct),ct}for(ot=o(ot);Ct<P.length;Ct++)kt=q(ot,V,Ct,P[Ct],K),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?Ct:kt.key),D=f(kt,D,Ct),qt===null?ct=kt:qt.sibling=kt,qt=kt);return e&&ot.forEach(function(tr){return n(V,tr)}),jt&&is(V,Ct),ct}function dt(V,D,P,K){if(P==null)throw Error(r(151));for(var ct=null,qt=null,ot=D,Ct=D=0,kt=null,Ht=P.next();ot!==null&&!Ht.done;Ct++,Ht=P.next()){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var tr=j(V,ot,Ht.value,K);if(tr===null){ot===null&&(ot=kt);break}e&&ot&&tr.alternate===null&&n(V,ot),D=f(tr,D,Ct),qt===null?ct=tr:qt.sibling=tr,qt=tr,ot=kt}if(Ht.done)return a(V,ot),jt&&is(V,Ct),ct;if(ot===null){for(;!Ht.done;Ct++,Ht=P.next())Ht=X(V,Ht.value,K),Ht!==null&&(D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return jt&&is(V,Ct),ct}for(ot=o(ot);!Ht.done;Ct++,Ht=P.next())Ht=q(ot,V,Ct,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ot.delete(Ht.key===null?Ct:Ht.key),D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&ot.forEach(function(hA){return n(V,hA)}),jt&&is(V,Ct),ct}function se(V,D,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===st){if(D.tag===7){a(V,D.sibling),K=h(D,P.props.children),K.return=V,V=K;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Fr(ct)===D.type){a(V,D.sibling),K=h(D,P.props),tl(K,P),K.return=V,V=K;break t}a(V,D);break}else n(V,D);D=D.sibling}P.type===st?(K=zr(P.props.children,V.mode,K,P.key),K.return=V,V=K):(K=Iu(P.type,P.key,P.props,null,V.mode,K),tl(K,P),K.return=V,V=K)}return p(V);case Z:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(V,D.sibling),K=h(D,P.children||[]),K.return=V,V=K;break t}else{a(V,D);break}else n(V,D);D=D.sibling}K=Yh(P,V.mode,K),K.return=V,V=K}return p(V);case S:return P=Fr(P),se(V,D,P,K)}if(me(P))return at(V,D,P,K);if(k(P)){if(ct=k(P),typeof ct!="function")throw Error(r(150));return P=ct.call(P),dt(V,D,P,K)}if(typeof P.then=="function")return se(V,D,Vu(P),K);if(P.$$typeof===pt)return se(V,D,Du(V,P),K);ku(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(V,D.sibling),K=h(D,P),K.return=V,V=K):(a(V,D),K=Kh(P,V.mode,K),K.return=V,V=K),p(V)):a(V,D)}return function(V,D,P,K){try{Wo=0;var ct=se(V,D,P,K);return Pa=null,ct}catch(ot){if(ot===La||ot===Ou)throw ot;var qt=Sn(29,ot,null,V.mode);return qt.lanes=K,qt.return=V,qt}}}var Qr=lp(!0),up=lp(!1),Ls=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Qg(e,null,a),n}return wu(e,o,n,a),Ru(e)}function el(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Co(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function nl(){if(cf){var e=Ua;if(e!==null)throw e}}function il(e,n,a,o){cf=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,F=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Vt&j)===j:(o&j)===j){j!==0&&j===ka&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,dt=T;j=n;var se=a;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){X=at.call(se,X,j);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,j=typeof at=="function"?at.call(se,X,j):at,j==null)break t;X=A({},X,j);break t;case 2:Ls=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Fs|=p,e.lanes=p,e.memoizedState=X}}function cp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function hp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cp(a[e],n)}var za=x(null),Uu=x(0);function fp(e,n){e=ms,nt(Uu,e),nt(za,n),ms=e|n.baseLanes}function hf(){nt(Uu,ms),nt(za,za.current)}function ff(){ms=Uu.current,Y(za),Y(Uu)}var wn=x(null),Bn=null;function js(e){var n=e.alternate;nt(Ee,Ee.current&1),nt(wn,e),Bn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Bn=e)}function df(e){nt(Ee,Ee.current),nt(wn,e),Bn===null&&(Bn=e)}function dp(e){e.tag===22?(nt(Ee,Ee.current),nt(wn,e),Bn===null&&(Bn=e)):Bs()}function Bs(){nt(Ee,Ee.current),nt(wn,wn.current)}function Rn(e){Y(wn),Bn===e&&(Bn=null),Y(Ee)}var Ee=x(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,It=null,ne=null,De=null,Pu=!1,ja=!1,Kr=!1,zu=0,sl=0,Ba=null,eb=0;function _e(){throw Error(r(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!An(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return as=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?$p:Df,Kr=!1,f=a(o,h),Kr=!1,ja&&(f=gp(n,a,o,h)),mp(e),f}function mp(e){H.H=ol;var n=ne!==null&&ne.next!==null;if(as=0,De=ne=It=null,Pu=!1,sl=0,Ba=null,n)throw Error(r(300));e===null||xe||(e=e.dependencies,e!==null&&Nu(e)&&(xe=!0))}function gp(e,n,a,o){It=e;var h=0;do{if(ja&&(Ba=null),sl=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,De=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Jp,f=n(a,o)}while(ja);return f}function nb(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?rl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(It.flags|=1024),n}function pf(){var e=zu!==0;return zu=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}as=0,De=ne=It=null,ja=!1,sl=zu=0,Ba=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=e:De=De.next=e,De}function be(){if(ne===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=De===null?It.memoizedState:De.next;if(n!==null)De=n,ne=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},De===null?It.memoizedState=De=e:De=De.next=e}return De}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var n=sl;return sl+=1,Ba===null&&(Ba=[]),e=rp(Ba,e,n),n=It,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$p:Df),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===pt)return Ye(e)}throw Error(r(438,String(e)))}function vf(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ju(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function os(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=be();return Tf(n,ne,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(as&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ka&&(F=!0);else if((as&j)===j){z=z.next,j===ka&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,p=f):R=R.next=X,It.lanes|=j,Fs|=j;X=z.action,Kr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,It.lanes|=X,Fs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!An(f,e.memoizedState)&&(xe=!0,F&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=be(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(e,n,a){var o=It,h=be(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!An((ne||h).memoizedState,a);if(p&&(h.memoizedState=a,xe=!0),h=h.queue,Sf(vp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,h,a,n),null),ae===null)throw Error(r(349));f||(as&127)!==0||yp(o,n,a)}return a}function yp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=ju(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _p(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Ep(e)}function vp(e,n,a){return a(function(){Tp(n)&&Ep(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!An(e,a)}catch{return!0}}function Ep(e){var n=Pr(e,2);n!==null&&pn(n,e,2)}function bf(e){var n=on();if(typeof e=="function"){var a=e;if(e=a(),Kr){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},n}function bp(e,n,a,o){return e.baseState=a,Tf(e,ne,typeof o=="function"?o:os)}function ib(e,n,a,o,h){if(Gu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ap(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ap(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var T=a(h,o),R=H.S;R!==null&&R(p,T),Sp(e,n,T)}catch(z){Af(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),Sp(e,n,f)}catch(z){Af(e,n,z)}}function Sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(e,n,o)},function(o){return Af(e,n,o)}):wp(e,n,a)}function wp(e,n,a){n.status="fulfilled",n.value=a,Rp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ap(e,a)))}function Af(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rp(n),n=n.next;while(n!==o)}e.action=null}function Rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function Cp(e,n){if(jt){var a=ae.formState;if(a!==null){t:{var o=It;if(jt){if(ue){e:{for(var h=ue,f=jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=qn(h.nextSibling),o=h.data==="F!";break t}}ks(o)}o=!1}o&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Kp.bind(null,It,o),o.dispatch=a,o=bf(!1),f=Nf.bind(null,It,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=ib.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Np(e){var n=be();return Dp(n,ne,e)}function Dp(e,n,a){if(n=Tf(e,n,Ip)[0],e=qu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(p){throw p===La?Ou:p}else o=n;n=be();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,qa(9,{destroy:void 0},sb.bind(null,h,a),null)),[o,f,e]}function sb(e,n){e.action=n}function xp(e){var n=be(),a=ne;if(a!==null)return Dp(n,a,e);be(),n=n.memoizedState,a=be();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function qa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=ju(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return be().memoizedState}function Hu(e,n,a,o){var h=on();It.flags|=e,h.memoizedState=qa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Fu(e,n,a,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;ne!==null&&o!==null&&mf(o,ne.memoizedState.deps)?h.memoizedState=qa(n,f,a,o):(It.flags|=e,h.memoizedState=qa(1|n,f,a,o))}function Mp(e,n){Hu(8390656,8,e,n)}function Sf(e,n){Fu(2048,8,e,n)}function rb(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=ju(),It.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vp(e){var n=be().memoizedState;return rb({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(e,n){return Fu(4,2,e,n)}function Up(e,n){return Fu(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,a){a=a!=null?a.concat([e]):null,Fu(4,4,Lp.bind(null,n,e),a)}function wf(){}function zp(e,n){var a=be();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jp(e,n){var a=be();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Kr){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(as&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),It.lanes|=e,Fs|=e,a)}function Bp(e,n,a,o){return An(a,n)?a:za.current!==null?(e=Rf(e,a,o),An(e,n)||(xe=!0),e):(as&42)===0||(as&1073741824)!==0&&(Vt&261930)===0?(xe=!0,e.memoizedState=a):(e=By(),It.lanes|=e,Fs|=e,n)}function qp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,T={};H.T=T,Nf(e,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=tb(R,o);al(e,n,F,Nn(e))}else al(e,n,o,Nn(e))}catch(X){al(e,n,{then:function(){},status:"rejected",reason:X},Nn())}finally{et.p=f,p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}function ab(){}function If(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Hp(e).queue;qp(e,h,n,lt,a===null?ab:function(){return Fp(e),a(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Hp(e);n.next===null&&(n=e.alternate.memoizedState),al(e,n.next.queue,{},Nn())}function Cf(){return Ye(Al)}function Gp(){return be().memoizedState}function Qp(){return be().memoizedState}function ob(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Nn();e=Ps(a);var o=zs(n,e,a);o!==null&&(pn(o,n,a),el(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function lb(e,n,a){var o=Nn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Yp(n,a):(a=Gh(e,n,a,o),a!==null&&(pn(a,e,o),Xp(a,n,o)))}function Kp(e,n,a){var o=Nn();al(e,n,a,o)}function al(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,An(T,p))return wu(e,n,h,0),ae===null&&Su(),!1}catch{}if(a=Gh(e,n,h,o),a!==null)return pn(a,e,o),Xp(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(r(479))}else n=Gh(e,a,o,2),n!==null&&pn(n,e,2)}function Gu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Yp(e,n){ja=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Co(e,a)}}var ol={readContext:Ye,use:Bu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ol.useEffectEvent=_e;var $p={readContext:Ye,use:Bu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Mp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var a=on();n=n===void 0?null:n;var o=e();if(Kr){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=on();if(a!==void 0){var h=a(n);if(Kr){un(!0);try{a(n)}finally{un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=lb.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,a=Kp.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=on();return Rf(a,e,n)},useTransition:function(){var e=bf(!1);return e=qp.bind(null,It,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=on();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ae===null)throw Error(r(349));(Vt&127)!==0||yp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mp(vp.bind(null,o,f,e),[e]),o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,f,a,n),null),a},useId:function(){var e=on(),n=ae.identifierPrefix;if(jt){var a=Vi,o=Mi;a=(o&~(1<<32-Q(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return on().memoizedState=ob.bind(null,It)},useEffectEvent:function(e){var n=on(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Ye,use:Bu,useCallback:zp,useContext:Ye,useEffect:Sf,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:qu,useRef:Op,useState:function(){return qu(os)},useDebugValue:wf,useDeferredValue:function(e,n){var a=be();return Bp(a,ne.memoizedState,e,n)},useTransition:function(){var e=qu(os)[0],n=be().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=be();return bp(a,ne,e,n)},useMemoCache:vf,useCacheRefresh:Qp};Df.useEffectEvent=Vp;var Jp={readContext:Ye,use:Bu,useCallback:zp,useContext:Ye,useEffect:Sf,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Ef,useRef:Op,useState:function(){return Ef(os)},useDebugValue:wf,useDeferredValue:function(e,n){var a=be();return ne===null?Rf(a,e,n):Bp(a,ne.memoizedState,e,n)},useTransition:function(){var e=Ef(os)[0],n=be().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Cf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=be();return ne!==null?bp(a,ne,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Qp};Jp.useEffectEvent=Vp;function xf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Of={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Nn(),h=Ps(o);h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(pn(n,e,o),el(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Nn(),h=Ps(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(pn(n,e,o),el(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Nn(),o=Ps(a);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,a),n!==null&&(pn(n,e,a),el(n,e,a))}};function Zp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ko(a,o)||!Ko(h,f):!0}function Wp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){Au(e)}function ey(e){console.error(e)}function ny(e){Au(e)}function Qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,n)},a}function sy(e){return e=Ps(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){iy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function ub(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?sc():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(r(435,a.tag))}return sd(e,o,h),sc(),!1}if(jt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(r(422),{cause:o}),$o(Ln(e,a)))):(o!==Jh&&(n=Error(r(423),{cause:o}),$o(Ln(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,a),h=Mf(e.stateNode,o,h),uf(e,h),ve!==4&&(ve=2)),!1;var f=Error(r(520),{cause:o});if(f=Ln(f,a),gl===null?gl=[f]:gl.push(f),ve!==4&&(ve=2),n===null)return!0;o=Ln(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),xe=!1;function Xe(e,n,a,o){n.child=e===null?up(n,null,a,o):Qr(n,e.child,a,o)}function ay(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return qr(n),o=gf(e,n,a,p,f,h),T=pf(),e!==null&&!xe?(yf(e,n,h),ls(e,n,h)):(jt&&T&&Xh(n),n.flags|=1,Xe(e,n,o,h),n.child)}function oy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(e,n,f,o,h)):(e=Iu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(p,o)&&e.ref===n.ref)return ls(e,n,h)}return n.flags|=1,e=ns(f,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ko(f,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,ls(e,n,h)}return kf(e,n,a,o,h)}function uy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?fp(n,f):hf(),dp(n);else return o=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(n,f.cachePool),fp(n,f),Bs(),n.memoizedState=null):(e!==null&&xu(n,null),hf(),Bs());return Xe(e,n,h,a),n.child}function ll(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),hf(),dp(n),e!==null&&Va(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return Qr(n,e.child,null,a),e=Ku(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function cb(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,ll(null,e);if(df(n),(e=ue)?(e=A_(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Ke=n,ue=null)):e=null,e===null)throw ks(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(xe||Va(e,n,a,!1),h=(a&e.childLanes)!==0,xe||h){if(o=ae,o!==null&&(p=No(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Pr(e,p),pn(o,e,p),Vf;sc(),n=hy(e,n,a)}else e=f.treeContext,ue=qn(p.nextSibling),Ke=n,jt=!0,Vs=null,jn=!1,e!==null&&Jg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=ns(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,o,h){return qr(n),a=gf(e,n,a,o,void 0,h),o=pf(),e!==null&&!xe?(yf(e,n,h),ls(e,n,h)):(jt&&o&&Xh(n),n.flags|=1,Xe(e,n,a,h),n.child)}function fy(e,n,a,o,h,f){return qr(n),n.updateQueue=null,a=gp(n,o,a,h),mp(e),o=pf(),e!==null&&!xe?(yf(e,n,f),ls(e,n,f)):(jt&&o&&Xh(n),n.flags|=1,Xe(e,n,a,f),n.child)}function dy(e,n,a,o,h){if(qr(n),n.stateNode===null){var f=Da,p=a.contextType;typeof p=="object"&&p!==null&&(f=Ye(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Ye(p):Da,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(xf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),il(n,o,f,h),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Yr(a,T);f.props=R;var z=f.context,F=a.contextType;p=Da,typeof F=="object"&&F!==null&&(p=Ye(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Wp(n,f,o,p),Ls=!1;var j=n.memoizedState;f.state=j,il(n,o,f,h),nl(),z=n.memoizedState,T||j!==z||Ls?(typeof X=="function"&&(xf(n,a,X,o),z=n.memoizedState),(R=Ls||Zp(n,a,R,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,F=Yr(a,p),f.props=F,X=n.pendingProps,j=f.context,z=a.contextType,R=Da,typeof z=="object"&&z!==null&&(R=Ye(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==R)&&Wp(n,f,o,R),Ls=!1,j=n.memoizedState,f.state=j,il(n,o,f,h),nl();var q=n.memoizedState;p!==X||j!==q||Ls||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof T=="function"&&(xf(n,a,T,o),q=n.memoizedState),(F=Ls||Zp(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,a,h)):Xe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ls(e,n,h),e}function my(e,n,a,o){return jr(),n.flags|=256,Xe(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:ip()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function gy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?js(n):Bs(),(e=ue)?(e=A_(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,Ke=n,ue=null)):e=null,e===null)throw ks(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Bs(),h=n.mode,T=Xu({mode:"hidden",children:T},h),o=zr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,ll(null,o)):(js(n),zf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=jf(e,n,a)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),T=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),T=zr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Qr(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,n=ll(null,o));else if(js(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,$o({value:o,source:null,stack:null}),n=jf(e,n,a)}else if(xe||Va(e,n,a,!1),p=(a&e.childLanes)!==0,xe||p){if(p=ae,p!==null&&(o=No(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Pr(e,o),pn(p,e,o),Vf;vd(T)||sc(),n=jf(e,n,a)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ue=qn(T.nextSibling),Ke=n,jt=!0,Vs=null,jn=!1,e!==null&&Jg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=ns(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ns(z,T):(T=zr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,ll(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(R=Ne._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ip(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,p,a),n.memoizedState=Uf,ll(e.child,o)):(js(n),a=e.child,e=a.sibling,a=ns(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function jf(e,n,a){return Qr(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function Bf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function yy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ee.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,nt(Ee,p),Xe(e,n,o,a),o=jt?Xo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,n);else if(e.tag===19)py(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ls(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Fs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ns(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ns(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function hb(e,n,a){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Us(n,Ne,e.memoizedState.cache),jr();break;case 27:case 5:mi(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(e,n,a):(js(n),e=ls(e,n,a),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:Us(n,Ne,e.memoizedState.cache)}return ls(e,n,a)}function _y(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!qf(e,a)&&(n.flags&128)===0)return xe=!1,hb(e,n,a);xe=(e.flags&131072)!==0}else xe=!1,jt&&(n.flags&1048576)!==0&&$g(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Yr(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Nt){n.tag=11,n=ay(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=le(e)||e,Error(r(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Yr(o,n.pendingProps),dy(e,n,o,h,a);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),il(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Us(n,Ne,o),o!==f.cache&&ef(n,[Ne],a,!0),nl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,a);break t}else if(o!==h){h=Ln(Error(r(424)),n),$o(h),n=my(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=qn(e.firstChild),Ke=n,jt=!0,Vs=null,jn=!0,a=up(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jr(),o===h){n=ls(e,n,a);break t}Xe(e,n,o,a)}n=n.child}return n;case 26:return Yu(e,n),e===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=hc(yt.current).createElement(a),o[Re]=n,o[qe]=e,$e(o,a,e),Ie(o),n.stateNode=o):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return mi(n),e===null&&jt&&(o=n.stateNode=R_(n.type,n.pendingProps,yt.current),Ke=n,jn=!0,h=ue,Xs(n.type)?(Ed=h,ue=qn(o.firstChild)):ue=h),Xe(e,n,n.pendingProps.children,a),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ue)&&(o=Bb(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ke=n,ue=qn(o.firstChild),jn=!1,h=!0):h=!1),h||ks(n)),mi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,nb,null,null,a),Al._currentValue=h),Yu(e,n),Xe(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ue)&&(a=qb(a,n.pendingProps,jn),a!==null?(n.stateNode=a,Ke=n,ue=null,e=!0):e=!1),e||ks(n)),null;case 13:return gy(e,n,a);case 4:return ge(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,a):Xe(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return Xe(e,n,n.pendingProps,a),n.child;case 8:return Xe(e,n,n.pendingProps.children,a),n.child;case 12:return Xe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Xe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return cb(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return qr(n),o=Ye(Ne),e===null?(h=rf(),h===null&&(h=ae,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Us(n,Ne,h)):((e.lanes&a)!==0&&(lf(e,n),il(n,null,null,a),nl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Ne,o)):(o=f.cache,Us(n,Ne,o),o!==h.cache&&ef(n,[Ne],a,!0))),Xe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function us(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Gr=Mu,af}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Gr=Mu,af}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Qa|=n)}function ul(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function fb(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(Ne),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(n)?us(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(us(n),f!==null?(ce(n),vy(n,f)):(ce(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(us(n),ce(n),vy(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&us(n),ce(n),Hf(n,h,e,o,a)),null;case 27:if(Qn(n),a=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ce(n),null}e=it.current,Ma(n)?Zg(n):(e=R_(h,o,a),n.stateNode=e,us(n))}return ce(n),null;case 5:if(Qn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ce(n),null}if(f=it.current,Ma(n))Zg(n);else{var p=hc(yt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Re]=n,f[qe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&us(n)}}return ce(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&us(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=yt.current,Ma(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||ks(n,!0)}else e=hc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return ce(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ma(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Re]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Re]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),$u(n,n.updateQueue),ce(n),null);case 4:return Wt(),e===null&&hd(n.stateNode.containerInfo),ce(n),null;case 10:return rs(n.type),ce(n),null;case 19:if(Y(Ee),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ul(o,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,ul(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Kg(a,e),a=a.sibling;return nt(Ee,Ee.current&1|2),jt&&is(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Be()>ec&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ce(n),null}else 2*Be()-o.renderingStartTime>ec&&a!==536870912&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Be(),e.sibling=null,a=Ee.current,nt(Ee,h?a&1|2:a&1),jt&&is(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return Rn(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),a=n.updateQueue,a!==null&&$u(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Hr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(Ne),ce(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function db(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(Ne),Wt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qn(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ee),null;case 4:return Wt(),null;case 10:return rs(n.type),null;case 22:case 23:return Rn(n),ff(),e!==null&&Y(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return rs(Ne),null;case 25:return null;default:return null}}function Ty(e,n){switch($h(n),n.tag){case 3:rs(Ne),Wt();break;case 26:case 27:case 5:Qn(n);break;case 4:Wt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Ee);break;case 10:rs(n.type);break;case 22:case 23:Rn(n),ff(),e!==null&&Y(Hr);break;case 24:rs(Ne)}}function cl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Zt(n,n.return,T)}}function qs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(F){Zt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Zt(n,n.return,F)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hp(n,a)}catch(o){Zt(e,e.return,o)}}}function by(e,n,a){a.props=Yr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,n,o)}}function hl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,n,h)}}function ki(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,n,h)}else a.current=null}function Ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;kb(o,e.type,a,n),o[qe]=n}catch(h){Zt(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function Ju(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ju(e,n,a),e=e.sibling;e!==null;)Ju(e,n,a),e=e.sibling}function wy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,a),n[Re]=e,n[qe]=a}catch(f){Zt(e,e.return,f)}}var cs=!1,Oe=!1,Kf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function mb(e,n){if(e=e.containerInfo,md=_c,e=Pg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===a&&++z===h&&(T=p),j===f&&++F===o&&(R=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},_c=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Yr(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Zt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function Iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:fs(e,a),o&4&&cl(5,a);break;case 1:if(fs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Zt(a,a.return,p)}else{var h=Yr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(a,a.return,p)}}o&64&&Ey(a),o&512&&hl(a,a.return);break;case 3:if(fs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(e,n)}catch(p){Zt(a,a.return,p)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:fs(e,a),n===null&&o&4&&Ay(a),o&512&&hl(a,a.return);break;case 12:fs(e,a);break;case 31:fs(e,a),o&4&&Dy(e,a);break;case 13:fs(e,a),o&4&&xy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ab.bind(null,a),Hb(e,a))));break;case 22:if(o=a.memoizedState!==null||cs,!o){n=n!==null&&n.memoizedState!==null||Oe,h=cs;var f=Oe;cs=o,(Oe=n)&&!f?ds(e,a,(a.subtreeFlags&8772)!==0):fs(e,a),cs=h,Oe=f}break;case 30:break;default:fs(e,a)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&pa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,fn=!1;function hs(e,n,a){for(a=a.child;a!==null;)Ny(e,n,a),a=a.sibling}function Ny(e,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Tn,a)}catch{}switch(a.tag){case 26:Oe||ki(a,n),hs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||ki(a,n);var o=de,h=fn;Xs(a.type)&&(de=a.stateNode,fn=!1),hs(e,n,a),Tl(a.stateNode),de=o,fn=h;break;case 5:Oe||ki(a,n);case 6:if(o=de,h=fn,de=null,hs(e,n,a),de=o,fn=h,de!==null)if(fn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{de.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:de!==null&&(fn?(e=de,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):E_(de,a.stateNode));break;case 4:o=de,h=fn,de=a.stateNode.containerInfo,fn=!0,hs(e,n,a),de=o,fn=h;break;case 0:case 11:case 14:case 15:qs(2,a,n),Oe||qs(4,a,n),hs(e,n,a);break;case 1:Oe||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),hs(e,n,a);break;case 21:hs(e,n,a);break;case 22:Oe=(o=Oe)||a.memoizedState!==null,hs(e,n,a),Oe=o;break;default:hs(e,n,a)}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){Zt(n,n.return,a)}}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){Zt(n,n.return,a)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(r(435,e.tag))}}function Zu(e,n){var a=gb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Sb.bind(null,e,o);o.then(h,h)}})}function dn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){de=T.stateNode,fn=!1;break t}break;case 5:de=T.stateNode,fn=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(de===null)throw Error(r(160));Ny(f,p,h),de=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var ai=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(qs(3,e,e.return),cl(3,e),qs(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(Oe||a===null||ki(a,a.return)),o&64&&cs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(dn(n,e),mn(e),o&512&&(Oe||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,a),f[Re]=e,Ie(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),$e(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),$e(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Re]=e,Ie(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(Oe||a===null||ki(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(Oe||a===null||ki(a,a.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(at){Zt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Zt(e,e.return,at)}}break;case 3:if(mc=null,h=ai,ai=fc(n.containerInfo),dn(n,e),ai=h,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(at){Zt(e,e.return,at)}Kf&&(Kf=!1,My(e));break;case 4:o=ai,ai=fc(e.stateNode.containerInfo),dn(n,e),mn(e),ai=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=Be()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=cs,F=Oe;if(cs=z||h,Oe=F||R,dn(n,e),Oe=F,cs=z,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||cs||Oe||Xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Zt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Zt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?b_(q,!0):b_(R.stateNode,!1)}catch(at){Zt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Zu(e,a))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);Ju(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(hn(p,""),a.flags&=-33);var T=Gf(e);Ju(e,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Gf(e);Qf(e,z,R);break;default:throw Error(r(161))}}catch(F){Zt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),Xr(n);break;case 27:Tl(n.stateNode);case 26:case 5:ki(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function ds(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,a),cl(4,f);break;case 1:if(ds(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)cp(R[h],T)}catch(z){Zt(o,o.return,z)}}a&&p&64&&Ey(f),hl(f,f.return);break;case 27:wy(f);case 26:case 5:ds(h,f,a),a&&o===null&&p&4&&Ay(f),hl(f,f.return);break;case 12:ds(h,f,a);break;case 31:ds(h,f,a),a&&p&4&&Dy(h,f);break;case 13:ds(h,f,a),a&&p&4&&xy(h,f);break;case 22:f.memoizedState===null&&ds(h,f,a),hl(f,f.return);break;case 30:break;default:ds(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e))}function oi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,a,o),h&2048&&cl(9,n);break;case 1:oi(e,n,a,o);break;case 3:oi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){oi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else oi(e,n,a,o);break;case 31:oi(e,n,a,o);break;case 13:oi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,a,o):fl(e,n):f._visibility&2?oi(e,n,a,o):(f._visibility|=2,Ha(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:oi(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:oi(e,n,a,o)}}function Ha(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ha(f,p,T,R,h),cl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ha(f,p,T,R,h):fl(f,p):(F._visibility|=2,Ha(f,p,T,R,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Ha(f,p,T,R,h),h&&z&2048&&Xf(p.alternate,p);break;default:Ha(f,p,T,R,h)}n=n.sibling}}function fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:fl(a,o),h&2048&&Yf(o.alternate,o);break;case 24:fl(a,o),h&2048&&Xf(o.alternate,o);break;default:fl(a,o)}n=n.sibling}}var dl=8192;function Fa(e,n,a){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:Fa(e,n,a),e.flags&dl&&e.memoizedState!==null&&eA(a,ai,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,n,a);break;case 3:case 4:var o=ai;ai=fc(e.stateNode.containerInfo),Fa(e,n,a),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=dl,dl=16777216,Fa(e,n,a),dl=o):Fa(e,n,a));break;default:Fa(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ml(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&qs(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):ml(e);break;default:ml(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),Wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Py(e,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Fe=o;else t:for(a=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(Cy(o),o===a){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var pb={getCacheForType:function(e){var n=Ye(Ne),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ye(Ne).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,xt=null,Vt=0,Jt=0,In=null,Hs=!1,Ga=!1,$f=!1,ms=0,ve=0,Fs=0,$r=0,Jf=0,Cn=0,Qa=0,gl=null,gn=null,Zf=!1,tc=0,zy=0,ec=1/0,nc=null,Gs=null,Le=0,Qs=null,Ka=null,gs=0,Wf=0,td=null,jy=null,pl=0,ed=null;function Nn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:H.T!==null?od():iu()}function By(){if(Cn===0)if((Vt&536870912)===0||jt){var e=$n;$n<<=1,($n&3932160)===0&&($n=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function pn(e,n,a){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Ks(e,Vt,Cn,!1)),Sr(e,a),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&($r|=a),ve===4&&Ks(e,Vt,Cn,!1)),Ui(e))}function qy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Jn(e,n),h=o?Tb(e,n):id(e,n,!0),f=o;do{if(h===0){Ga&&!o&&Ks(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!_b(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=gl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ya(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Cn,!Hs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tc+300-Be(),10<h)){if(Ks(o,n,Cn,!Hs),_i(o,0,!0)!==0)break t;gs=n,o.timeoutHandle=v_(Hy.bind(null,o,a,gn,nc,Zf,n,Cn,$r,Qa,Hs,f,"Throttled",-0,0),h);break t}Hy(o,a,gn,nc,Zf,n,Cn,$r,Qa,Hs,f,null,-0,0)}}break}while(!0);Ui(e)}function Hy(e,n,a,o,h,f,p,T,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},ky(n,f,X);var at=(f&62914560)===f?tc-Be():(f&4194048)===f?zy-Be():0;if(at=nA(X,at),at!==null){gs=f,e.cancelPendingCommit=at(Jy.bind(null,e,n,f,a,o,h,p,T,R,F,X,null,j,q)),Ks(e,f,p,!z);return}}Jy(e,n,f,a,o,h,p,T,R)}function _b(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,a,o){n&=~Jf,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Q(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&wr(e,a,n)}function ic(){return(Kt&6)===0?(yl(0),!1):!0}function nd(){if(xt!==null){if(Jt===0)var e=xt.return;else e=xt,ss=Br=null,_f(e),Pa=null,Wo=0,e=xt;for(;e!==null;)Ty(e.alternate,e),e=e.return;xt=null}}function Ya(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gs=0,nd(),ae=e,xt=a=ns(e.current,null),Vt=n,Jt=0,In=null,Hs=!1,Ga=Jn(e,n),$f=!1,Qa=Cn=Jf=$r=Fs=ve=0,gn=gl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Q(o),f=1<<h;n|=e[h],o&=~f}return ms=n,Su(),a}function Fy(e,n){It=null,H.H=ol,n===La||n===Ou?(n=ap(),Jt=3):n===af?(n=ap(),Jt=4):Jt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,xt===null&&(ve=1,Qu(e,Ln(n,e.current)))}function Gy(){var e=wn.current;return e===null?!0:(Vt&4194048)===Vt?Bn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Bn:!1}function Qy(){var e=H.H;return H.H=ol,e===null?ol:e}function Ky(){var e=H.A;return H.A=pb,e}function sc(){ve=4,Hs||(Vt&4194048)!==Vt&&wn.current!==null||(Ga=!0),(Fs&134217727)===0&&($r&134217727)===0||ae===null||Ks(ae,Vt,Cn,!1)}function id(e,n,a){var o=Kt;Kt|=2;var h=Qy(),f=Ky();(ae!==e||Vt!==n)&&(nc=null,Ya(e,n)),n=!1;var p=ve;t:do try{if(Jt!==0&&xt!==null){var T=xt,R=In;switch(Jt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Jt;if(Jt=0,In=null,Xa(e,T,R,z),a&&Ga){p=0;break t}break;default:z=Jt,Jt=0,In=null,Xa(e,T,R,z)}}vb(),p=ve;break}catch(F){Fy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ss=Br=null,Kt=o,H.H=h,H.A=f,xt===null&&(ae=null,Vt=0,Su()),p}function vb(){for(;xt!==null;)Yy(xt)}function Tb(e,n){var a=Kt;Kt|=2;var o=Qy(),h=Ky();ae!==e||Vt!==n?(nc=null,ec=Be()+500,Ya(e,n)):Ga=Jn(e,n);t:do try{if(Jt!==0&&xt!==null){n=xt;var f=In;e:switch(Jt){case 1:Jt=0,In=null,Xa(e,n,f,1);break;case 2:case 9:if(sp(f)){Jt=0,In=null,Xy(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),Ui(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:sp(f)?(Jt=0,In=null,Xy(n)):(Jt=0,In=null,Xa(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var T=xt;if(p?V_(p):T.stateNode.complete){Jt=0,In=null;var R=T.sibling;if(R!==null)xt=R;else{var z=T.return;z!==null?(xt=z,rc(z)):xt=null}break e}}Jt=0,In=null,Xa(e,n,f,5);break;case 6:Jt=0,In=null,Xa(e,n,f,6);break;case 8:nd(),ve=6;break t;default:throw Error(r(462))}}Eb();break}catch(F){Fy(e,F)}while(!0);return ss=Br=null,H.H=o,H.A=h,Kt=a,xt!==null?0:(ae=null,Vt=0,Su(),ve)}function Eb(){for(;xt!==null&&!da();)Yy(xt)}function Yy(e){var n=_y(e.alternate,e,ms);e.memoizedProps=e.pendingProps,n===null?rc(e):xt=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:_f(n);default:Ty(a,n),n=xt=Kg(n,ms),n=_y(a,n,ms)}e.memoizedProps=e.pendingProps,n===null?rc(e):xt=n}function Xa(e,n,a,o){ss=Br=null,_f(n),Pa=null,Wo=0;var h=n.return;try{if(ub(e,h,n,a,Vt)){ve=1,Qu(e,Ln(a,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;ve=1,Qu(e,Ln(a,e.current)),xt=null;return}n.flags&32768?(jt||o===1?e=!0:Ga||(Vt&536870912)!==0?e=!1:(Hs=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Hs);return}e=n.return;var a=fb(n.alternate,n,ms);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);ve===0&&(ve=5)}function $y(e,n){do{var a=db(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);ve=6,xt=null}function Jy(e,n,a,o,h,f,p,T,R){e.cancelPendingCommit=null;do ac();while(Le!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,a,f,p,T,R),e===ae&&(xt=ae=null,Vt=0),Ka=n,Qs=e,gs=a,Wf=f,td=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wb(pi,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,p=Kt,Kt|=4;try{mb(e,n,a)}finally{Kt=p,et.p=h,H.T=o}}Le=1,Zy(),Wy(),t_()}}function Zy(){if(Le===1){Le=0;var e=Qs,n=Ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{Oy(n,e);var f=gd,p=Pg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=T.textContent.length,dt=Math.min(R.start,at),se=R.end===void 0?dt:Math.min(R.end,at);!q.extend&&dt>se&&(p=se,se=dt,dt=p);var V=Ug(T,dt),D=Ug(T,se);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),dt>se?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!md,gd=md=null}finally{Kt=h,et.p=o,H.T=a}}e.current=n,Le=2}}function Wy(){if(Le===2){Le=0;var e=Qs,n=Ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{Iy(e,n.alternate,n)}finally{Kt=h,et.p=o,H.T=a}}Le=3}}function t_(){if(Le===4||Le===3){Le=0,ma();var e=Qs,n=Ka,a=gs,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ka=Qs=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gs=null),Zi(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Tn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{H.T=n,et.p=h}}(gs&3)!==0&&ac(),Ui(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?pl++:(pl=0,ed=e):pl=0,yl(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Jo(n)))}function ac(){return Zy(),Wy(),t_(),n_()}function n_(){if(Le!==5)return!1;var e=Qs,n=Wf;Wf=0;var a=Zi(gs),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=td,td=null;var f=Qs,p=gs;if(Le=0,Ka=Qs=null,gs=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,Ly(f.current),Vy(f,f.current,p,a),Kt=T,yl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Tn,f)}catch{}return!0}finally{et.p=h,H.T=o,e_(e,n)}}function i_(e,n,a){n=Ln(a,n),n=Mf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(Sr(e,2),Ui(e))}function Zt(e,n,a){if(e.tag===3)i_(e,e,a);else for(;n!==null;){if(n.tag===3){i_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){e=Ln(a,e),a=sy(2),o=zs(n,a,2),o!==null&&(ry(a,o,n,e),Sr(o,2),Ui(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new yb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=bb.bind(null,e,n,a),n.then(e,e))}function bb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Vt&a)===a&&(ve===4||ve===3&&(Vt&62914560)===Vt&&300>Be()-tc?(Kt&2)===0&&Ya(e,0):Jf|=a,Qa===Vt&&(Qa=0)),Ui(e)}function s_(e,n){n===0&&(n=nu()),e=Pr(e,n),e!==null&&(Sr(e,n),Ui(e))}function Ab(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),s_(e,a)}function Sb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s_(e,a)}function wb(e,n){return te(e,n)}var oc=null,$a=null,rd=!1,lc=!1,ad=!1,Ys=0;function Ui(e){e!==$a&&e.next===null&&($a===null?oc=$a=e:$a=$a.next=e),lc=!0,rd||(rd=!0,Ib())}function yl(e,n){if(!ad&&lc){ad=!0;do for(var a=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Q(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=Vt,f=_i(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(a=!0,l_(o,f));o=o.next}while(a);ad=!1}}function Rb(){r_()}function r_(){lc=rd=!1;var e=0;Ys!==0&&Lb()&&(e=Ys);for(var n=Be(),a=null,o=oc;o!==null;){var h=o.next,f=a_(o,n);f===0?(o.next=null,a===null?oc=h:a.next=h,h===null&&($a=a)):(a=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Le!==0&&Le!==5||yl(e),Ys!==0&&(Ys=0)}function a_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Q(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Vh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ae,a=Vt,a=_i(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Yn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Yn(o),Zi(a)){case 2:case 8:a=br;break;case 32:a=pi;break;case 268435456:a=Xn;break;default:a=pi}return o=o_.bind(null,e),a=te(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Yn(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ac()&&e.callbackNode!==a)return null;var o=Vt;return o=_i(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),a_(e,Be()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,n){if(ac())return null;qy(e,n,!0)}function Ib(){zb(function(){(Kt&6)!==0?te(Er,Rb):r_()})}function od(){if(Ys===0){var e=ka;e===0&&(e=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),Ys=e}return Ys}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function c_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u_((h[qe]||null).action),p=o.submitter;p&&(n=(n=p[qe]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ni("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var R=p?c_(h,p):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?c_(h,p):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],Nb=ud.toLowerCase(),Db=ud[0].toUpperCase()+ud.slice(1);ri(Nb,"on"+Db)}ri(Bg,"onAnimationEnd"),ri(qg,"onAnimationIteration"),ri(Hg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Q1,"onTransitionRun"),ri(K1,"onTransitionStart"),ri(Y1,"onTransitionCancel"),ri(Fg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function h_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}}}}function Ot(e,n){var a=n[ga];a===void 0&&(a=n[ga]=new Set);var o=e+"__bubble";a.has(o)||(f_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),f_(a,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[uc]){e[uc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,cd("selectionchange",!1,n))}}function f_(e,n,a,o){switch(B_(n)){case 2:var h=rA;break;case 8:h=aA;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=bi(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Ns(function(){var z=f,F=Mn(a),X=[];t:{var j=Gg.get(e);if(j!==void 0){var q=Ni,at=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":at="focus",q=Vr;break;case"focusout":at="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Bg:case qg:case Hg:q=du;break;case Fg:q=b;break;case"scroll":case"scrollend":q=qo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=es;break;case"toggle":case"beforetoggle":q=Rt}var dt=(n&4)!==0,se=!dt&&(e==="scroll"||e==="scrollend"),V=dt?j!==null?j+"Capture":null:j;dt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||V===null||(K=ei(D,V),K!=null&&dt.push(vl(D,K,P))),se)break;D=D.return}0<dt.length&&(j=new q(j,at,null,a,F),X.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==zo&&(at=a.relatedTarget||a.fromElement)&&(bi(at)||at[Ti]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=z,at=at?bi(at):null,at!==null&&(se=c(at),dt=at.tag,at!==se||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(dt=Ho,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=es,K="onPointerLeave",V="onPointerEnter",D="pointer"),se=q==null?j:En(q),P=at==null?j:En(at),j=new dt(K,D+"leave",q,a,F),j.target=se,j.relatedTarget=P,K=null,bi(F)===z&&(dt=new dt(V,D+"enter",at,a,F),dt.target=P,dt.relatedTarget=se,K=dt),se=K,q&&at)e:{for(dt=Ob,V=q,D=at,P=0,K=V;K;K=dt(K))P++;K=0;for(var ct=D;ct;ct=dt(ct))K++;for(;0<P-K;)V=dt(V),P--;for(;0<K-P;)D=dt(D),K--;for(;P--;){if(V===D||D!==null&&V===D.alternate){dt=V;break e}V=dt(V),D=dt(D)}dt=null}else dt=null;q!==null&&d_(X,j,q,dt,!1),at!==null&&se!==null&&d_(X,se,at,dt,!0)}}t:{if(j=z?En(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=Dg;else if(Cg(j))if(xg)qt=H1;else{qt=B1;var ot=j1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&va(z.elementType)&&(qt=Dg):qt=q1;if(qt&&(qt=qt(e,z))){Ng(X,qt,a,F);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Uo(j,"number",j.value)}switch(ot=z?En(z):window,e){case"focusin":(Cg(ot)||ot.contentEditable==="true")&&(Ia=ot,jh=z,Yo=null);break;case"focusout":Yo=jh=Ia=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,zg(X,a,F);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":zg(X,a,F)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ra?kr(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Oi&&a.locale!=="ko"&&(Ra||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ra&&(Ct=Bo()):(Ci=F,jo="value"in Ci?Ci.value:Ci.textContent,Ra=!0)),ot=cc(z,kt),0<ot.length&&(kt=new xi(kt,e,null,a,F),X.push({event:kt,listeners:ot}),Ct?kt.data=Ct:(Ct=wa(a),Ct!==null&&(kt.data=Ct)))),(Ct=kn?U1(e,a):L1(e,a))&&(kt=cc(z,"onBeforeInput"),0<kt.length&&(ot=new xi("onBeforeInput","beforeinput",null,a,F),X.push({event:ot,listeners:kt}),ot.data=Ct)),Cb(X,e,z,a,F)}h_(X,n)})}function vl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function cc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,a),h!=null&&o.unshift(vl(e,h,f)),h=ei(e,n),h!=null&&o.push(vl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=ei(a,f),z!=null&&p.unshift(vl(a,z,R))):h||(z=ei(a,f),z!=null&&p.push(vl(a,z,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var Mb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Vb,"")}function g_(e,n){return n=m_(n),m_(e)===n}function ie(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,o);break;case"style":Po(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cu.get(a)||a,ya(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":Po(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[qe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function $e(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,f,p,a,null)}}h&&ie(e,n,"srcSet",a.srcSet,a,null),o&&ie(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ie(e,n,o,F,a,null)}}ou(e,f,T,R,z,p,h,!1);return;case"select":Ot("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ie(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):a!=null&&ws(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ie(e,n,p,T,a,null)}Rs(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,R,o,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<_l.length;o++)Ot(_l[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,z,o,a,null)}return;default:if(va(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&dd(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ie(e,n,T,o,a,null))}function kb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||ie(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=a[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&ie(e,n,j,q,o,X)}}_a(e,p,T,R,z,F,f,h);return;case"select":q=p=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ie(e,n,h,f,o,R)}n=T,a=p,o=q,j!=null?ws(e,!!a,j,!1):!!o!=!!a&&(n!=null?ws(e,!!a,n,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ie(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ie(e,n,p,h,o,f)}lu(e,j,q);return;case"option":for(var at in a)j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ie(e,n,at,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ie(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&ie(e,n,dt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:ie(e,n,z,j,o,q)}return;default:if(va(n)){for(var se in a)j=a[se],a.hasOwnProperty(se)&&j!==void 0&&!o.hasOwnProperty(se)&&dd(e,n,se,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||dd(e,n,F,j,o,q);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&ie(e,n,V,null,o,j);for(X in o)j=o[X],q=a[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||ie(e,n,X,j,o,q)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&p_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>T)break;var F=R.transferSize,X=R.initiatorType;F&&p_(X)&&(R=R.responseEnd,p+=F*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function Lb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(jb)}:v_;function jb(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),to(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);to(n)}function b_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Bb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function qb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return qn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R_(e,n,a){switch(n=hc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);pa(e)}var Hn=new Map,I_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ps=et.d;et.d={f:Fb,r:Gb,D:Qb,C:Kb,L:Yb,m:Xb,X:Jb,S:$b,M:Zb};function Fb(){var e=ps.f(),n=ic();return e||n}function Gb(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):ps.r(e)}var Ja=typeof document>"u"?null:document;function C_(e,n,a){var o=Ja;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),Ie(n),o.head.appendChild(n)))}}function Qb(e){ps.D(e),C_("dns-prefetch",e,null)}function Kb(e,n){ps.C(e,n),C_("preconnect",e,n)}function Yb(e,n,a){ps.L(e,n,a);var o=Ja;if(o&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Wa(e)}Hn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),$e(n,"link",e),Ie(n),o.head.appendChild(n)))}}function Xb(e,n){ps.m(e,n);var a=Ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(e)}if(!Hn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Hn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),$e(o,"link",e),Ie(o),a.head.appendChild(o)}}}function $b(e,n,a){ps.S(e,n,a);var o=Ja;if(o&&e){var h=Ai(o).hoistableStyles,f=Za(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(El(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Hn.get(f))&&bd(e,a);var R=p=o.createElement("link");Ie(R),$e(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Jb(e,n){ps.X(e,n);var a=Ja;if(a&&e){var o=Ai(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=A({src:e,async:!0},n),(n=Hn.get(h))&&Ad(e,n),f=a.createElement("script"),Ie(f),$e(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zb(e,n){ps.M(e,n);var a=Ja;if(a&&e){var o=Ai(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&Ad(e,n),f=a.createElement("script"),Ie(f),$e(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(e,n,a,o){var h=(h=yt.current)?fc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=Ai(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=Ai(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(El(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),f||Wb(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(a),a=Ai(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+cn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",a),Ie(n),e.head.appendChild(n))}function Wa(e){return'[src="'+cn(e)+'"]'}function bl(e){return"script[async]"+e}function x_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),$e(o,"style",h),dc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=D_(a),(h=Hn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),$e(f,"link",o),n.state.loading|=4,dc(f,a.precedence,e),n.instance=f;case"script":return f=Wa(a.src),(h=e.querySelector(bl(f)))?(n.instance=h,Ie(h),h):(o=a,(h=Hn.get(f))&&(o=A({},a),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,a.precedence,e));return n.instance}function dc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function O_(e,n,a){if(mc===null){var o=new Map,h=mc=new Map;h.set(a,o)}else h=mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function M_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ie(f);return}f=n.ownerDocument||n,o=D_(o),(h=Hn.get(h))&&bd(o,h),f=f.createElement("link"),Ie(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),$e(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=gc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sd=0;function nA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*Ub());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(iA,e),pc=null,gc.call(e))}function iA(e,n){if(!(n.state.loading&4)){var a=pc.get(e);if(a)var o=a.get(null);else{a=new Map,pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Al={$$typeof:pt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function sA(e,n,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function k_(e,n,a,o,h,f,p,T,R,z,F,X){return e=new sA(e,n,a,p,R,z,F,X,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function U_(e){return e?(e=Da,e):Da}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=zs(e,o,n),a!==null&&(pn(a,e,n),el(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=Pr(e,67108864);n!==null&&pn(n,e,67108864),wd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var n=Nn();n=Rr(n);var a=Pr(e,n);a!==null&&pn(a,e,n),wd(e,n)}}var _c=!0;function rA(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Rd(e,n,a,o)}finally{et.p=f,H.T=h}}function aA(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Rd(e,n,a,o)}finally{et.p=f,H.T=h}}function Rd(e,n,a,o){if(_c){var h=Id(o);if(h===null)fd(e,n,o,vc,a),q_(e,o);else if(lA(h,e,n,a,o))o.stopPropagation();else if(q_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-Q(p);T.entanglements[1]|=R,p&=~R}Ui(f),(Kt&6)===0&&(ec=Be()+500,yl(0))}}break;case 31:case 13:T=Pr(f,2),T!==null&&pn(T,f,2),ic(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,vc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=Mn(e),Cd(e)}var vc=null;function Cd(e){if(vc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case Er:return 2;case br:return 8;case pi:case Io:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var Nd=!1,$s=null,Js=null,Zs=null,Sl=new Map,wl=new Map,Ws=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Rl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,a,o,h){switch(n){case"focusin":return $s=Rl($s,e,n,a,o,h),!0;case"dragenter":return Js=Rl(Js,e,n,a,o,h),!0;case"mouseover":return Zs=Rl(Zs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,Rl(Sl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Rl(wl.get(f)||null,e,n,a,o,h)),!0}return!1}function H_(e){var n=bi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){j_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);zo=o,a.target.dispatchEvent(o),zo=null}else return n=On(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){Tc(e)&&a.delete(n)}function uA(){Nd=!1,$s!==null&&Tc($s)&&($s=null),Js!==null&&Tc(Js)&&(Js=null),Zs!==null&&Tc(Zs)&&(Zs=null),Sl.forEach(F_),wl.forEach(F_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uA)))}var bc=null;function G_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=On(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(e){function n(R){return Ec(R,e)}$s!==null&&Ec($s,e),Js!==null&&Ec(Js,e),Zs!==null&&Ec(Zs,e),Sl.forEach(n),wl.forEach(n);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&Ws.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[qe]||null;if(typeof f=="function")p||G_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qe]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),G_(a)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Ac.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Nn();L_(a,o,e,n,null,null)},Ac.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),ic(),n[Ti]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,e),a===0&&H_(e)}};var K_=t.version;if(K_!=="19.2.3")throw Error(r(527,K_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Tn=Sc.inject(cA),Ue=Sc}catch{}}return Cl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ty,f=ey,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(e,1,!1,null,null,a,o,null,h,f,p,Q_),e[Ti]=n.current,hd(e),new Dd(n)},Cl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ty,p=ey,T=ny,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=k_(e,1,!0,n,a??null,o,h,R,f,p,T,Q_),n.context=U_(null),a=n.current,o=Nn(),o=Rr(o),h=Ps(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,Sr(n,a),Ui(n),e[Ti]=n.current,hd(e),new Ac(n)},Cl.version="19.2.3",Cl}var iv;function TA(){if(iv)return Md.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=vA(),Md.exports}var EA=TA();const bA=()=>{};var sv={};const F0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},AA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(O=64)),r.push(i[E],i[A],i[O],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(F0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):AA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new SA;const O=c<<2|g>>4;if(r.push(O),y!==64){const G=g<<4&240|y>>2;if(r.push(G),A!==64){const Z=y<<6&192|A;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(s){const t=F0(s);return G0.encodeByteArray(t,!0)},qc=function(s){return wA(s).replace(/\./g,"")},Q0=function(s){try{return G0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IA=()=>RA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof sv>"u")return;const s=sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Q0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return bA()||IA()||CA()||NA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K0=s=>ch()?.emulatorHosts?.[s],DA=s=>{const t=K0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Y0=()=>ch()?.config,X0=s=>ch()?.[`_${s}`];class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(s){return(await fetch(s,{credentials:"include"})).ok}function OA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Ml={};function MA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?s.emulator.push(t):s.prod.push(t);return s}function VA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let rv=!1;function J0(s,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Ml[s]===t||Ml[s]||rv)return;Ml[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=MA().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{rv=!0,d()},O}function E(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=VA(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;g(pt),E(W,st);const Nt=y();_(vt,mt),pt.append(vt,Z,W,Nt),document.body.appendChild(pt)}c?(Z.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function UA(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function BA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qA="FirebaseError";class di extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qA,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new di(l,g,r)}}function HA(s,t){return s.replace(FA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const FA=/\{\$([^}]+)}/g;function GA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function hr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(av(c)&&av(d)){if(!hr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function Kl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function QA(s,t){const i=new KA(s,t);return i.subscribe.bind(i)}class KA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}const XA=1e3,$A=2,JA=14400*1e3,ZA=.5;function ov(s,t=XA,i=$A){const r=t*Math.pow(i,s),l=Math.round(ZA*r*(Math.random()-.5)*2);return Math.min(JA,r+l)}function ke(s){return s&&s._delegate?s._delegate:s}class fi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class WA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new xA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(s){return s===Jr?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const iS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},sS=Ut.INFO,rS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},aS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=rS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hh{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const oS=(s,t)=>t.some(i=>s instanceof i);let lv,uv;function lS(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,tm=new WeakMap,nT=new WeakMap,Pd=new WeakMap,xm=new WeakMap;function cS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eT.set(i,s)}).catch(()=>{}),xm.set(t,s),t}function hS(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function fS(s){em=s(em)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(zd(this),t,...i);return nT.set(r,t.sort?t.sort():[t]),ar(r)}:uS().includes(s)?function(...t){return s.apply(zd(this),t),ar(eT.get(this))}:function(...t){return ar(s.apply(zd(this),t))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,em):s)}function ar(s){if(s instanceof IDBRequest)return cS(s);if(Pd.has(s))return Pd.get(s);const t=mS(s);return t!==s&&(Pd.set(s,t),xm.set(t,s)),t}const zd=s=>xm.get(s);function iT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=ar(d);return r&&d.addEventListener("upgradeneeded",_=>{r(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],jd=new Map;function cv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return jd.set(t,c),c}fS(s=>({...s,get:(t,i,r)=>cv(t,i)||s.get(t,i,r),has:(t,i)=>!!cv(t,i)||s.has(t,i)}));class yS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _S(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",hv="0.14.6";const Ts=new hh("@firebase/app"),vS="@firebase/app-compat",TS="@firebase/analytics-compat",ES="@firebase/analytics",bS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",wS="@firebase/auth-compat",RS="@firebase/database",IS="@firebase/data-connect",CS="@firebase/database-compat",NS="@firebase/functions",DS="@firebase/functions-compat",xS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",US="@firebase/performance-compat",LS="@firebase/remote-config",PS="@firebase/remote-config-compat",zS="@firebase/storage",jS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",FS="firebase",GS="12.6.0";const im="[DEFAULT]",QS={[nm]:"fire-core",[vS]:"fire-core-compat",[ES]:"fire-analytics",[TS]:"fire-analytics-compat",[AS]:"fire-app-check",[bS]:"fire-app-check-compat",[SS]:"fire-auth",[wS]:"fire-auth-compat",[RS]:"fire-rtdb",[IS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[NS]:"fire-fn",[DS]:"fire-fn-compat",[xS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[US]:"fire-perf-compat",[LS]:"fire-rc",[PS]:"fire-rc-compat",[zS]:"fire-gcs",[jS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};const Hc=new Map,KS=new Map,sm=new Map;function fv(s,t){try{s.container.addComponent(t)}catch(i){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Hi(s){const t=s.name;if(sm.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Hc.values())fv(i,s);for(const i of KS.values())fv(i,s);return!0}function ca(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function li(s){return s==null?!1:s.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new ua("app","Firebase",YS);class XS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Eo=GS;function sT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:im,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw or.create("no-options");const c=Hc.get(l);if(c){if(hr(i,c.options)&&hr(r,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new nS(l);for(const _ of sm.values())d.addComponent(_);const g=new XS(i,r,d);return Hc.set(l,g),g}function Om(s=im){const t=Hc.get(s);if(!t&&s===im&&Y0())return sT();if(!t)throw or.create("no-app",{appName:s});return t}function Gn(s,t,i){let r=QS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}Hi(new fi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const $S="firebase-heartbeat-database",JS=1,zl="firebase-heartbeat-store";let Bd=null;function rT(){return Bd||(Bd=iT($S,JS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function ZS(s){try{const i=(await rT()).transaction(zl),r=await i.objectStore(zl).get(aT(s));return await i.done,r}catch(t){if(t instanceof di)Ts.warn(t.message);else{const i=or.create("idb-get",{originalErrorMessage:t?.message});Ts.warn(i.message)}}}async function dv(s,t){try{const r=(await rT()).transaction(zl,"readwrite");await r.objectStore(zl).put(t,aT(s)),await r.done}catch(i){if(i instanceof di)Ts.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(r.message)}}}function aT(s){return`${s.name}!${s.options.appId}`}const WS=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ts.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function nw(s,t=WS){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function gv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function rw(s){Hi(new fi("platform-logger",t=>new yS(t),"PRIVATE")),Hi(new fi("heartbeat",t=>new ew(t),"PRIVATE")),Gn(nm,hv,s),Gn(nm,hv,"esm2020"),Gn("fire-js","")}rw("");var aw="firebase",ow="12.7.0";Gn(aw,ow,"app");const oT="@firebase/installations",Mm="0.6.19";const lT=1e4,uT=`w:${Mm}`,cT="FIS_v2",lw="https://firebaseinstallations.googleapis.com/v1",uw=3600*1e3,cw="installations",hw="Installations";const fw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new ua(cw,hw,fw);function hT(s){return s instanceof di&&s.code.includes("request-failed")}function fT({projectId:s}){return`${lw}/projects/${s}/installations`}function dT(s){return{token:s.token,requestStatus:2,expiresIn:mw(s.expiresIn),creationTime:Date.now()}}async function mT(s,t){const r=(await t.json()).error;return sa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function dw(s,{refreshToken:t}){const i=gT(s);return i.append("Authorization",gw(t)),i}async function pT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function mw(s){return Number(s.replace("s","000"))}function gw(s){return`${cT} ${s}`}async function pw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=fT(s),l=gT(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:cT,appId:s.appId,sdkVersion:uT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:dT(y.authToken)}}else throw await mT("Create Installation",_)}function yT(s){return new Promise(t=>{setTimeout(t,s)})}function yw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const _w=/^[cdef][\w-]{21}$/,rm="";function vw(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Tw(s);return _w.test(i)?i:rm}catch{return rm}}function Tw(s){return yw(s).substr(0,22)}function fh(s){return`${s.appName}!${s.appId}`}const _T=new Map;function vT(s,t){const i=fh(s);TT(i,t),Ew(i,t)}function TT(s,t){const i=_T.get(s);if(i)for(const r of i)r(t)}function Ew(s,t){const i=bw();i&&i.postMessage({key:s,fid:t}),Aw()}let Zr=null;function bw(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=s=>{TT(s.data.key,s.data.fid)}),Zr}function Aw(){_T.size===0&&Zr&&(Zr.close(),Zr=null)}const Sw="firebase-installations-database",ww=1,ra="firebase-installations-store";let qd=null;function Vm(){return qd||(qd=iT(Sw,ww,{upgrade:(s,t)=>{t===0&&s.createObjectStore(ra)}})),qd}async function Fc(s,t){const i=fh(s),l=(await Vm()).transaction(ra,"readwrite"),c=l.objectStore(ra),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&vT(s,t.fid),t}async function ET(s){const t=fh(s),r=(await Vm()).transaction(ra,"readwrite");await r.objectStore(ra).delete(t),await r.done}async function dh(s,t){const i=fh(s),l=(await Vm()).transaction(ra,"readwrite"),c=l.objectStore(ra),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&vT(s,g.fid),g}async function km(s){let t;const i=await dh(s.appConfig,r=>{const l=Rw(r),c=Iw(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===rm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Rw(s){const t=s||{fid:vw(),registrationStatus:0};return bT(t)}function Iw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(sa.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Cw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Nw(s)}:{installationEntry:t}}async function Cw(s,t){try{const i=await pw(s,t);return Fc(s.appConfig,i)}catch(i){throw hT(i)&&i.customData.serverCode===409?await ET(s.appConfig):await Fc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Nw(s){let t=await pv(s.appConfig);for(;t.registrationStatus===1;)await yT(100),t=await pv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await km(s);return r||i}return t}function pv(s){return dh(s,t=>{if(!t)throw sa.create("installation-not-found");return bT(t)})}function bT(s){return Dw(s)?{fid:s.fid,registrationStatus:0}:s}function Dw(s){return s.registrationStatus===1&&s.registrationTime+lT<Date.now()}async function xw({appConfig:s,heartbeatServiceProvider:t},i){const r=Ow(s,i),l=dw(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:uT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await pT(()=>fetch(r,g));if(_.ok){const y=await _.json();return dT(y)}else throw await mT("Generate Auth Token",_)}function Ow(s,{fid:t}){return`${fT(s)}/${t}/authTokens:generate`}async function Um(s,t=!1){let i;const r=await dh(s.appConfig,c=>{if(!AT(c))throw sa.create("not-registered");const d=c.authToken;if(!t&&kw(d))return c;if(d.requestStatus===1)return i=Mw(s,t),c;{if(!navigator.onLine)throw sa.create("app-offline");const g=Lw(c);return i=Vw(s,g),g}});return i?await i:r.authToken}async function Mw(s,t){let i=await yv(s.appConfig);for(;i.authToken.requestStatus===1;)await yT(100),i=await yv(s.appConfig);const r=i.authToken;return r.requestStatus===0?Um(s,t):r}function yv(s){return dh(s,t=>{if(!AT(t))throw sa.create("not-registered");const i=t.authToken;return Pw(i)?{...t,authToken:{requestStatus:0}}:t})}async function Vw(s,t){try{const i=await xw(s,t),r={...t,authToken:i};return await Fc(s.appConfig,r),i}catch(i){if(hT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await ET(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Fc(s.appConfig,r)}throw i}}function AT(s){return s!==void 0&&s.registrationStatus===2}function kw(s){return s.requestStatus===2&&!Uw(s)}function Uw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+uw}function Lw(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function Pw(s){return s.requestStatus===1&&s.requestTime+lT<Date.now()}async function zw(s){const t=s,{installationEntry:i,registrationPromise:r}=await km(t);return r?r.catch(console.error):Um(t).catch(console.error),i.fid}async function jw(s,t=!1){const i=s;return await Bw(i),(await Um(i,t)).token}async function Bw(s){const{registrationPromise:t}=await km(s);t&&await t}function qw(s){if(!s||!s.options)throw Hd("App Configuration");if(!s.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Hd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Hd(s){return sa.create("missing-app-config-values",{valueName:s})}const ST="installations",Hw="installations-internal",Fw=s=>{const t=s.getProvider("app").getImmediate(),i=qw(t),r=ca(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gw=s=>{const t=s.getProvider("app").getImmediate(),i=ca(t,ST).getImmediate();return{getId:()=>zw(i),getToken:l=>jw(i,l)}};function Qw(){Hi(new fi(ST,Fw,"PUBLIC")),Hi(new fi(Hw,Gw,"PRIVATE"))}Qw();Gn(oT,Mm);Gn(oT,Mm,"esm2020");const Gc="analytics",Kw="firebase_id",Yw="origin",Xw=60*1e3,$w="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";const ln=new hh("@firebase/analytics");const Jw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new ua("analytics","Analytics",Jw);function Zw(s){if(!s.startsWith(Lm)){const t=xn.create("invalid-gtag-resource",{gtagURL:s});return ln.warn(t.message),""}return s}function wT(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function Ww(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function t2(s,t){const i=Ww("firebase-js-sdk-policy",{createScriptURL:Zw}),r=document.createElement("script"),l=`${Lm}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function e2(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function n2(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await wT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){ln.error(g)}s("config",l,c)}async function i2(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await wT(i);for(const _ of d){const y=g.find(A=>A.measurementId===_),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){ln.error(c)}}function s2(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await i2(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await n2(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){ln.error(g)}}return l}function r2(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=s2(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function a2(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Lm)&&i.src.includes(s))return i;return null}const o2=30,l2=1e3;class u2{constructor(t={},i=l2){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RT=new u2;function c2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function h2(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:c2(i)},l=$w.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function f2(s,t=RT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw xn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw xn.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new g2;return setTimeout(async()=>{g.abort()},Xw),IT({appId:r,apiKey:l,measurementId:c},d,g,t)}async function IT(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=RT){const{appId:c,measurementId:d}=s;try{await d2(r,t)}catch(g){if(d)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await h2(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!m2(_)){if(l.deleteThrottleMetadata(c),d)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?ov(i,l.intervalMillis,o2):ov(i,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,E),ln.debug(`Calling attemptFetch again in ${y} millis`),IT(s,E,r,l)}}function d2(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function m2(s){if(!(s instanceof di)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class g2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function p2(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function y2(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function _2(){if(W0())try{await tT()}catch(s){return ln.warn(xn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return ln.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v2(s,t,i,r,l,c,d){const g=f2(s);g.then(O=>{i[O.measurementId]=O.appId,s.options.measurementId&&O.measurementId!==s.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>ln.error(O)),t.push(g);const _=_2().then(O=>{if(O)return r.getId()}),[y,E]=await Promise.all([g,_]);a2(c)||t2(c,y.measurementId),l("js",new Date);const A=d?.config??{};return A[Yw]="firebase",A.update=!0,E!=null&&(A[Kw]=E),l("config",y.measurementId,A),y.measurementId}class T2{constructor(t){this.app=t}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},_v=[];const vv={};let Fd="dataLayer",E2="gtag",Tv,Pm,Ev=!1;function b2(){const s=[];if(Z0()&&s.push("This is a browser extension environment."),BA()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=xn.create("invalid-analytics-context",{errorInfo:t});ln.warn(i.message)}}function A2(s,t,i){b2();const r=s.options.appId;if(!r)throw xn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(ro[r]!=null)throw xn.create("already-exists",{id:r});if(!Ev){e2(Fd);const{wrappedGtag:c,gtagCore:d}=r2(ro,_v,vv,Fd,E2);Pm=c,Tv=d,Ev=!0}return ro[r]=v2(s,_v,vv,t,Tv,Fd,i),new T2(s)}function S2(s=Om()){s=ke(s);const t=ca(s,Gc);return t.isInitialized()?t.getImmediate():w2(s)}function w2(s,t={}){const i=ca(s,Gc);if(i.isInitialized()){const l=i.getImmediate();if(hr(t,i.getOptions()))return l;throw xn.create("already-initialized")}return i.initialize({options:t})}function R2(s,t,i){s=ke(s),y2(Pm,ro[s.app.options.appId],t,i).catch(r=>ln.error(r))}function I2(s,t,i,r){s=ke(s),p2(Pm,ro[s.app.options.appId],t,i,r).catch(l=>ln.error(l))}const bv="@firebase/analytics",Av="0.10.19";function C2(){Hi(new fi(Gc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return A2(r,l,i)},"PUBLIC")),Hi(new fi("analytics-internal",s,"PRIVATE")),Gn(bv,Av),Gn(bv,Av,"esm2020");function s(t){try{const i=t.getProvider(Gc).getImmediate();return{logEvent:(r,l,c)=>I2(i,r,l,c),setUserProperties:(r,l)=>R2(i,r,l)}}catch(i){throw xn.create("interop-component-reg-failed",{reason:i})}}}C2();function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=CT,NT=new ua("auth","Firebase",CT());const Qc=new hh("@firebase/auth");function D2(s,...t){Qc.logLevel<=Ut.WARN&&Qc.warn(`Auth (${Eo}): ${s}`,...t)}function Oc(s,...t){Qc.logLevel<=Ut.ERROR&&Qc.error(`Auth (${Eo}): ${s}`,...t)}function Fi(s,...t){throw jm(s,...t)}function ci(s,...t){return jm(s,...t)}function zm(s,t,i){const r={...N2(),[t]:i};return new ua("auth","Firebase",r).create(t,{appName:s.name})}function ea(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Fi(s,"argument-error"),zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return NT.create(s,...t)}function Et(s,t,...i){if(!s)throw jm(t,...i)}function _s(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function Es(s,t){s||_s(t)}function am(){return typeof self<"u"&&self.location?.href||""}function O2(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||Z0()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Es(i>t,"Short delay should be less than long delay!"),this.isMobile=kA()||PA()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,t){Es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class DT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Yl(3e4,6e4);function qm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function bo(s,t,i,r,l={}){return xT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Kl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return LA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await OT(s,s.config.apiHost,i,g),y)})}async function xT(s,t,i){s._canInitEmulator=!1;const r={...k2,...t};try{const l=new z2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(s,"user-disabled",d);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,E,y);Fi(s,E)}}catch(l){if(l instanceof di)throw l;Fi(s,"network-request-failed",{message:String(l)})}}async function P2(s,t,i,r,l={}){const c=await bo(s,t,i,r,l);return"mfaPendingCredential"in c&&Fi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function OT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return U2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),L2.get())})}}function wc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ci(s,t,r);return l.customData._tokenResponse=i,l}async function j2(s,t){return bo(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return bo(s,"POST","/v1/accounts:lookup",t)}function Vl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function B2(s,t=!1){const i=ke(s),r=await i.getIdToken(t),l=Hm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Vl(Gd(l.auth_time)),issuedAtTime:Vl(Gd(l.iat)),expirationTime:Vl(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Hm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Q0(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(s){const t=Hm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof di&&q2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function q2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class H2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),r=await jl(s,Kc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?MT(l.providerUserInfo):[],d=G2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function F2(s){const t=ke(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function G2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function MT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Q2(s,t){const i=await xT(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await OT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(_.credentials="include"),DT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(s,t){return bo(s,"POST","/v2/accounts:revokeToken",qm(s,t))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Q2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ao;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return _s("not implemented")}}function er(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return B2(this,t)}reload(){return F2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await jl(this,j2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:G,providerData:Z,stsTokenManager:st}=i;Et(A&&st,t,"internal-error");const W=ao.fromJSON(this.name,st);Et(typeof A=="string",t,"internal-error"),er(r,t.name),er(l,t.name),Et(typeof O=="boolean",t,"internal-error"),Et(typeof G=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(g,t.name),er(_,t.name),er(y,t.name),er(E,t.name);const mt=new ui({uid:A,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(vt=>({...vt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new ao;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?MT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ao;g.updateFromIdToken(r);const _=new ui({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Rv=new Map;function vs(s){Es(s instanceof Function,"Expected a class definition");let t=Rv.get(s);return t?(Es(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Rv.set(s,t),t)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}VT.type="NONE";const Iv=VT;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class oo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oo(vs(Iv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||vs(Iv);const d=Mc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const O=await Kc(t,{idToken:E}).catch(()=>{});if(!O)break;A=await ui._fromGetAccountInfoResponse(t,O,E)}else A=ui._fromJSON(t,E);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new oo(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new oo(c,t,r))}}function Cv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jT(t))return"Blackberry";if(BT(t))return"Webos";if(UT(t))return"Safari";if((t.includes("chrome/")||LT(t))&&!t.includes("edge/"))return"Chrome";if(zT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function kT(s=rn()){return/firefox\//i.test(s)}function UT(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LT(s=rn()){return/crios\//i.test(s)}function PT(s=rn()){return/iemobile/i.test(s)}function zT(s=rn()){return/android/i.test(s)}function jT(s=rn()){return/blackberry/i.test(s)}function BT(s=rn()){return/webos/i.test(s)}function Fm(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y2(s=rn()){return Fm(s)&&!!window.navigator?.standalone}function X2(){return zA()&&document.documentMode===10}function qT(s=rn()){return Fm(s)||zT(s)||BT(s)||jT(s)||/windows phone/i.test(s)||PT(s)}function HT(s,t=[]){let i;switch(s){case"Browser":i=Cv(rn());break;case"Worker":i=`${Cv(rn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${r}`}class $2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function J2(s,t={}){return bo(s,"GET","/v2/passwordPolicy",qm(s,t))}const Z2=6;class W2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class tR{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),r=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(ea(this));const i=t?ke(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await J2(this),i=new W2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ua("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&vs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&D2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mh(s){return ke(s)}class Nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(s){Gm=s}function nR(s){return Gm.loadJS(s)}function iR(){return Gm.gapiScript}function sR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function rR(s,t){const i=ca(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(hr(c,t??{}))return l;Fi(l,"already-initialized")}return i.initialize({options:t})}function aR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(vs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function oR(s,t,i){const r=mh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=FT(t),{host:d,port:g}=lR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(hr(y,r.config.emulator)&&hr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,To(d)?($0(`${c}//${d}${_}`),J0("Auth",!0)):uR()}function FT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lR(s){const t=FT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Dv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Dv(d)}}}function Dv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function uR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class GT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,i){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function lo(s,t){return P2(s,"POST","/v1/accounts:signInWithIdp",qm(s,t))}const cR="http://localhost";class aa extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new aa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return lo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,lo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,lo(t,i)}buildRequest(){const t={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends Xl{constructor(){super("facebook.com")}static credential(t){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ys extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return aa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ys.credential(i,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";class ir extends Xl{constructor(){super("github.com")}static credential(t){return aa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ui._fromIdTokenResponse(t,r,l),d=xv(r);return new ho({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=xv(r);return new ho({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function xv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends di{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Xc(t,i,r,l)}}function QT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,r):c})}async function hR(s,t,i=!1){const r=await jl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ho._forOperation(s,"link",r)}async function fR(s,t,i=!1){const{auth:r}=s;if(li(r.app))return Promise.reject(ea(r));const l="reauthenticate";try{const c=await jl(s,QT(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=Hm(c.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),ho._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),c}}async function dR(s,t,i=!1){if(li(s.app))return Promise.reject(ea(s));const r="signIn",l=await QT(s,r,t),c=await ho._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function mR(s,t,i,r){return ke(s).onIdTokenChanged(t,i,r)}function gR(s,t,i){return ke(s).beforeAuthStateChanged(t,i)}function pR(s,t,i,r){return ke(s).onAuthStateChanged(t,i,r)}function Ov(s){return ke(s).signOut()}const $c="__sak";class KT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,_R=10;class YT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);X2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_R):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}YT.type="LOCAL";const vR=YT;class XT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}XT.type="SESSION";const $T=XT;function TR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await TR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Km(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class ER{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Km("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function bR(s){Pi().location.href=s}function JT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function AR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function wR(){return JT()?self:null}const ZT="firebaseLocalStorageDb",RR=1,Jc="firebaseLocalStorage",WT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function IR(){const s=indexedDB.deleteDatabase(ZT);return new $l(s).toPromise()}function lm(){const s=indexedDB.open(ZT,RR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Jc,{keyPath:WT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Jc)?t(r):(r.close(),await IR(),t(await lm()))})})}async function Mv(s,t,i){const r=ph(s,!0).put({[WT]:t,value:i});return new $l(r).toPromise()}async function CR(s,t){const i=ph(s,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function Vv(s,t){const i=ph(s,!0).delete(t);return new $l(i).toPromise()}const NR=800,DR=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>DR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(wR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Mv(t,$c,"1"),await Vv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>CR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const xR=tE;new Yl(3e4,6e4);function eE(s,t){return t?vs(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends GT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return lo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function OR(s){return dR(s.auth,new Ym(s),s.bypassAuthState)}function MR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),fR(i,new Ym(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),hR(i,new Ym(s),s.bypassAuthState)}class nE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Fi(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kR=new Yl(2e3,1e4);async function UR(s,t,i){if(li(s.app))return Promise.reject(ci(s,"operation-not-supported-in-this-environment"));const r=mh(s);x2(s,t,Qm);const l=eE(r,i);return new Wr(r,"signInViaPopup",t,l).executeNotNull()}class Wr extends nE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kR.get())};t()}}Wr.currentPopupAction=null;const LR="pendingRedirect",Vc=new Map;class PR extends nE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const r=await zR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(s,t){const i=qR(t),r=BR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function jR(s,t){Vc.set(s._key(),t)}function BR(s){return vs(s._redirectPersistence)}function qR(s){return Mc(LR,s.config.apiKey,s.name)}async function HR(s,t,i=!1){if(li(s.app))return Promise.reject(ea(s));const r=mh(s),l=eE(r,t),d=await new PR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const FR=600*1e3;class GR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ci(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function iE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function QR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(s);default:return!1}}async function KR(s,t={}){return bo(s,"GET","/v1/projects",t)}const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function $R(s){if(s.config.emulator)return;const{authorizedDomains:t}=await KR(s);for(const i of t)try{if(JR(i))return}catch{}Fi(s,"unauthorized-domain")}function JR(s){const t=am(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!XR.test(i))return!1;if(YR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const ZR=new Yl(3e4,6e4);function Uv(){const s=Pi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function WR(s){return new Promise((t,i)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),i(ci(s,"network-request-failed"))},timeout:ZR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=sR("iframefcb");return Pi()[l]=()=>{gapi.load?r():i(ci(s,"network-request-failed"))},nR(`${iR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function tI(s){return kc=kc||WR(s),kc}const eI=new Yl(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Bm(t,iI):`https://${s.config.authDomain}/${nI}`,r={apiKey:t.apiKey,appName:s.name,v:Eo},l=rI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Kl(r).slice(1)}`}async function oI(s){const t=await tI(s),i=Pi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:aI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ci(s,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},eI.get());function _(){Pi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(s,t,i,r=uI,l=cI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...lI,width:r.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();i&&(g=LT(y)?hI:i),kT(y)&&(t=t||fI,_.scrollbars="yes");const E=Object.entries(_).reduce((O,[G,Z])=>`${O}${G}=${Z},`,"");if(Y2(y)&&g!=="_self")return mI(t||"",g),new Lv(null);const A=window.open(t||"",g,E);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new Lv(A)}function mI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const gI="__/auth/handler",pI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Pv(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Eo,eventId:l};if(t instanceof Qm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",GA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Xl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${yI}=${encodeURIComponent(_)}`:"";return`${_I(s)}?${Kl(g).slice(1)}${y}`}function _I({config:s}){return s.emulator?Bm(s,pI):`https://${s.authDomain}/${gI}`}const Qd="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=HR,this._overrideRedirectResult=jR}async _openPopup(t,i,r,l){Es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(t,i,r,am(),l);return dI(t,c,Km())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Pv(t,i,r,am(),l);return bR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await oI(t),r=new GR(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return qT()||UT()||Fm()}}const TI=vI;var zv="@firebase/auth",jv="1.12.0";class EI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(s){Hi(new fi("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(s)},y=new tR(r,l,c,_);return aR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Hi(new fi("auth-internal",t=>{const i=mh(t.getProvider("auth").getImmediate());return(r=>new EI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(zv,jv,bI(s)),Gn(zv,jv,"esm2020")}const SI=300,wI=X0("authIdTokenMaxAge")||SI;let Bv=null;const RI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>wI)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function II(s=Om()){const t=ca(s,"auth");if(t.isInitialized())return t.getImmediate();const i=rR(s,{popupRedirectResolver:TI,persistence:[xR,vR,$T]}),r=X0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=RI(c.toString());gR(i,d,()=>d(i.currentUser)),mR(i,g=>d(g))}}const l=K0("auth");return l&&oR(i,`http://${l}`),i}function CI(){return document.getElementsByTagName("head")?.[0]??document}eR({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ci("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",CI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,sE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,k){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],w;w=S+(k^I&(N^k))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(N^S&(I^N))+M[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(I^k&(S^I))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(S^N&(k^S))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(k^I&(N^k))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(N^S&(I^N))+M[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(I^k&(S^I))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(S^N&(k^S))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(k^I&(N^k))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(N^S&(I^N))+M[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(I^k&(S^I))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(S^N&(k^S))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(k^I&(N^k))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(N^S&(I^N))+M[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(I^k&(S^I))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(S^N&(k^S))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^k&(I^N))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(S^I))+M[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(k^S))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(N^k))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(I^N))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(S^I))+M[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(k^S))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(N^k))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(I^N))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(S^I))+M[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(k^S))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(N^k))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(I^N))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(S^I))+M[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(k^S))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(N^k))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^k)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^N)+M[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^I)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^S)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^k)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^N)+M[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^I)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^S)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^k)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^N)+M[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^I)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^S)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^k)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^N)+M[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^I)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^S)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~k))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~N))+M[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~I))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~S))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~k))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~N))+M[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~I))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~S))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~k))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~N))+M[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~I))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~S))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~k))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~N))+M[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~I))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<S;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==S||(I[N]=k,M=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(y(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function E(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(E(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let M=A;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var A=_(0),O=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(st(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(st(this))return"-"+W(this).toString(C);const S=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=Nt(I,S).g;I=mt(I,N.j(S));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=mt(this,C),st(C)?-1:Z(C)?0:1};function W(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(O)}s.abs=function(){return st(this)?W(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=S;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,S){return C.add(W(S))}s.j=function(C){if(Z(this)||Z(C))return A;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,le=C.i(N)>>>16,me=C.i(N)&65535;I[2*M+2*N]+=w*me,vt(I,2*M+2*N),I[2*M+2*N+1]+=k*me,vt(I,2*M+2*N+1),I[2*M+2*N+1]+=w*le,vt(I,2*M+2*N+1),I[2*M+2*N+2]+=k*le,vt(I,2*M+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function vt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function pt(C,S){this.g=C,this.h=S}function Nt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new pt(A,A);if(st(C))return S=Nt(W(C),S),new pt(W(S.g),W(S.h));if(st(S))return S=Nt(C,W(S)),new pt(W(S.g),S.h);if(C.g.length>30){if(st(C)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,M=S;M.l(C)<=0;)I=re(I),M=re(M);var N=Mt(I,1),k=Mt(M,1);for(M=Mt(M,2),I=Mt(I,2);!Z(M);){var w=k.add(M);w.l(C)<=0&&(N=N.add(I),k=w),M=Mt(M,1),I=Mt(I,1)}return S=mt(C,N.j(S)),new pt(N,S)}for(N=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(I),w=k.j(S);st(w)||w.l(C)>0;)I-=M,k=y(I),w=k.j(S);Z(k)&&(k=O),N=N.add(k),C=mt(C,w)}return new pt(N,C)}s.B=function(C){return Nt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function re(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Mt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,N=[];for(let k=0;k<M;k++)N[k]=S>0?C.i(k+I)>>>S|C.i(k+I+1)<<32-S:C.i(k+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,lr=d}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rE,Nl,aE,Uc,um,oE,lE,uE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const b=pt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new st(()=>new Nt,u=>u.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Mt=!1,C=new vt,S=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(le,N),le.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=yt(u,m,b,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(lt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yt(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),ge={};function Wt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Wt(u,m[B],v,b,L);return null}return v=Tr(v),u&&u[me]?u.J(m,v,g(b)?!!b.capture:!1,L):mi(u,m,v,!1,b,L)}function mi(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Rt=gi(u);if(Rt||(u[Dt]=Rt=new it(u)),v=Rt.add(m,v,b,tt,B),v.proxy)return v;if(b=Qn(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(vn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qn(){function u(v){return m.call(u.src,u.listener,v)}const m=Yi;return u}function Ki(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ki(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=Tr(v),u&&u[me]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=yt(m,v,b,L),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,v,b,L)),(v=u>-1?m[u]:null)&&Kn(v))}function Kn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])ft(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(vn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=gi(m))?(ft(v,u),v.h==0&&(v.src=null,m[Dt]=null)):lt(u)}}}function vn(u){return u in ge?ge[u]:ge[u]="on"+u}function Yi(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Kn(u),u=v.call(b,m)}return u}function gi(u){return u=u[Dt],u instanceof it?u:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(u){return typeof u=="function"?u:(u[Xi]||(u[Xi]=function(m){return u.handleEvent(m)}),u[Xi])}function ye(){M.call(this),this.i=new it(this),this.M=this,this.G=null}A(ye,M),ye.prototype[me]=!0,ye.prototype.removeEventListener=function(u,m,v,b){Ki(this,u,m,v,b)};function te(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Yn(B,b,!0,m)&&L;if(B=m.g=u,L=Yn(B,b,!0,m)&&L,L=Yn(B,b,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Yn(B,b,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)lt(v[b]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Yn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,Te=tt.ha||tt.src;tt.fa&&ft(u.i,tt),L=Rt.call(Te,b)!==!1&&L}}return L&&!b.defaultPrevented}function da(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ma(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,ma(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Be extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(u){M.call(this),this.h=u,this.g={}}A($i,M);var Er=[];function br(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Kn(m)},u),u.g={}}$i.prototype.N=function(){$i.Z.N.call(this),br(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Io=d.JSON.parse,Xn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ji(){}function Ar(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){N.call(this,"d")}A(Ue,N);function un(){N.call(this,"c")}A(un,N);var Q={},Tt=null;function gt(){return Tt=Tt||new ye}Q.Ia="serverreachability";function Yt(u){N.call(this,Q.Ia,u)}A(Yt,N);function Gt(u){const m=gt();te(m,new Yt(m))}Q.STAT_EVENT="statevent";function $n(u,m){N.call(this,Q.STAT_EVENT,u),this.stat=m}A($n,N);function we(u){const m=gt();te(m,new $n(m,u))}Q.Ja="timingevent";function yi(u,m){N.call(this,Q.Ja,u),this.size=m}A(yi,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Te=Rt[Qt].split("=");if(Te.length>1){const fe=Te[0];Te=Te[1];const kn=fe.split("_");tt=kn.length>=2&&kn[1]=="type"?tt+(fe+"="+Te+"&"):tt+(fe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,b,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(b?" "+b:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return pi(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function Rr(){}A(Rr,Ji),Rr.prototype.g=function(){return new XMLHttpRequest},No=new Rr;function Zi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function Ti(u,m,v){u.M=1,u.A=Ir(Ce(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ei(u),u.B=Ce(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),va(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Be(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Er[0]=L.toString()),L=Er);for(let B=0;B<L.length;B++){const tt=Wt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Gt(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ni(this.g),Te=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||Te==7||(Te==8||Qt<=0?Gt(3):Gt(2)),bi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,we(12),En(this),On(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=ru(this,v),fe==qe){Rt==4&&(this.m=4,we(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,we(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,fe,null),Ai(this,fe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(tt),tt.P=!0,we(11))}}else vi(this.i,this.l,v,null),Ai(this,v);Rt==4&&En(this),this.o&&!this.K&&(Rt==4?mu(this.j,this):(this.o=!1,Ei(this)))}else ts(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),En(this),On(this)}}}catch{}};function Uh(u){if(!su(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Re:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}Zn.prototype.cancel=function(){this.K=!0,En(this)};function Ei(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(Gt(),we(17)),En(this),this.m=2,On(this)):pa(this,this.T-u)};function On(u){u.j.I==0||u.K||mu(u.j,u)}function En(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),xs(v);else break t;Vr(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Sa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const fe=Qt[0];if(!(fe<=v.K))if(v.K=fe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const kn=Qt[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Oi=Qt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ii=Qt[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=b.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Oo(B,B.h),B.h=null))}if(b.G){const wa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(b.wa=wa,$t(b.J,b.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=u;if(b.na=yu(b,b.L?b.ba:null,b.W),tt.L){Mo(b.h,tt);var Rt=tt,Te=b.O;Te&&(Rt.H=Te),Rt.D&&(bi(Rt),Ei(Rt)),b.g=tt}else fu(b);v.i.length>0&&Di(v)}else Qt[0]!="stop"&&Qt[0]!="close"||xi(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?xi(v,7):qo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}Gt(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Oo(u,m){u.g?u.g.add(m):u.h=m}function Mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,ko(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ss(this,m[4]),this.h=Ri(m[5]||"",!0),ko(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,_a,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Uo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,lu)),u.join("")},bn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Rt=L[tt++];Rt=="."?b&&tt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==L.length&&B.push("")):(B.push(Rt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?ko(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new bn(u)}function He(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ko(u,m,v){m instanceof Rs?(u.i=m,Ta(u.i,u.l)):(v||(m=Cr(m,ws)),u.i=new Rs(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Ir(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,ou=/[#\?:]/g,Uo=/[#\?]/g,ws=/[#\?@]/g,lu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){hn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){hn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lo(u,m){return hn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Po(u,m){hn(u);let v=[];if(typeof m=="string")Lo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=Is(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Zi(v);v=Po(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Zi(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(uu(this,b),va(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Jn;if(d.Image){const b=new Image;b.onload=E(Mn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Mn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Mn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function zo(u,m){const v=new Jn,b=new AbortController,L=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Cs(){this.g=new Xn}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ii,Ji),Ii.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Nr,ye),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ei(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return zt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Vn(v),typeof u=="string"?v!=null&&Zi(v):$t(u,m,v))}function ee(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ee,ye);var Ci=/^https?$/i,jo=["POST","PUT"];s=ee.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bo(u),Wi(u)}function Bo(u){u.A||(u.A=!0,te(u,"complete"),te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,te(this,"complete"),te(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(te(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!Ci.test(tt?tt.toLowerCase():"")}v=b}if(v)te(u,"complete"),te(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Bo(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||te(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Io(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=iu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){we(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=yu(this,null,this.W),Di(this)};function qo(u){if(ba(u),u.I==3){var m=u.V++,v=Ce(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Mr(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Ir(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}pu(u)}function xs(u){u.g&&(Fo(u),u.g.cancel(),u.g=null)}function ba(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!xo(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||S(),Mt||(re(),Mt=!0),C.add(m,u),u.D=0}}function Aa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=Ce(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Zi(Vn(B))+"&"+m:this.u&&Dr(v,this.u,B)),Oo(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?Ho(this,u):this.i.length==0||xo(this.h)||Ho(this))};function Ho(u,m){var v;m?v=m.l:v=u.V++;const b=Ce(u.J);$t(b,"SID",u.M),$t(b,"RID",v),$t(b,"AID",u.K),Mr(u,b),u.u&&u.o&&Dr(b,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Oo(u.h,v),Ti(v,b,m)}function Mr(u,m){u.H&&zt(u.H,function(v,b){$t(m,b,v)}),u.l&&zt({},function(v,b){$t(m,b,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Te=["count="+v];Rt==-1?v>0?(Rt=L[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let Qt=!0;for(let fe=0;fe<v;fe++){var B=L[fe].g;const kn=L[fe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[fe].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var tt=kn instanceof Map?kn:Object.entries(kn);for(const[Oi,ii]of tt){let si=ii;g(ii)&&(si=pi(ii)),Te.push(B+Oi+"="+encodeURIComponent(si))}}catch(Oi){throw Te.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(kn)}}if(Qt){tt=Te.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||S(),Mt||(re(),Mt=!0),C.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),xs(this),du(this))};function Fo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Ce(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,xs(this),Vr(this),we(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){Sa(u),Fo(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,Mo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=gt(),te(b,new yi(b,v)),Di(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Aa(u,m)||b==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),Ir(b),L?ti(b.toString(),v):zo(b.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),pu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Vo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var b=v instanceof bn?Ce(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ss(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);b&&He(B,b),m&&(B.g=m),L&&Ss(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&$t(b,v,m),$t(b,"VER",u.ka),Mr(u,b),b}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new Ii({ab:v})):new ee(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new an(u,m)};function an(u,m){ye.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}A(an,ye),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){qo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=pi(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Di(m)},an.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,an.Z.N.call(this)};function Tu(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,Ue);function Eu(){un.call(this),this.status=1}A(Eu,un);function es(u){this.g=u}A(es,vu),es.prototype.ra=function(){te(this.g,"a")},es.prototype.qa=function(u){te(this.g,new Tu(u))},es.prototype.pa=function(u){te(this.g,new Eu)},es.prototype.oa=function(){te(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,uE=function(){return new Os},lE=function(){return gt()},oE=Q,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Uc=wr,Co.COMPLETE="complete",aE=Co,Ar.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Nl=Ar,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,rE=ee}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.3";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Ao="12.7.0";const oa=new hh("@firebase/firestore");function eo(){return oa.logLevel}function rt(s,...t){if(oa.logLevel<=Ut.DEBUG){const i=t.map(Xm);oa.debug(`Firestore (${Ao}): ${s}`,...i)}}function bs(s,...t){if(oa.logLevel<=Ut.ERROR){const i=t.map(Xm);oa.error(`Firestore (${Ao}): ${s}`,...i)}}function fo(s,...t){if(oa.logLevel<=Ut.WARN){const i=t.map(Xm);oa.warn(`Firestore (${Ao}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,cE(s,r,i)}function cE(s,t,i){let r=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw bs(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||cE(t,l,r)}function St(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends di{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class DI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xI{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new na;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new na,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new na)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new hE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class OI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Lt(s,t){return s<t?-1:s>t?1:0}function cm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Kd(l)===Kd(c)?Lt(l,c):Kd(l)?1:-1}return Lt(s.length,t.length)}const UI=55296,LI=57343;function Kd(s){const t=s.charCodeAt(0);return t>=UI&&t<=LI}function mo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Qv="__name__";class Li{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const r=Li.isNumericId(t),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class he extends Li{construct(t,i,r){return new he(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Li{construct(t,i,r){return new Ze(t,i,r)}static isValidIdentifier(t){return PI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new Ze([Qv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(he.fromString(t))}static fromName(t){return new ht(he.fromString(t).popFirst(5))}static empty(){return new ht(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new he(t.slice()))}}function fE(s,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function zI(s,t,i,r){if(t===!0&&r===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Kv(s){if(!ht.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Yv(s){if(ht.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function ur(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Jl(s,t){if(!dE(s))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const Xv=-62135596800,$v=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*$v);return new oe(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Xv)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ve("string",oe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new oe(0,0))}static max(){return new bt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function jI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(r===1e9?new oe(i+1,0):new oe(i,r));return new fr(l,ht.empty(),t)}function BI(s){return new fr(s.readTime,s.key,Bl)}class fr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new fr(bt.min(),ht.empty(),Bl)}static max(){return new fr(bt.max(),ht.empty(),Bl)}}function qI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Lt(s.largestBatchId,t.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==HI)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function GI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Zm=-1;function _h(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function QI(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const mE="";function KI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Jv(t)),t=YI(s.get(i),t);return Jv(t)}function YI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function Jv(s){return s+mE+""}function Zv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function gE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Je(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new je(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=XI.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?We.fromBase64String(s):We.fromUint8Array(s)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",TE="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===yE}function vh(s){const t=s.mapValue.fields[vE];return Wm(t)?vh(t):t}function ql(s){const t=dr(s.mapValue.fields[TE].timestampValue);return new oe(t.seconds,t.nanos)}class $I{constructor(t,i,r,l,c,d,g,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const Wc="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",JI="__max__",Cc={mapValue:{}},bE="__vector__",th="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:WI(s)?9007199254740991:ZI(s)?10:11:_t(28295,{value:s})}function Gi(s,t){if(s===t)return!0;const i=gr(s);if(i!==gr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ql(s).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),g=dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),g=Ae(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zv(d)!==Zv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Gi(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((i=>Gi(i,t)))!==void 0}function go(s,t){if(s===t)return 0;const i=gr(s),r=gr(t);if(i!==r)return Lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ae(c.integerValue||c.doubleValue),_=Ae(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return t0(s.timestampValue,t.timestampValue);case 4:return t0(ql(s),ql(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=mr(c),_=mr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Lt(g[y],_[y]);if(E!==0)return E}return Lt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Lt(Ae(c.latitude),Ae(d.latitude));return g!==0?g:Lt(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return e0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[th]?.arrayValue,E=_[th]?.arrayValue,A=Lt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:e0(y,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const O=cm(_[A],E[A]);if(O!==0)return O;const G=go(g[_[A]],y[E[A]]);if(G!==0)return G}return Lt(_.length,E.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function t0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Lt(s,t);const i=dr(s),r=dr(t),l=Lt(i.seconds,r.seconds);return l!==0?l:Lt(i.nanos,r.nanos)}function e0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=go(i[l],r[l]);if(c)return c}return Lt(i.length,r.length)}function po(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=dr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=hm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Lc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return _r(r.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function tg(s){return!!s&&"arrayValue"in s}function n0(s){return!!s&&"nullValue"in s}function i0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function ZI(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===bE}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=kl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(s.arrayValue.values[i]);return t}return{...s}}function WI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=Ze.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){_r(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new _n(kl(this.value))}}function AE(s){const t=[];return _r(s.fields,((i,r)=>{const l=new Ze([i]);if(Pc(r)){const c=AE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Dn(t)}class sn{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new sn(t,0,bt.min(),bt.min(),bt.min(),_n.empty(),0)}static newFoundDocument(t,i,r,l){return new sn(t,1,i,bt.min(),r,l,0)}static newNoDocument(t,i){return new sn(t,2,i,bt.min(),bt.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,bt.min(),bt.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function s0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=go(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function tC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class SE{}class Pe extends SE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new nC(t,i,r):i==="array-contains"?new rC(t,r):i==="in"?new aC(t,r):i==="not-in"?new oC(t,r):i==="array-contains-any"?new lC(t,r):new Pe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new iC(t,r):new sC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qi(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(s){return s.op==="and"}function RE(s){return eC(s)&&wE(s)}function eC(s){for(const t of s.filters)if(t instanceof Qi)return!1;return!0}function dm(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+po(s.value);if(RE(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function IE(s,t){return s instanceof Pe?(function(r,l){return l instanceof Pe&&r.op===l.op&&r.field.isEqual(l.field)&&Gi(r.value,l.value)})(s,t):s instanceof Qi?(function(r,l){return l instanceof Qi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&IE(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function CE(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(s):"Filter"}class nC extends Pe{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class iC extends Pe{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class sC extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class rC extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return tg(i)&&Fl(i.arrayValue,this.value)}}class aC extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class oC extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class lC extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!tg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class uC{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function a0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new uC(s,t,i,r,l,c,d)}function eg(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>po(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>po(r))).join(",")),t.Te=i}return t.Te}function ng(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!IE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!r0(s.startAt,t.startAt)&&r0(s.endAt,t.endAt)}function mm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Th{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(s,t,i,r,l,c,d,g){return new Th(s,t,i,r,l,c,d,g)}function ig(s){return new Th(s)}function o0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hC(s){return s.collectionGroup!==null}function Ul(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new je(Ze.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,r))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new nh(Ze.keyField(),r))}return t.Ie}function zi(s){const t=St(s);return t.Ee||(t.Ee=fC(t,Ul(s))),t.Ee}function fC(s,t){if(s.limitType==="F")return a0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return a0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function gm(s,t,i){return new Th(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return ng(zi(s),zi(t))&&s.limitType===t.limitType}function DE(s){return`${eg(zi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Ul(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Ul(r),l)||r.endAt&&!(function(d,g,_){const y=s0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Ul(r),l))})(s,t)}function dC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(t,i)=>{let r=!1;for(const l of Ul(s)){const c=mC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function mC(s,t,i){const r=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?go(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const gC=new pe(ht.comparator);function As(){return gC}const OE=new pe(ht.comparator);function Dl(...s){let t=OE;for(const i of s)t=t.insert(i.key,i);return t}function ME(s){let t=OE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ta(){return Ll()}function VE(){return Ll()}function Ll(){return new ha((s=>s.toString()),((s,t)=>s.isEqual(t)))}const pC=new pe(ht.comparator),yC=new je(ht.comparator);function Pt(...s){let t=yC;for(const i of s)t=t.add(i);return t}const _C=new je(Lt);function vC(){return _C}function sg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function kE(s){return{integerValue:""+s}}function TC(s,t){return QI(t)?kE(t):sg(s,t)}class Ah{constructor(){this._=void 0}}function EC(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[TE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wm(c)&&(c=vh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):s instanceof Gl?LE(s,t):s instanceof Ql?PE(s,t):(function(l,c){const d=UE(l,c),g=l0(d)+l0(l.Ae);return fm(d)&&fm(l.Ae)?kE(g):sg(l.serializer,g)})(s,t)}function bC(s,t,i){return s instanceof Gl?LE(s,t):s instanceof Ql?PE(s,t):i}function UE(s,t){return s instanceof sh?(function(r){return fm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ih extends Ah{}class Gl extends Ah{constructor(t){super(),this.elements=t}}function LE(s,t){const i=zE(t);for(const r of s.elements)i.some((l=>Gi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends Ah{constructor(t){super(),this.elements=t}}function PE(s,t){let i=zE(t);for(const r of s.elements)i=i.filter((l=>!Gi(l,r)));return{arrayValue:{values:i}}}class sh extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function l0(s){return Ae(s.integerValue||s.doubleValue)}function zE(s){return tg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Ql&&l instanceof Ql?mo(r.elements,l.elements,Gi):r instanceof sh&&l instanceof sh?Gi(r.Ae,l.Ae):r instanceof ih&&l instanceof ih})(s.transform,t.transform)}class SC{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rg(s.key,hi.none()):new Zl(s.key,s.data,hi.none());{const i=s.data,r=_n.empty();let l=new je(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new vr(s.key,r,new Dn(l.toArray()),hi.none())}}function wC(s,t,i){s instanceof Zl?(function(l,c,d){const g=l.value.clone(),_=c0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof vr?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=c0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(s,t,i,r){return s instanceof Zl?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=c.value.clone(),E=h0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof vr?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=h0(c.fieldTransforms,_,d),E=d.data;return E.setAll(BE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function RC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=UE(r.transform,l||null);c!=null&&(i===null&&(i=_n.empty()),i.set(r.field,c))}return i||null}function u0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&mo(r,l,((c,d)=>AC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Sh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Sh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function c0(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,bC(d,g,i[l]))}return r}function h0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,EC(c,d,t))}return r}class rg extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&wC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Pl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Pl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=VE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=jE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((i,r)=>u0(i,r)))&&mo(this.baseMutations,t.baseMutations,((i,r)=>u0(i,r)))}}class ag{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return pC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ag(t,i,r,l)}}class NC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function xC(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function qE(s){if(s===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const MC=new lr([4294967295,4294967295],0);function f0(s){const t=OC().encode(s),i=new sE;return i.update(t),new Uint8Array(i.digest())}function d0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new lr([i,r],0),new lr([l,c],0)]}class og{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(lr.fromNumber(r)));return l.compare(MC)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=f0(t),[r,l]=d0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new wh(bt.min(),l,new pe(Lt),As(),Pt())}}class Wl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Wl(r,i,Pt(),Pt(),Pt())}}class jc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,r=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),r=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=g0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Nc(),this.He=Nc(),this.Ye=new pe(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(r===0){const d=new ht(c.path);this.et(i,d,sn.newNoDocument(d,bt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=mr(r).toUint8Array()}catch(_){if(_ instanceof pE)return fo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new og(d,l,c)}catch(_){return fo(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,sn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Pt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,r);return this.je=As(),this.Je=Nc(),this.He=Nc(),this.Ye=new pe(Lt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new m0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new pe(ht.comparator)}function g0(){return new pe(ht.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class PC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function zC(s,t){return rh(s,t.toTimestamp())}function ji(s){return Xt(!!s,49232),bt.fromTimestamp((function(i){const r=dr(i);return new oe(r.seconds,r.nanos)})(s))}function lg(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function QE(s){const t=he.fromString(s);return Xt(JE(t),10190,{key:t.toString()}),t}function _m(s,t){return lg(s.databaseId,t.path)}function Yd(s,t){const i=QE(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(YE(i))}function KE(s,t){return lg(s.databaseId,t)}function jC(s){const t=QE(s);return t.length===4?he.emptyPath():YE(t)}function vm(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function p0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function BC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),We.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),We.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:qE(y.code);return new ut(E,y.message||"")})(d);i=new FE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):bt.min(),g=new _n({mapValue:{fields:r.document.fields}}),_=sn.newFoundDocument(l,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];i=new jc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?ji(r.readTime):bt.min(),d=sn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new DC(l,c),g=r.targetId;i=new HE(g,d)}}return i}function qC(s,t){let i;if(t instanceof Zl)i={update:p0(s,t.key,t.value)};else if(t instanceof rg)i={delete:_m(s,t.key)};else if(t instanceof vr)i={update:p0(s,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof IC))return _t(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function HC(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(bt.min())&&(d=ji(c)),new SC(d,l.transformResults||[])})(i,t)))):[]}function FC(s,t){return{documents:[KE(s,t.path)]}}function GC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=KE(s,l);const c=(function(y){if(y.length!==0)return $E(Qi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(O){return{field:io(O.field),direction:YC(O.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function QC(s){let t=jC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const O=XE(A);return O instanceof Qi&&RE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(Z){return new nh(so(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let O;return O=typeof A=="object"?A.value:A,_h(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(A){const O=!!A.before,G=A.values||[];return new eh(G,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const O=!A.before,G=A.values||[];return new eh(G,O)})(i.endAt)),cC(t,l,d,c,g,"F",_,y)}function KC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((r=>XE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function YC(s){return kC[s]}function XC(s){return UC[s]}function $C(s){return LC[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return Ze.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:XC(i.op),value:i.value}}})(s):s instanceof Qi?(function(i){const r=i.getFilters().map((l=>$E(l)));return r.length===1?r[0]:{compositeFilter:{op:$C(i.op),filters:r}}})(s):_t(54877,{filter:s})}function JC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class rr{constructor(t,i,r,l,c=bt.min(),d=bt.min(),g=We.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZC{constructor(t){this.yt=t}}function WC(s){const t=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}class tN{constructor(){this.Cn=new eN}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(fr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class eN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new je(he.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new je(he.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(ZE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const _0="LruGarbageCollector",nN=1048576;function v0([s,t],[i,r]){const l=Lt(s,i);return l===0?Lt(t,r):l}class iN{constructor(t){this.Ir=t,this.buffer=new je(v0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?rt(_0,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Vr(3e5)}))}}class rN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(yh.ce);const r=new iN(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(y0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),eo()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function aN(s,t){return new rN(s,t)}class oN{constructor(){this.changes=new ha((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Pl(r.mutation,l,Dn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Pt()){const l=ta();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Dl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ta();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Pt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=As();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof vr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),oe.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new lN(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Ll();let l=new pe(((d,g)=>d-g)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=r.get(_)||Dn.empty();E=g.applyToLocalView(y,E),r.set(_,E);const A=(l.get(g.batchId)||Pt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,A=VE();E.forEach((O=>{if(!c.has(O)){const G=jE(i.get(O),r.get(O));G!==null&&A.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(ta());let g=Bl,_=c;return d.next((y=>$.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((O=>{_=_.insert(E,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((E=>({batchId:g,changes:ME(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(A,O){return new Th(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((E=>{E.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,sn.newInvalidDocument(E)))}));let g=Dl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Pl(E.mutation,y,Dn.empty(),oe.now()),bh(i,y)&&(g=g.insert(_,y))})),g}))}}class cN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class hN{constructor(){this.overlays=new pe(ht.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ta();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=ta(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new pe(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=ta(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ta(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return $.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NC(i,r));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class fN{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class ug{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new he([])),r=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new he([])),r=new Ge(i,t),l=new Ge(i,t+1);let c=Pt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class dN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new je(Lt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new ht(c),0);let g=new je(Lt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ge(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mN{constructor(t){this.ri=t,this.docs=(function(){return new pe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let r=As();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=As();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qI(BI(E),r)<=0||(l.has(E.key)||bh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new gN(this)}getSize(t){return $.resolve(this.size)}}class gN extends oN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class pN{constructor(t){this.persistence=t,this.si=new ha((i=>eg(i)),ng),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=t(this),this.Pi=new pN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(l){return new mN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZC(i),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new dN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){rt("MemoryPersistence","Starting transaction:",t);const l=new yN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class yN extends FI{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ht.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new ha((r=>KI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=aN(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(t,i.fromCache,r,l)}}class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:GI(rn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _N;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(eo()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(eo()<=Ut.DEBUG&&rt("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(eo()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):$.resolve())}ys(t,i){if(o0(i))return $.resolve(null);let r=zi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return o0(i)||l.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(eo()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(t,d,i,jI(l,Bl)).next((g=>g)))}))}Ds(t,i){let r=new je(xE(t));return i.forEach(((l,c)=>{bh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return eo()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(t,i,fr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",TN=3e8;class EN{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new pe(Lt),this.xs=new ha((c=>eg(c)),ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bN(s,t,i,r){return new EN(s,t,i,r)}async function t1(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function AN(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const A=y.batch,O=A.keys();let G=$.resolve();return O.forEach((Z=>{G=G.next((()=>E.getEntry(_,Z))).next((st=>{const W=y.docVersions.get(Z);Xt(W!==null,48541),st.version.compareTo(W)<0&&(A.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),E.addEntry(st)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Pt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function e1(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function SN(s,t){const i=St(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,A)=>{const O=l.get(A);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(We.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,r)),l=l.insert(A,G),(function(st,W,mt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=TN?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(O,G,E)&&g.push(i.Pi.updateTargetData(c,G))}));let _=As(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(wN(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!r.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function wN(s,t,i){let r=Pt(),l=Pt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=As();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function RN(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function IN(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new rr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Tm(s,t,i){const r=St(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;rt(fg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function T0(s,t,i){const r=St(s);let l=bt.min(),c=Pt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=St(_),O=A.xs.get(E);return O!==void 0?$.resolve(A.Ms.get(O)):A.Pi.getTargetData(y,E)})(r,d,zi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((g=>(CN(r,dC(t),g),{documents:g,Qs:c})))))}function CN(s,t,i){let r=s.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class E0{constructor(){this.activeTargetIds=vC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NN{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DN{Oo(t){}shutdown(){}}const b0="ConnectivityMonitor";class A0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(b0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function Em(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Xd="RestConnection",xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());rt(Xd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),E=To(y);return this.Jo(t,g,_,r,E).then((A=>(rt(Xd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw fo(Xd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=xN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class MN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class VN extends ON{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Em();return new Promise(((g,_)=>{const y=new rE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();rt(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:rt(en,`RPC '${t}' ${d} timed out`),_(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const O=y.getStatus();if(rt(en,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const st=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(vt)>=0?vt:J.UNKNOWN})(Z.status);_(new ut(st,Z.message))}else _(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(en,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);rt(en,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,r,15)}))}T_(t,i,r){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),g=lE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const E=c.join("");rt(en,`Creating RPC '${t}' stream ${l}: ${E}`,_);const A=d.createWebChannel(E,_);this.I_(A);let O=!1,G=!1;const Z=new MN({Yo:W=>{G?rt(en,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(rt(en,`Opening RPC '${t}' stream ${l} transport.`),A.open(),O=!0),rt(en,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),st=(W,mt,vt)=>{W.listen(mt,(pt=>{try{vt(pt)}catch(Nt){setTimeout((()=>{throw Nt}),0)}}))};return st(A,Nl.EventType.OPEN,(()=>{G||(rt(en,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),st(A,Nl.EventType.CLOSE,(()=>{G||(G=!0,rt(en,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),st(A,Nl.EventType.ERROR,(W=>{G||(G=!0,fo(en,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),st(A,Nl.EventType.MESSAGE,(W=>{if(!G){const mt=W.data[0];Xt(!!mt,16349);const vt=mt,pt=vt?.error||vt[0]?.error;if(pt){rt(en,`RPC '${t}' stream ${l} received error:`,pt);const Nt=pt.status;let re=(function(S){const I=Me[S];if(I!==void 0)return qE(I)})(Nt),Mt=pt.message;re===void 0&&(re=J.INTERNAL,Mt="Unknown error status: "+Nt+" with message "+pt.message),G=!0,Z.a_(new ut(re,Mt)),A.close()}else rt(en,`RPC '${t}' stream ${l} received:`,mt),Z.u_(mt)}})),st(g,oE.STAT_EVENT,(W=>{W.stat===um.PROXY?rt(en,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===um.NOPROXY&&rt(en,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Rh(s){return new PC(s,!0)}class n1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S0="PersistentStream";class i1{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(S0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kN extends i1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=BC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ji(d.readTime):bt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:FC(c,_)}:{query:GC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GE(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=KC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class UN extends i1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=HC(t.writeResults,t.commitTime),r=ji(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>qC(this.serializer,r)))};this.q_(i)}}class LN{}class PN extends LN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class jN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{fa(this)&&(rt(la,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Ra=new zN(r,l)}}async function Ih(s){if(fa(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function s1(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):Ro(i).O_()&&mg(i,t))}function dg(s,t){const i=St(s),r=Ro(i);i.Ia.delete(t),r.O_()&&r1(i,t),i.Ia.size===0&&(r.O_()?r.L_():fa(i)&&i.Ra.set("Unknown"))}function mg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(s).Y_(t)}function r1(s,t){s.Va.Ue(t),Ro(s).Z_(t)}function gg(s){s.Va=new VC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Ra.ua()}function pg(s){return fa(s)&&!Ro(s).x_()&&s.Ia.size>0}function fa(s){return St(s).Ea.size===0}function a1(s){s.Va=void 0}async function BN(s){s.Ra.set("Online")}async function qN(s){s.Ia.forEach(((t,i)=>{mg(s,t)}))}async function HN(s,t){a1(s),pg(s)?(s.Ra.ha(t),gg(s)):s.Ra.set("Unknown")}async function FN(s,t,i){if(s.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){rt(la,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await oh(s,r)}else if(t instanceof jc?s.Va.Ze(t):t instanceof HE?s.Va.st(t):s.Va.tt(t),!i.isEqual(bt.min()))try{const r=await e1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(We.EMPTY_BYTE_STRING,E.snapshotVersion)),r1(c,_);const A=new rr(E.target,_,y,E.sequenceNumber);mg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){rt(la,"Failed to raise snapshot:",r),await oh(s,r)}}async function oh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>e1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function o1(s,t){return t().catch((i=>oh(s,i,t)))}async function Ch(s){const t=St(s),i=pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;GN(t);)try{const l=await RN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,QN(t,l)}catch(l){await oh(t,l)}l1(t)&&u1(t)}function GN(s){return fa(s)&&s.Ta.length<10}function QN(s,t){s.Ta.push(t);const i=pr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function l1(s){return fa(s)&&!pr(s).x_()&&s.Ta.length>0}function u1(s){pr(s).start()}async function KN(s){pr(s).ra()}async function YN(s){const t=pr(s);for(const i of s.Ta)t.ea(i.mutations)}async function XN(s,t,i){const r=s.Ta.shift(),l=ag.from(r,t,i);await o1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function $N(s,t){t&&pr(s).X_&&await(async function(r,l){if((function(d){return xC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await o1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(r)}})(s,t),l1(s)&&u1(s)}async function w0(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),rt(la,"RemoteStore received new credentials");const r=fa(i);i.Ea.add(3),await tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function JN(s,t){const i=St(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new kN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:BN.bind(null,s),t_:qN.bind(null,s),r_:HN.bind(null,s),H_:FN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),a1(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new UN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,s),r_:$N.bind(null,s),ta:YN.bind(null,s),na:XN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new yg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,t){if(bs("AsyncQueue",`${t}: ${s}`),wo(s))return new ut(J.UNAVAILABLE,`${t}: ${s}`);throw s}class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Dl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class R0{constructor(){this.ga=new pe(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class _o{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new _o(t,i,uo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WN{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=I0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function I0(){return new ha((s=>DE(s)),Eh)}async function tD(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new ZN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=_g(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&vg(i)}async function eD(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nD(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&vg(i)}function iD(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function vg(s){s.Ca.forEach((t=>{t.next()}))}var bm,C0;(C0=bm||(bm={})).Ma="default",C0.Cache="cache";class sD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class c1{constructor(t){this.key=t}}class h1{constructor(t){this.key=t}}class rD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=xE(t),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new R0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const O=l.get(E),G=bh(this.query,A)?A:null,Z=!!O&&this.mutatedKeys.has(O.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;O&&G?O.data.isEqual(G.data)?Z!==st&&(r.track({type:3,doc:G}),W=!0):this.su(O,G)||(r.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!O&&G?(r.track({type:0,doc:G}),W=!0):O&&!G&&(r.track({type:1,doc:O}),W=!0,(_||y)&&(g=!0)),W&&(G?(d=d.add(G),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(G,Z){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return st(G)-st(Z)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new _o(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new h1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new c1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class aD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class oD{constructor(t){this.key=t,this.hu=!1}}class lD{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((g=>DE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(ht.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(s,t,i=!0){const r=y1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f1(r,t,i,!0),l}async function cD(s,t){const i=y1(s);await f1(i,t,!0,!1)}async function f1(s,t,i,r){const l=await IN(s.localStore,zi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await hD(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&s1(s.remoteStore,l),g}async function hD(s,t,i,r,l){s.pu=(A,O,G)=>(async function(st,W,mt,vt){let pt=W.view.ru(mt);pt.Cs&&(pt=await T0(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,pt))));const Nt=vt&&vt.targetChanges.get(W.targetId),re=vt&&vt.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(pt,st.isPrimaryClient,Nt,re);return D0(st,W.targetId,Mt.au),Mt.snapshot})(s,A,O,G);const c=await T0(s.localStore,t,!0),d=new rD(t,c.Qs),g=d.ru(c.documents),_=Wl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);D0(s,i,y.au);const E=new aD(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function fD(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Am(r,l.targetId)})).catch(So)):(Am(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function dD(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function mD(s,t,i){const r=ED(s);try{const l=await(function(d,g){const _=St(d),y=oe.now(),E=g.reduce(((G,Z)=>G.add(Z.key)),Pt());let A,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=As(),st=Pt();return _.Ns.getEntries(G,E).next((W=>{Z=W,Z.forEach(((mt,vt)=>{vt.isValidDocument()||(st=st.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,Z))).next((W=>{A=W;const mt=[];for(const vt of g){const pt=RC(vt,A.get(vt.key).overlayedDocument);pt!=null&&mt.push(new vr(vt.key,pt,AE(pt.value.mapValue),hi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,mt,g)})).next((W=>{O=W;const mt=W.applyToLocalDocumentSet(A,st);return _.documentOverlayCache.saveOverlays(G,W.batchId,mt)}))})).then((()=>({batchId:O.batchId,changes:ME(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new pe(Lt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await eu(r,l.changes),await Ch(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function d1(s,t){const i=St(s);try{const r=await SN(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await eu(i,r,t)}catch(r){await So(r)}}function N0(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,A)=>{for(const O of A.Sa)O.va(g)&&(y=!0)})),y&&vg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gD(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new pe(ht.comparator);d=d.insert(c,sn.newNoDocument(c,bt.min()));const g=Pt().add(c),_=new wh(bt.min(),new Map,new pe(Lt),d,g);await d1(r,_),r.du=r.du.remove(c),r.Au.delete(t),Eg(r)}else await Tm(r.localStore,t,!1).then((()=>Am(r,t,i))).catch(So)}async function pD(s,t){const i=St(s),r=t.batch.batchId;try{const l=await AN(i.localStore,t);g1(i,r,null),m1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await eu(i,l)}catch(l){await So(l)}}async function yD(s,t,i){const r=St(s);try{const l=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Xt(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);g1(r,t,i),m1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await eu(r,l)}catch(l){await So(l)}}function m1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function g1(s,t,i){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||p1(s,r)}))}function p1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function D0(s,t,i){for(const r of i)r instanceof c1?(s.Ru.addReference(r.key,t),_D(s,r)):r instanceof h1?(rt(Tg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||p1(s,r.key)):_t(19791,{wu:r})}function _D(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(rt(Tg,"New document in limbo: "+i),s.Eu.add(r),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(he.fromString(t)),r=s.fu.next();s.Au.set(r,new oD(i)),s.du=s.du.insert(i,r),s1(s.remoteStore,new rr(zi(ig(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function eu(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=hg.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const E=St(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(O=>$.forEach(O.Es,(G=>E.persistence.referenceDelegate.addReference(A,O.targetId,G))).next((()=>$.forEach(O.ds,(G=>E.persistence.referenceDelegate.removeReference(A,O.targetId,G)))))))))}catch(A){if(!wo(A))throw A;rt(fg,"Failed to update sequence numbers: "+A)}for(const A of y){const O=A.targetId;if(!A.fromCache){const G=E.Ms.get(O),Z=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(O,st)}}})(r.localStore,c))}async function vD(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){rt(Tg,"User change. New user:",t.toKey());const r=await t1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await eu(i,r.Ls)}}function TD(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return Pt().add(r.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function y1(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gD.bind(null,t),t.Pu.H_=nD.bind(null,t.eventManager),t.Pu.yu=iD.bind(null,t.eventManager),t}function ED(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bN(this.persistence,new vN,t.initialUser,this.serializer)}Cu(t){return new WE(cg.mi,this.serializer)}Du(t){return new NN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class bD extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new WE((r=>ah.mi(r,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WN})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),r=(function(c){return new VN(c)})(t.databaseInfo);return(function(c,d,g,_){return new PN(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new jN(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>N0(this.syncEngine,i,0)),(function(){return A0.v()?new A0:new DN})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,E){const A=new lD(l,c,d,g,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);rt(la,"RemoteStore shutting down."),r.Ea.add(5),await tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class AD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const yr="FirestoreClient";class SD{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{rt(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await t1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function x0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await wD(s);rt(yr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>w0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>w0(t.remoteStore,l))),s._onlineComponents=t}async function wD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(yr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new lh)}}else rt(yr,"Using default OfflineComponentProvider"),await Jd(s,new bD(void 0));return s._offlineComponents}async function _1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(yr,"Using user provided OnlineComponentProvider"),await x0(s,s._uninitializedComponentsProvider._online)):(rt(yr,"Using default OnlineComponentProvider"),await x0(s,new Sm))),s._onlineComponents}function RD(s){return _1(s).then((t=>t.syncEngine))}async function O0(s){const t=await _1(s),i=t.eventManager;return i.onListen=uD.bind(null,t.syncEngine),i.onUnlisten=fD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dD.bind(null,t.syncEngine),i}function v1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const M0=new Map;const T1="firestore.googleapis.com",V0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nN)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NI;switch(r.type){case"firstParty":return new MI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M0.get(i);r&&(rt("ComponentProvider","Removing Datastore"),M0.delete(i),r.terminate())})(this),Promise.resolve()}}function ID(s,t,i,r={}){s=ur(s,Nh);const l=To(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&($0(`https://${g}`),J0("Firestore",!0)),c.host!==T1&&c.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!hr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=nn.MOCK_USER;else{y=OA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(A)}s._authCredentials=new DI(new hE(y,E))}}class Dh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class ze{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Jl(i,ze._jsonSchema))return new ze(t,r||null,new ht(he.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ve("string",ze._jsonSchemaVersion),referencePath:Ve("string")};class cr extends Dh{constructor(t,i,r){super(t,i,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new ht(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function U0(s,t,...i){if(s=ke(s),fE("collection","path",t),s instanceof Nh){const r=he.fromString(t,...i);return Yv(r),new cr(s,null,r)}{if(!(s instanceof ze||s instanceof cr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return Yv(r),new cr(s.firestore,null,r)}}function wm(s,t,...i){if(s=ke(s),arguments.length===1&&(t=$m.newId()),fE("doc","path",t),s instanceof Nh){const r=he.fromString(t,...i);return Kv(r),new ze(s,null,new ht(r))}{if(!(s instanceof ze||s instanceof cr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return Kv(r),new ze(s.firestore,s instanceof cr?s.converter:null,new ht(r))}}const L0="AsyncQueue";class P0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&rt(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;rt(L0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function j0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vo extends Nh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new P0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P0(t),this._firestoreClient=void 0,await t}}}function CD(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:Wc,l=ca(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DA("firestore");c&&ID(l,...c)}return l}function E1(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ND(s),s._firestoreClient}function ND(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new $I(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,v1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new SD(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ve("string",Fn._jsonSchemaVersion),bytes:Ve("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ve("string",Bi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ve("string",qi._jsonSchemaVersion),vectorValues:Ve("object")};const DD=/^__.*__$/;class xD{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class b1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function A1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Ag{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(A1(this.Ac)&&DD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OD{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(t)}Cc(t,i,r,l=!1){return new Ag({Ac:t,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S1(s){const t=s._freezeSettings(),i=Rh(s._databaseId);return new OD(s._databaseId,!!t.ignoreUndefinedProperties,i)}function MD(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Sg("Data must be an object, but it was:",d,r);const g=w1(r,d);let _,y;if(c.merge)_=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const O=Rm(t,A,i);if(!d.contains(O))throw new ut(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);I1(E,O)||E.push(O)}_=new Dn(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new xD(new _n(g),_,y)}class Oh extends bg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function VD(s,t,i,r){const l=s.Cc(1,t,i);Sg("Data must be an object, but it was:",l,r);const c=[],d=_n.empty();_r(r,((_,y)=>{const E=wg(t,_,i);y=ke(y);const A=l.yc(E);if(y instanceof Oh)c.push(E);else{const O=Mh(y,A);O!=null&&(c.push(E),d.set(E,O))}}));const g=new Dn(c);return new b1(d,g,l.fieldTransforms)}function kD(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Rm(t,r,i)],_=[l];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Rm(t,c[O])),_.push(c[O+1]);const y=[],E=_n.empty();for(let O=g.length-1;O>=0;--O)if(!I1(y,g[O])){const G=g[O];let Z=_[O];Z=ke(Z);const st=d.yc(G);if(Z instanceof Oh)y.push(G);else{const W=Mh(Z,st);W!=null&&(y.push(G),E.set(G,W))}}const A=new Dn(y);return new b1(E,A,d.fieldTransforms)}function Mh(s,t){if(R1(s=ke(s)))return Sg("Unsupported field value:",t,s),w1(s,t);if(s instanceof bg)return(function(r,l){if(!A1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Mh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=oe.fromDate(r);return{timestampValue:rh(l.serializer,c)}}if(r instanceof oe){const c=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof ze){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof qi)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:bE},[th]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jm(r)}`)})(s,t)}function w1(s,t){const i={};return gE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((r,l)=>{const c=Mh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function R1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Bi||s instanceof Fn||s instanceof ze||s instanceof bg||s instanceof qi)}function Sg(s,t,i){if(!R1(i)||!dE(i)){const r=Jm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Rm(s,t,i){if((t=ke(t))instanceof xh)return t._internalPath;if(typeof t=="string")return wg(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const UD=new RegExp("[~\\*/\\[\\]]");function wg(s,t,i){if(t.search(UD)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ut(J.INVALID_ARGUMENT,g+s+_)}function I1(s,t){return s.some((i=>i.isEqual(t)))}class C1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(N1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LD extends C1{data(){return super.data()}}function N1(s,t){return typeof t=="string"?wg(s,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function PD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zD{convertValue(t,i="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return _r(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((r=>Ae(r.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=vh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=dr(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=he.fromString(t);Xt(JE(r),9688,{name:t});const l=new Hl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jD(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends C1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(N1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ve("string",ia._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Bc extends ia{data(t={}){return super.data(t)}}class co{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Bc(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:BD(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Ve("string",co._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class D1 extends zD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function qD(s,t,i,...r){s=ur(s,ze);const l=ur(s.firestore,vo),c=S1(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof xh?kD(c,"updateDoc",s._key,t,i,r):VD(c,"updateDoc",s._key,t),Rg(l,[d.toMutation(s._key,hi.exists(!0))])}function HD(s){return Rg(ur(s.firestore,vo),[new rg(s._key,hi.none())])}function FD(s,t){const i=ur(s.firestore,vo),r=wm(s),l=jD(s.converter,t);return Rg(i,[MD(S1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function GD(s,...t){s=ke(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||j0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof ze)d=ur(s.firestore,vo),g=ig(s._key.path),c={next:_=>{t[r]&&t[r](QD(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=ur(s,Dh);d=ur(_.firestore,vo),g=_._query;const y=new D1(d);c={next:E=>{t[r]&&t[r](new co(d,y,_,E))},error:t[r+1],complete:t[r+2]},PD(s._query)}return(function(y,E,A,O){const G=new AD(O),Z=new sD(E,G,A);return y.asyncQueue.enqueueAndForget((async()=>tD(await O0(y),Z))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>eD(await O0(y),Z)))}})(E1(d),g,l,c)}function Rg(s,t){return(function(r,l){const c=new na;return r.asyncQueue.enqueueAndForget((async()=>mD(await RD(r),l,c))),c.promise})(E1(s),t)}function QD(s,t,i){const r=i.docs.get(t._key),l=new D1(s);return new ia(s,l,t._key,r,new Ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ao=l})(Eo),Hi(new fi("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new vo(new xI(r.getProvider("auth-internal")),new VI(d,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Gn(Hv,Fv,t),Gn(Hv,Fv,"esm2020")})();const KD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),B0=s=>{const t=YD(s);return t.charAt(0).toUpperCase()+t.slice(1)},x1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),XD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JD=wt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>wt.createElement("svg",{ref:_,...$D,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:x1("lucide",l),...!c&&!XD(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>wt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Se=(s,t)=>{const i=wt.forwardRef(({className:r,...l},c)=>wt.createElement(JD,{ref:c,iconNode:t,className:x1(`lucide-${KD(B0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=B0(s),i};const ZD=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],WD=Se("arrow-down-right",ZD);const tx=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],q0=Se("arrow-up-right",tx);const ex=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],nx=Se("banknote",ex);const ix=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sx=Se("calendar",ix);const rx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Im=Se("check",rx);const ax=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ox=Se("chevron-left",ax);const lx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ux=Se("chevron-right",lx);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O1=Se("circle-alert",cx);const hx=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fx=Se("credit-card",hx);const dx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mx=Se("download",dx);const gx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],px=Se("funnel",gx);const yx=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],_x=Se("landmark",yx);const vx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tx=Se("lock",vx);const Ex=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bx=Se("log-out",Ex);const Ax=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Sx=Se("moon",Ax);const wx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zd=Se("plus",wx);const Rx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ix=Se("sun",Rx);const Cx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M1=Se("trash-2",Cx);const Nx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dx=Se("trending-up",Nx);const xx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V1=Se("wallet",xx);const Ox=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H0=Se("x",Ox),Cm={apiKey:"AIzaSyBsb-1ondR3cyGnYg93IDl4rG8AObbPZK4",authDomain:"pemanager-49940.firebaseapp.com",projectId:"pemanager-49940",storageBucket:"pemanager-49940.firebasestorage.app",messagingSenderId:"816708859299",appId:"1:816708859299:web:c4f2232cdc1bc085065616",measurementId:"G-K6B3D825LG"},k1="vivekdn2504@gmail.com",Nm=Cm.apiKey!=="YOUR_API_KEY",Mx=Nm?Cm:typeof __firebase_config<"u"?JSON.parse(__firebase_config):Cm,Ig=sT(Mx);typeof window<"u"&&S2(Ig);const xc=II(Ig),Wd=CD(Ig),Vx=({message:s,type:t,onClose:i})=>{wt.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r=t==="error"?"bg-red-500":"bg-indigo-600";return U.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-medium text-sm flex items-center gap-2 z-[70] animate-fade-in-down ${r}`,children:[t==="error"?U.jsx(O1,{className:"w-4 h-4"}):U.jsx(Im,{className:"w-4 h-4"}),s]})},kx=({isOpen:s,title:t,message:i,onConfirm:r,onCancel:l,isDarkMode:c})=>s?U.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:U.jsx("div",{className:`w-full max-w-xs p-6 rounded-3xl shadow-2xl scale-100 transition-all ${c?"bg-[#1c1c1f] text-white":"bg-white text-gray-900"}`,children:U.jsxs("div",{className:"flex flex-col items-center text-center",children:[U.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:U.jsx(M1,{className:"w-6 h-6"})}),U.jsx("h3",{className:"text-lg font-bold mb-2",children:t}),U.jsx("p",{className:`text-sm mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:i}),U.jsxs("div",{className:"flex gap-3 w-full",children:[U.jsx("button",{onClick:l,className:`flex-1 py-3 rounded-xl font-bold text-sm transition-colors ${c?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),U.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-bold text-sm bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 transition-colors",children:"Delete"})]})]})})}):null,Ux=({onLogin:s,error:t})=>U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 font-sans",children:U.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center",children:[U.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:U.jsx(V1,{className:"w-8 h-8"})}),U.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),U.jsxs("p",{className:"text-gray-500 mb-8 text-sm",children:["Personal Expense Manager",U.jsx("br",{}),"Secure Login"]}),t&&U.jsxs("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-xs rounded-xl flex items-center gap-2 text-left",children:[U.jsx(O1,{className:"w-4 h-4 shrink-0"}),t]}),U.jsx("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:"Sign in with Google"}),U.jsx("p",{className:"mt-6 text-[10px] text-gray-400 uppercase tracking-widest",children:"Restricted Access"}),U.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:k1})]})}),Lx=()=>U.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 font-mono text-sm",children:U.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[U.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[U.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center animate-pulse",children:U.jsx(Tx,{className:"w-6 h-6"})}),U.jsxs("div",{children:[U.jsx("h1",{className:"text-xl font-bold",children:"Setup Required"}),U.jsx("p",{className:"text-gray-400",children:"Connect your Firebase project"})]})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[U.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 1: Get Config"}),U.jsxs("p",{className:"text-gray-300",children:["Go to Firebase Console > Project Settings > General > Your Apps. Copy the ",U.jsx("code",{className:"bg-black px-1 py-0.5 rounded",children:"firebaseConfig"})," object."]})]}),U.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[U.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 2: Update Code"}),U.jsx("p",{className:"text-gray-300",children:"Update lines 26-33 in the code editor."})]}),U.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[U.jsx("h3",{className:"font-bold text-indigo-400 mb-2",children:"Step 3: Set Email"}),U.jsx("p",{className:"text-gray-300",children:"Update line 40 with your Gmail address."})]})]})]})});function Px(){const[s,t]=wt.useState(null),[i,r]=wt.useState([]),[l,c]=wt.useState(!0),[d,g]=wt.useState(null),[_,y]=wt.useState(null),[E,A]=wt.useState(()=>localStorage.getItem("theme")==="dark"),[O,G]=wt.useState(!1),[Z,st]=wt.useState({isOpen:!1,id:null}),[W,mt]=wt.useState(""),[vt,pt]=wt.useState("All"),[Nt,re]=wt.useState(new Date().toISOString().slice(0,7)),[Mt,C]=wt.useState(()=>localStorage.getItem("monthly_budget")||"20000"),[S,I]=wt.useState(!1),M=["Groceries","Food","Transport","Rent","Bills","Shopping","Health","Fun","Travel"],N=["Salary","Bonus","Freelance","Other"],[k,w]=wt.useState(()=>{try{const Q=localStorage.getItem("custom_categories");return Q?JSON.parse(Q):[]}catch{return[]}}),[le,me]=wt.useState(!1),[H,et]=wt.useState(""),[lt,zt]=wt.useState(()=>{try{const Q=localStorage.getItem("payment_modes");return Q?JSON.parse(Q):["Cash","UPI","Bank Account","Credit Card"]}catch{return["Cash","UPI","Bank Account","Credit Card"]}}),[Ft,x]=wt.useState(!1),[Y,nt]=wt.useState(""),[it,ft]=wt.useState("expense"),[yt,Dt]=wt.useState(null),[ge,Wt]=wt.useState(""),[mi,Qn]=wt.useState(""),[Ki,Kn]=wt.useState(""),[vn,Yi]=wt.useState(""),[gi,Xi]=wt.useState(new Date().toISOString().split("T")[0]);wt.useEffect(()=>{document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")},[E]),wt.useEffect(()=>{if(!Nm){c(!1);return}const Q=pR(xc,Tt=>{c(!1),Tt?Tt.email===k1?(t(Tt),g(null)):(Ov(xc),g(`Access Denied: ${Tt.email} is not authorized.`)):t(null)});return()=>Q()},[]),wt.useEffect(()=>{if(!s)return;const Q=U0(Wd,"users",s.uid,"expenses");return GD(Q,Tt=>{const gt=Tt.docs.map(Yt=>({id:Yt.id,...Yt.data(),date:Yt.data().date?.toDate?Yt.data().date.toDate():new Date(Yt.data().date)}));gt.sort((Yt,Gt)=>Gt.date-Yt.date),r(gt)})},[s]),wt.useEffect(()=>{localStorage.setItem("monthly_budget",Mt)},[Mt]),wt.useEffect(()=>{localStorage.setItem("custom_categories",JSON.stringify(k))},[k]),wt.useEffect(()=>{localStorage.setItem("payment_modes",JSON.stringify(lt))},[lt]);const Tr=async()=>{try{g(null);const Q=new ys;await UR(xc,Q)}catch(Q){console.error(Q),g(Q.message)}},ye=async()=>{await Ov(xc)},te=(Q,Tt="success")=>y({message:Q,type:Tt}),Yn=Q=>{const[Tt,gt]=Nt.split("-").map(Number),Yt=new Date(Tt,gt-1+Q,15);re(Yt.toISOString().slice(0,7))},da=(Q=null)=>{Q?(Dt(Q.id),ft(Q.type||"expense"),Wt(Q.amount),Qn(Q.category),Kn(Q.paymentMode||"Cash"),Yi(Q.description||""),Xi(Q.date.toISOString().split("T")[0])):(Dt(null),ft("expense"),Wt(""),Qn(""),Kn("Cash"),Yi(""),Xi(new Date().toISOString().split("T")[0])),G(!0)},ma=async Q=>{if(Q.preventDefault(),!ge||!s)return;const Tt=mi||(it==="expense"?M[0]:N[0]),gt=Ki||"Cash",Yt={type:it,amount:parseFloat(ge),category:Tt,paymentMode:gt,description:vn,date:new Date(gi),updatedAt:oe.now()};try{const Gt=U0(Wd,"users",s.uid,"expenses");yt?(await qD(wm(Gt,yt),Yt),te("Updated successfully")):(Yt.createdAt=oe.now(),await FD(Gt,Yt),te("Added successfully")),G(!1)}catch(Gt){console.error(Gt),te("Save failed","error")}},Be=(Q,Tt)=>{Tt&&Tt.stopPropagation(),st({isOpen:!0,id:Q})},$i=async()=>{if(!(!s||!Z.id))try{const Q=wm(Wd,"users",s.uid,"expenses",Z.id);await HD(Q),te("Transaction deleted"),yt===Z.id&&(G(!1),Dt(null))}catch(Q){console.error("Delete Error:",Q),te("Delete failed","error")}finally{st({isOpen:!1,id:null})}},Er=()=>{if(H.trim()){const Q=H.trim();[...M,...N,...k].includes(Q)||(w([...k,Q]),Qn(Q),te("Category added")),et(""),me(!1)}},br=()=>{if(Y.trim()){const Q=Y.trim();lt.includes(Q)||(zt([...lt,Q]),Kn(Q),te("Payment method added")),nt(""),x(!1)}},pi=()=>{if(Xn.length===0)return te("No data to export","error");const Q=["Date","Type","Category","Payment Mode","Amount","Description"],Tt=Xn.map(Gt=>[Gt.date.toLocaleDateString("en-IN"),Gt.type||"expense",Gt.category,Gt.paymentMode||"Cash",Gt.amount,`"${Gt.description||""}"`]),gt="data:text/csv;charset=utf-8,"+Q.join(",")+`
`+Tt.map(Gt=>Gt.join(",")).join(`
`),Yt=document.createElement("a");Yt.href=encodeURI(gt),Yt.download=`fin_data_${Nt}.csv`,document.body.appendChild(Yt),Yt.click(),document.body.removeChild(Yt)},Io=it==="expense"?[...M,...k]:N,Xn=wt.useMemo(()=>i.filter(Q=>{const Tt=Q.date.toISOString().slice(0,7)===Nt,gt=W.toLowerCase(),Yt=!gt||Q.category.toLowerCase().includes(gt)||(Q.description||"").toLowerCase().includes(gt)||(Q.paymentMode||"").toLowerCase().includes(gt),Gt=vt==="All"||Q.category===vt||vt==="Income"&&Q.type==="income";return Tt&&Yt&&Gt}),[i,Nt,W,vt]),Ji=wt.useMemo(()=>{let Q=0,Tt=0;Xn.forEach($n=>{$n.type==="income"?Q+=$n.amount:Tt+=$n.amount});const gt=new Date(Nt.split("-")[0],Nt.split("-")[1],0).getDate(),Yt=new Date().getDate(),Gt=Nt===new Date().toISOString().slice(0,7)?Yt:gt;return{income:Q,expense:Tt,balance:Q-Tt,dailyAvg:Gt>0?Math.round(Tt/Gt):0}},[Xn,Nt]),Ar=wt.useMemo(()=>{const Q={};return Xn.forEach(Tt=>{const gt=Tt.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"});Q[gt]||(Q[gt]=[]),Q[gt].push(Tt)}),Q},[Xn]),Tn=wt.useMemo(()=>{const Q=new Set(i.filter(Tt=>Tt.date.toISOString().slice(0,7)===Nt).map(Tt=>Tt.category));return["All",...Array.from(Q)]},[i,Nt]),Ue=(Q,Tt)=>{if(Tt==="income")return U.jsx(Dx,{className:"w-5 h-5 text-emerald-500"});const gt=Q.toLowerCase();return gt.includes("food")||gt.includes("dine")?"":gt.includes("shop")?"":gt.includes("transport")||gt.includes("fuel")?"":gt.includes("rent")?"":gt.includes("health")?"":gt.includes("entertain")?"":gt.includes("grocery")?"":""},un=Q=>{const Tt=(Q||"").toLowerCase();return Tt.includes("card")||Tt.includes("credit")||Tt.includes("debit")?U.jsx(fx,{className:"w-3 h-3 text-indigo-400"}):Tt.includes("bank")||Tt.includes("transfer")?U.jsx(_x,{className:"w-3 h-3 text-blue-400"}):Tt.includes("upi")||Tt.includes("gpay")?U.jsx(q0,{className:"w-3 h-3 text-purple-400"}):U.jsx(nx,{className:"w-3 h-3 text-green-400"})};return Nm?l?U.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:U.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 rounded-full border-t-transparent"})}):s?U.jsxs("div",{className:`min-h-screen font-sans pb-28 transition-colors duration-300 ${E?"bg-[#09090b] text-gray-100":"bg-slate-50 text-slate-900"}`,children:[_&&U.jsx(Vx,{message:_.message,type:_.type,onClose:()=>y(null)}),U.jsx(kx,{isOpen:Z.isOpen,title:"Delete Transaction?",message:"This action cannot be undone.",onConfirm:$i,onCancel:()=>st({isOpen:!1,id:null}),isDarkMode:E}),U.jsxs("div",{className:`sticky top-0 z-20 px-5 py-4 flex justify-between items-center backdrop-blur-xl border-b ${E?"bg-[#09090b]/80 border-white/5":"bg-white/80 border-slate-200"}`,children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:U.jsx(V1,{className:"w-5 h-5"})}),U.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"FinManager"})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>A(!E),className:`p-2.5 rounded-full ${E?"bg-white/10 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:E?U.jsx(Ix,{className:"w-5 h-5"}):U.jsx(Sx,{className:"w-5 h-5"})}),U.jsx("button",{onClick:ye,className:"p-2.5 rounded-full bg-red-100 text-red-500 hover:bg-red-200 transition-colors",children:U.jsx(bx,{className:"w-5 h-5"})})]})]}),U.jsxs("div",{className:"max-w-md mx-auto px-5 pt-6 space-y-6",children:[U.jsxs("div",{className:"relative overflow-hidden rounded-[28px] p-6 shadow-2xl shadow-indigo-500/20 bg-gradient-to-br from-[#1e1b4b] to-[#4338ca] text-white",children:[U.jsxs("div",{className:"relative z-10",children:[U.jsxs("div",{className:"flex justify-between items-start",children:[U.jsxs("div",{children:[U.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-1",children:"Balance"}),U.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[U.jsx("span",{className:"text-indigo-300 mr-1",children:""}),Ji.balance.toLocaleString("en-IN")]})]}),U.jsxs("div",{className:"text-right",children:[U.jsx("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Daily Avg"}),U.jsxs("p",{className:"text-xl font-bold",children:["",Ji.dailyAvg]})]})]}),U.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[U.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 mb-1",children:[U.jsx(WD,{className:"w-4 h-4"}),U.jsx("span",{className:"text-xs font-bold uppercase",children:"Income"})]}),U.jsxs("p",{className:"font-semibold text-lg",children:["",Ji.income.toLocaleString("en-IN")]})]}),U.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 backdrop-blur-md border border-white/5",children:[U.jsxs("div",{className:"flex items-center gap-2 text-rose-300 mb-1",children:[U.jsx(q0,{className:"w-4 h-4"}),U.jsx("span",{className:"text-xs font-bold uppercase",children:"Expense"})]}),U.jsxs("p",{className:"font-semibold text-lg",children:["",Ji.expense.toLocaleString("en-IN")]})]})]})]}),U.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500 rounded-full blur-[60px] opacity-30"})]}),U.jsxs("div",{className:"sticky top-[73px] z-10 space-y-3 pb-2 pt-2 transition-colors",children:[U.jsxs("div",{className:"flex gap-2",children:[U.jsxs("div",{className:`flex-1 flex items-center justify-between p-1.5 rounded-2xl border backdrop-blur-md ${E?"bg-[#09090b]/90 border-white/5":"bg-white/95 border-slate-200 shadow-sm"}`,children:[U.jsx("button",{onClick:()=>Yn(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:U.jsx(ox,{className:"w-4 h-4"})}),U.jsxs("span",{className:"text-sm font-bold flex items-center gap-2",children:[U.jsx(sx,{className:"w-3 h-3 text-gray-400"}),new Date(Nt).toLocaleDateString("en-IN",{month:"short",year:"numeric"})]}),U.jsx("button",{onClick:()=>Yn(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl",children:U.jsx(ux,{className:"w-4 h-4"})})]}),U.jsx("button",{onClick:pi,className:`p-3 rounded-2xl border flex items-center justify-center ${E?"bg-[#18181b] border-white/5":"bg-white border-slate-200 shadow-sm"}`,children:U.jsx(mx,{className:"w-5 h-5 text-indigo-500"})})]}),U.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Tn.map(Q=>U.jsx("button",{onClick:()=>pt(Q),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${vt===Q?"bg-indigo-600 border-indigo-600 text-white":E?"bg-[#18181b] border-white/10 text-gray-400":"bg-white border-slate-200 text-slate-600"}`,children:Q},Q))})]}),U.jsxs("div",{className:"space-y-6",children:[Object.entries(Ar).map(([Q,Tt])=>U.jsxs("div",{children:[U.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 px-1",children:Q}),U.jsx("div",{className:"space-y-3",children:Tt.map(gt=>U.jsxs("div",{onClick:()=>da(gt),className:`group flex items-center gap-4 p-4 rounded-2xl border transition-all cursor-pointer active:scale-[0.98] ${E?"bg-[#18181b] border-white/5 hover:bg-white/5":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`,children:[U.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-lg ${gt.type==="income"?"bg-emerald-500/10":E?"bg-white/5":"bg-slate-100"}`,children:Ue(gt.category,gt.type)}),U.jsxs("div",{className:"flex-1 min-w-0",children:[U.jsx("h5",{className:"font-bold text-sm truncate",children:gt.category}),U.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[U.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-white/5 px-1.5 py-0.5 rounded text-[10px]",children:[un(gt.paymentMode),gt.paymentMode||"Cash"]}),U.jsx("span",{className:"truncate max-w-[100px]",children:gt.description||"No description"})]})]}),U.jsxs("div",{className:`font-bold ${gt.type==="income"?"text-emerald-500":E?"text-gray-100":"text-slate-900"}`,children:[gt.type==="income"?"+":"-","",gt.amount.toLocaleString("en-IN")]}),U.jsx("button",{onClick:Yt=>Be(gt.id,Yt),className:`p-2 rounded-lg transition-all ${E?"text-gray-600 hover:text-red-400 hover:bg-white/5":"text-gray-300 hover:text-red-500 hover:bg-red-50"}`,children:U.jsx(M1,{className:"w-4 h-4"})})]},gt.id))})]},Q)),Object.keys(Ar).length===0&&U.jsxs("div",{className:"text-center py-12 opacity-40",children:[U.jsx(px,{className:"w-12 h-12 mx-auto mb-2"}),U.jsx("p",{children:"No transactions"})]})]})]}),U.jsx("button",{onClick:()=>da(),className:"fixed bottom-6 right-6 h-14 w-14 bg-indigo-600 rounded-full text-white shadow-xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-30",children:U.jsx(Zd,{className:"w-7 h-7"})}),O&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>G(!1)}),U.jsxs("div",{className:`fixed bottom-0 left-0 right-0 p-6 rounded-t-[32px] z-50 transition-transform duration-300 animate-slide-up ${E?"bg-[#1c1c1f]":"bg-white"}`,children:[U.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6"}),U.jsxs("form",{onSubmit:ma,className:"space-y-6",children:[!yt&&U.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/30 p-1 rounded-2xl mb-6",children:[U.jsx("button",{type:"button",onClick:()=>ft("expense"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${it==="expense"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-500"}`,children:"Expense"}),U.jsx("button",{type:"button",onClick:()=>ft("income"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${it==="income"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-500"}`,children:"Income"})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Amount"}),U.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[U.jsx("span",{className:`text-3xl font-bold ${it==="income"?"text-emerald-500":"text-rose-500"}`,children:""}),U.jsx("input",{autoFocus:!0,type:"number",value:ge,onChange:Q=>Wt(Q.target.value),placeholder:"0",className:`text-5xl font-bold bg-transparent outline-none w-48 text-center ${E?"text-white":"text-gray-900"}`})]})]}),U.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Category"}),le?U.jsxs("div",{className:"flex gap-2",children:[U.jsx("input",{type:"text",value:H,onChange:Q=>et(Q.target.value),placeholder:"Name...",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),U.jsx("button",{type:"button",onClick:Er,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:U.jsx(Im,{className:"w-4 h-4"})}),U.jsx("button",{type:"button",onClick:()=>me(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:U.jsx(H0,{className:"w-4 h-4"})})]}):U.jsxs("div",{className:"flex gap-2",children:[U.jsxs("select",{value:mi,onChange:Q=>Qn(Q.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:[U.jsx("option",{value:"",disabled:!0,children:"Select..."}),Io.map(Q=>U.jsx("option",{value:Q,children:Q},Q))]}),it==="expense"&&U.jsx("button",{type:"button",onClick:()=>me(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl",children:U.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Date"}),U.jsx("input",{type:"date",value:gi,onChange:Q=>Xi(Q.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Account / Pay Via"}),Ft?U.jsxs("div",{className:"flex gap-2",children:[U.jsx("input",{type:"text",value:Y,onChange:Q=>nt(Q.target.value),placeholder:"e.g. HDFC Credit Card",className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`}),U.jsx("button",{type:"button",onClick:br,className:"bg-indigo-600 text-white p-3.5 rounded-2xl",children:U.jsx(Im,{className:"w-4 h-4"})}),U.jsx("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-200 dark:bg-white/10 p-3.5 rounded-2xl",children:U.jsx(H0,{className:"w-4 h-4"})})]}):U.jsxs("div",{className:"flex gap-2",children:[U.jsx("select",{value:Ki,onChange:Q=>Kn(Q.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm appearance-none ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`,children:lt.map(Q=>U.jsx("option",{value:Q,children:Q},Q))}),U.jsx("button",{type:"button",onClick:()=>x(!0),className:"p-3.5 bg-gray-100 dark:bg-white/5 rounded-2xl border border-transparent dark:border-white/5",children:U.jsx(Zd,{className:"w-4 h-4 text-gray-500"})})]})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-bold text-gray-500 pl-1",children:"Description"}),U.jsx("input",{type:"text",placeholder:"Note (optional)",value:vn,onChange:Q=>Yi(Q.target.value),className:`w-full p-3.5 rounded-2xl border outline-none text-sm ${E?"bg-black/20 border-white/10":"bg-gray-50 border-gray-200"}`})]}),U.jsxs("div",{className:"pt-2 space-y-3",children:[U.jsxs("button",{type:"submit",className:`w-full font-bold py-4 rounded-2xl shadow-lg text-white active:scale-[0.98] transition-all text-lg ${it==="income"?"bg-emerald-600 shadow-emerald-500/20":"bg-indigo-600 shadow-indigo-500/20"}`,children:[yt?"Update":"Save"," ",it==="income"?"Income":"Expense"]}),yt&&U.jsx("button",{type:"button",onClick:()=>Be(yt),className:"w-full py-3.5 text-red-500 font-bold text-sm bg-red-500/10 rounded-2xl hover:bg-red-500/20 transition-colors",children:"Delete Transaction"})]})]})]})]})]}):U.jsx(Ux,{onLogin:Tr,error:d}):U.jsx(Lx,{})}EA.createRoot(document.getElementById("root")).render(U.jsx(wt.StrictMode,{children:U.jsx(Px,{})}));
